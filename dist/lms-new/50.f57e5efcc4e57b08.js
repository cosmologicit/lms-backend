"use strict";(self.webpackChunklms_new=self.webpackChunklms_new||[]).push([[50],{7050:(Wd,qe,h)=>{h.r(qe),h.d(qe,{ClassModule:()=>Bd});var p=h(6895),e=h(4650),te=h(7376),E=h(3353),g=h(1281),R=h(2693),b=h(7579),D=h(727),Mt=h(4986),qt=h(5963);function ye(i=0,o=Mt.z){return i<0&&(i=0),(0,qt.H)(i,i,o)}var yt=h(6406),Ze=h(9751),G=h(6451),V=h(2722),B=h(8675),ie=h(4004),ne=h(5698),Zt=h(8505),It=h(3900),Ie=h(445);function se(i,o,t){for(let n in o)if(o.hasOwnProperty(n)){const s=o[n];s?i.setProperty(n,s,t?.has(n)?"important":""):i.removeProperty(n)}return i}function P(i,o){const t=o?"":"none";se(i.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function ke(i,o,t){se(i.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},t)}function z(i,o){return o&&"none"!=o?i+" "+o:i}function Se(i){const o=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*o}function oe(i,o){return i.getPropertyValue(o).split(",").map(n=>n.trim())}function ae(i){const o=i.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function re(i,o,t){const{top:n,bottom:s,left:a,right:r}=i;return t>=n&&t<=s&&o>=a&&o<=r}function j(i,o,t){i.top+=o,i.bottom=i.top+i.height,i.left+=t,i.right=i.left+i.width}function Ee(i,o,t,n){const{top:s,right:a,bottom:r,left:d,width:l,height:u}=i,_=l*o,f=u*o;return n>s-f&&n<r+f&&t>d-_&&t<a+_}class Ne{constructor(o){this._document=o,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ae(t)})})}handleScroll(o){const t=(0,E.sA)(o),n=this.positions.get(t);if(!n)return null;const s=n.scrollPosition;let a,r;if(t===this._document){const u=this.getViewportScrollPosition();a=u.top,r=u.left}else a=t.scrollTop,r=t.scrollLeft;const d=s.top-a,l=s.left-r;return this.positions.forEach((u,_)=>{u.clientRect&&t!==_&&t.contains(_)&&j(u.clientRect,d,l)}),s.top=a,s.left=r,{top:d,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Oe(i){const o=i.cloneNode(!0),t=o.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();o.removeAttribute("id");for(let s=0;s<t.length;s++)t[s].removeAttribute("id");return"canvas"===n?Qe(i,o):("input"===n||"select"===n||"textarea"===n)&&Je(i,o),De("canvas",i,o,Qe),De("input, textarea, select",i,o,Je),o}function De(i,o,t,n){const s=o.querySelectorAll(i);if(s.length){const a=t.querySelectorAll(i);for(let r=0;r<s.length;r++)n(s[r],a[r])}}let St=0;function Je(i,o){"file"!==o.type&&(o.value=i.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${St++}`)}function Qe(i,o){const t=o.getContext("2d");if(t)try{t.drawImage(i,0,0)}catch{}}const Ue=(0,E.i$)({passive:!0}),W=(0,E.i$)({passive:!1}),de=new Set(["position"]);class Nt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){const t=(0,g.Ig)(o);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(n=>P(n,t)))}constructor(o,t,n,s,a,r){this._config=t,this._document=n,this._ngZone=s,this._viewportRuler=a,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new b.x,this._pointerMoveSubscription=D.w0.EMPTY,this._pointerUpSubscription=D.w0.EMPTY,this._scrollSubscription=D.w0.EMPTY,this._resizeSubscription=D.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new b.x,this.started=new b.x,this.released=new b.x,this.ended=new b.x,this.entered=new b.x,this.exited=new b.x,this.dropped=new b.x,this.moved=this._moveEvents,this._pointerDown=d=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(d);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,d)}else this.disabled||this._initializeDragSequence(this._rootElement,d)},this._pointerMove=d=>{const l=this._getPointerPositionOnPage(d);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const M=Date.now()>=this._dragStartTime+this._getDragStartDelay(d),T=this._dropContainer;if(!M)return void this._endDragSequence(d);(!T||!T.isDragging()&&!T.isReceiving())&&(d.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(d)))}return}d.preventDefault();const u=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(u),this._dropContainer)this._updateActiveDropContainer(u,l);else{const _=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,f=this._activeTransform;f.x=u.x-_.x+this._passiveTransform.x,f.y=u.y-_.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:u,event:d,distance:this._getDragDistance(u),delta:this._pointerDirectionDelta})})},this._pointerUp=d=>{this._endDragSequence(d)},this._nativeDragStart=d=>{if(this._handles.length){const l=this._getTargetHandle(d);l&&!this._disabledHandles.has(l)&&!this.disabled&&d.preventDefault()}else this.disabled||d.preventDefault()},this.withRootElement(o).withParent(t.parentDragRef||null),this._parentPositions=new Ne(n),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(n=>(0,g.fI)(n)),this._handles.forEach(n=>P(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const t=(0,g.fI)(o);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,W),t.addEventListener("touchstart",this._pointerDown,Ue),t.addEventListener("dragstart",this._nativeDragStart,W)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?(0,g.fI)(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),P(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),P(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){F(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const n=this._rootElement,s=n.parentNode,a=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),d=this._getShadowRoot();s.insertBefore(r,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),ke(n,!1,de),this._document.body.appendChild(s.replaceChild(a,n)),this._getPreviewInsertionPoint(s,d).appendChild(this._preview),this.started.next({source:this,event:o}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(o,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),s=F(t),a=!s&&0!==t.button,r=this._rootElement,d=(0,E.sA)(t),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),u=s?(0,R.yG)(t):(0,R.X6)(t);if(d&&d.draggable&&"mousedown"===t.type&&t.preventDefault(),n||a||l||u)return;if(this._handles.length){const w=r.style;this._rootElementTapHighlight=w.webkitTapHighlightColor||"",w.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(w=>this._updateOnScroll(w)),this._boundaryElement&&(this._boundaryRect=ae(this._boundaryElement));const _=this._previewTemplate;this._pickupPositionInElement=_&&_.template&&!_.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,o,t);const f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(o){ke(this._rootElement,!0,de),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),s=this._getPointerPositionOnPage(o),a=this._getDragDistance(s),r=t._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:a,dropPoint:s,event:o}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:a,dropPoint:s,event:o}),t.drop(this,n,this._initialIndex,this._initialContainer,r,a,s,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:t},{x:n,y:s}){let a=this._initialContainer._getSiblingContainerFromPosition(this,o,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,o,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,s),this._dropContainer._sortItem(this,o,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,t):this._applyPreviewTransform(o-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,t=this.previewClass,n=o?o.template:null;let s;if(n&&o){const a=o.matchSize?this._initialClientRect:null,r=o.viewContainer.createEmbeddedView(n,o.context);r.detectChanges(),s=Re(r,this._document),this._previewRef=r,o.matchSize?je(s,a):s.style.transform=K(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else s=Oe(this._rootElement),je(s,this._initialClientRect),this._initialTransform&&(s.style.transform=this._initialTransform);return se(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},de),P(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>s.classList.add(a)):s.classList.add(t)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const t=function kt(i){const o=getComputedStyle(i),t=oe(o,"transition-property"),n=t.find(d=>"transform"===d||"all"===d);if(!n)return 0;const s=t.indexOf(n),a=oe(o,"transition-duration"),r=oe(o,"transition-delay");return Se(a[s])+Se(r[s])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const s=r=>{(!r||(0,E.sA)(r)===this._preview&&"transform"===r.propertyName)&&(this._preview?.removeEventListener("transitionend",s),n(),clearTimeout(a))},a=setTimeout(s,1.5*t);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,t=o?o.template:null;let n;return t?(this._placeholderRef=o.viewContainer.createEmbeddedView(t,o.context),this._placeholderRef.detectChanges(),n=Re(this._placeholderRef,this._document)):n=Oe(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(o,t,n){const s=t===this._rootElement?null:t,a=s?s.getBoundingClientRect():o,r=F(n)?n.targetTouches[0]:n,d=this._getViewportScrollPosition();return{x:a.left-o.left+(r.pageX-a.left-d.left),y:a.top-o.top+(r.pageY-a.top-d.top)}}_getPointerPositionOnPage(o){const t=this._getViewportScrollPosition(),n=F(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,s=n.pageX-t.left,a=n.pageY-t.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const d=this._ownerSVGElement.createSVGPoint();return d.x=s,d.y=a,d.matrixTransform(r.inverse())}}return{x:s,y:a}}_getConstrainedPointerPosition(o){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:s}=this.constrainPosition?this.constrainPosition(o,this,this._initialClientRect,this._pickupPositionInElement):o;if("x"===this.lockAxis||"x"===t?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:r}=this._pickupPositionInElement,d=this._boundaryRect,{width:l,height:u}=this._getPreviewRect(),_=d.top+r,f=d.bottom-(u-r);n=Pe(n,d.left+a,d.right-(l-a)),s=Pe(s,_,f)}return{x:n,y:s}}_updatePointerDirectionDelta(o){const{x:t,y:n}=o,s=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-a.x),d=Math.abs(n-a.y);return r>this._config.pointerDirectionChangeThreshold&&(s.x=t>a.x?1:-1,a.x=t),d>this._config.pointerDirectionChangeThreshold&&(s.y=n>a.y?1:-1,a.y=n),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,P(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,W),o.removeEventListener("touchstart",this._pointerDown,Ue),o.removeEventListener("dragstart",this._nativeDragStart,W)}_applyRootElementTransform(o,t){const n=K(o,t),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=z(n,this._initialTransform)}_applyPreviewTransform(o,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,s=K(o,t);this._preview.style.transform=z(s,n)}_getDragDistance(o){const t=this._pickupPositionOnPage;return t?{x:o.x-t.x,y:o.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:t}=this._passiveTransform;if(0===o&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===n.width&&0===n.height)return;const a=s.left-n.left,r=n.right-s.right,d=s.top-n.top,l=n.bottom-s.bottom;s.width>n.width?(a>0&&(o+=a),r>0&&(o-=r)):o=0,s.height>n.height?(d>0&&(t+=d),l>0&&(t-=l)):t=0,(o!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:o})}_getDragStartDelay(o){const t=this.dragStartDelay;return"number"==typeof t?t:F(o)?t.touch:t?t.mouse:0}_updateOnScroll(o){const t=this._parentPositions.handleScroll(o);if(t){const n=(0,E.sA)(o);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&j(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,E.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,t){const n=this._previewContainer||"global";if("parent"===n)return o;if("global"===n){const s=this._document;return t||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return(0,g.fI)(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(o){return this._handles.find(t=>o.target&&(o.target===t||t.contains(o.target)))}}function K(i,o){return`translate3d(${Math.round(i)}px, ${Math.round(o)}px, 0)`}function Pe(i,o,t){return Math.max(o,Math.min(t,i))}function F(i){return"t"===i.type[0]}function Re(i,o){const t=i.rootNodes;if(1===t.length&&t[0].nodeType===o.ELEMENT_NODE)return t[0];const n=o.createElement("div");return t.forEach(s=>n.appendChild(s)),n}function je(i,o){i.style.width=`${o.width}px`,i.style.height=`${o.height}px`,i.style.transform=K(o.left,o.top)}function ce(i,o,t){const n=Y(o,i.length-1),s=Y(t,i.length-1);if(n===s)return;const a=i[n],r=s<n?-1:1;for(let d=n;d!==s;d+=r)i[d]=i[d+r];i[s]=a}function Y(i,o){return Math.max(0,Math.min(o,i))}class Ot{constructor(o,t){this._element=o,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(o){this.withItems(o)}sort(o,t,n,s){const a=this._itemPositions,r=this._getItemIndexFromPointerPosition(o,t,n,s);if(-1===r&&a.length>0)return null;const d="horizontal"===this.orientation,l=a.findIndex(k=>k.drag===o),u=a[r],f=u.clientRect,w=l>r?1:-1,M=this._getItemOffsetPx(a[l].clientRect,f,w),T=this._getSiblingOffsetPx(l,a,w),U=a.slice();return ce(a,l,r),a.forEach((k,zd)=>{if(U[zd]===k)return;const Tt=k.drag===o,Me=Tt?M:T,wt=Tt?o.getPlaceholderElement():k.drag.getRootElement();k.offset+=Me,d?(wt.style.transform=z(`translate3d(${Math.round(k.offset)}px, 0, 0)`,k.initialTransform),j(k.clientRect,0,Me)):(wt.style.transform=z(`translate3d(0, ${Math.round(k.offset)}px, 0)`,k.initialTransform),j(k.clientRect,Me,0))}),this._previousSwap.overlaps=re(f,t,n),this._previousSwap.drag=u.drag,this._previousSwap.delta=d?s.x:s.y,{previousIndex:l,currentIndex:r}}enter(o,t,n,s){const a=null==s||s<0?this._getItemIndexFromPointerPosition(o,t,n):s,r=this._activeDraggables,d=r.indexOf(o),l=o.getPlaceholderElement();let u=r[a];if(u===o&&(u=r[a+1]),!u&&(null==a||-1===a||a<r.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(u=r[0]),d>-1&&r.splice(d,1),u&&!this._dragDropRegistry.isDragging(u)){const _=u.getRootElement();_.parentElement.insertBefore(l,_),r.splice(a,0,o)}else(0,g.fI)(this._element).appendChild(l),r.push(o);l.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables.forEach(o=>{const t=o.getRootElement();if(t){const n=this._itemPositions.find(s=>s.drag===o)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===o)}updateOnScroll(o,t){this._itemPositions.forEach(({clientRect:n})=>{j(n,o,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const o="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:ae(n)}}).sort((t,n)=>o?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(o,t,n){const s="horizontal"===this.orientation;let a=s?t.left-o.left:t.top-o.top;return-1===n&&(a+=s?t.width-o.width:t.height-o.height),a}_getSiblingOffsetPx(o,t,n){const s="horizontal"===this.orientation,a=t[o].clientRect,r=t[o+-1*n];let d=a[s?"width":"height"]*n;if(r){const l=s?"left":"top",u=s?"right":"bottom";-1===n?d-=r.clientRect[l]-a[u]:d+=a[l]-r.clientRect[u]}return d}_shouldEnterAsFirstChild(o,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,s="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return s?o>=r.right:t>=r.bottom}{const r=n[0].clientRect;return s?o<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(o,t,n,s){const a="horizontal"===this.orientation,r=this._itemPositions.findIndex(({drag:d,clientRect:l})=>d!==o&&((!s||d!==this._previousSwap.drag||!this._previousSwap.overlaps||(a?s.x:s.y)!==this._previousSwap.delta)&&(a?t>=Math.floor(l.left)&&t<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom))));return-1!==r&&this._sortPredicate(r,o)?r:-1}}const Ye=.05;class Dt{constructor(o,t,n,s,a){this._dragDropRegistry=t,this._ngZone=s,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new b.x,this.entered=new b.x,this.exited=new b.x,this.dropped=new b.x,this.sorted=new b.x,this.receivingStarted=new b.x,this.receivingStopped=new b.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=D.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new b.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),ye(0,yt.Z).pipe((0,V.R)(this._stopScrollTimers)).subscribe(()=>{const r=this._scrollNode,d=this.autoScrollStep;1===this._verticalScrollDirection?r.scrollBy(0,-d):2===this._verticalScrollDirection&&r.scrollBy(0,d),1===this._horizontalScrollDirection?r.scrollBy(-d,0):2===this._horizontalScrollDirection&&r.scrollBy(d,0)})},this.element=(0,g.fI)(o),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Ne(n),this._sortStrategy=new Ot(this.element,t),this._sortStrategy.withSortPredicate((r,d)=>this.sortPredicate(r,d,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,t,n,s){this._draggingStarted(),null==s&&this.sortingDisabled&&(s=this._draggables.indexOf(o)),this._sortStrategy.enter(o,t,n,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,t,n,s,a,r,d,l={}){this._reset(),this.dropped.next({item:o,currentIndex:t,previousIndex:n,container:this,previousContainer:s,isPointerOverContainer:a,distance:r,dropPoint:d,event:l})}withItems(o){const t=this._draggables;return this._draggables=o,o.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(s=>s.isDragging()).every(s=>-1===o.indexOf(s))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._sortStrategy.direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._sortStrategy.orientation=o,this}withScrollableParents(o){const t=(0,g.fI)(this.element);return this._scrollableElements=-1===o.indexOf(t)?[t,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,t,n,s){if(this.sortingDisabled||!this._clientRect||!Ee(this._clientRect,.05,t,n))return;const a=this._sortStrategy.sort(o,t,n,s);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,t){if(this.autoScrollDisabled)return;let n,s=0,a=0;if(this._parentPositions.positions.forEach((r,d)=>{d===this._document||!r.clientRect||n||Ee(r.clientRect,.05,o,t)&&([s,a]=function Jt(i,o,t,n){const s=Le(o,n),a=He(o,t);let r=0,d=0;if(s){const l=i.scrollTop;1===s?l>0&&(r=1):i.scrollHeight-l>i.clientHeight&&(r=2)}if(a){const l=i.scrollLeft;1===a?l>0&&(d=1):i.scrollWidth-l>i.clientWidth&&(d=2)}return[r,d]}(d,r.clientRect,o,t),(s||a)&&(n=d))}),!s&&!a){const{width:r,height:d}=this._viewportRuler.getViewportSize(),l={width:r,height:d,top:0,right:r,bottom:d,left:0};s=Le(l,t),a=He(l,o),n=window}n&&(s!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=a,this._scrollNode=n,(s||a)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=(0,g.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=(0,g.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_reset(){this._isDragging=!1;const o=(0,g.fI)(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(o,t){return null!=this._clientRect&&re(this._clientRect,o,t)}_getSiblingContainerFromPosition(o,t,n){return this._siblings.find(s=>s._canReceive(o,t,n))}_canReceive(o,t,n){if(!this._clientRect||!re(this._clientRect,t,n)||!this.enterPredicate(o,this))return!1;const s=this._getShadowRoot().elementFromPoint(t,n);if(!s)return!1;const a=(0,g.fI)(this.element);return s===a||a.contains(s)}_startReceiving(o,t){const n=this._activeSiblings;!n.has(o)&&t.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(n.add(o),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:o,receiver:this,items:t}))}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:o,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(o);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,E.kV)((0,g.fI)(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,o))}}function Le(i,o){const{top:t,bottom:n,height:s}=i,a=s*Ye;return o>=t-a&&o<=t+a?1:o>=n-a&&o<=n+a?2:0}function He(i,o){const{left:t,right:n,width:s}=i,a=s*Ye;return o>=t-a&&o<=t+a?1:o>=n-a&&o<=n+a?2:0}const $=(0,E.i$)({passive:!1,capture:!0});let Qt=(()=>{class i{constructor(t,n){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new b.x,this.pointerUp=new b.x,this.scroll=new b.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,$)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,$)}startDragging(t,n){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const s=n.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:$}),s||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:$}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,r)=>{this._document.addEventListener(r,a.handler,a.options)})})}}stopDragging(t){const n=this._activeDragInstances.indexOf(t);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new Ze.y(s=>this._ngZone.runOutsideAngular(()=>{const r=d=>{this._activeDragInstances.length&&s.next(d)};return t.addEventListener("scroll",r,!0),()=>{t.removeEventListener("scroll",r,!0)}}))),(0,G.T)(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.R0b),e.LFG(p.K0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ut={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let le=(()=>{class i{constructor(t,n,s,a){this._document=t,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=a}createDrag(t,n=Ut){return new Nt(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Dt(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(p.K0),e.LFG(e.R0b),e.LFG(te.rL),e.LFG(Qt))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ue=new e.OlP("CDK_DRAG_PARENT"),pe=new e.OlP("CdkDropListGroup"),Ge=new e.OlP("CDK_DRAG_CONFIG");let Rt=0;const Ve=new e.OlP("CdkDropList");let Be=(()=>{class i{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=(0,g.Ig)(t)}constructor(t,n,s,a,r,d,l){this.element=t,this._changeDetectorRef=s,this._scrollDispatcher=a,this._dir=r,this._group=d,this._destroyed=new b.x,this.connectedTo=[],this.id="cdk-drop-list-"+Rt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(u,_)=>this.enterPredicate(u.data,_.data),this._dropListRef.sortPredicate=(u,_,f)=>this.sortPredicate(u,_.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),d&&d._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=i._dropLists.indexOf(this);t>-1&&i._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,B.O)(this._dir.value),(0,V.R)(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=(0,g.Eq)(this.connectedTo).map(s=>"string"==typeof s?i._dropLists.find(r=>r.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===n.indexOf(s)&&n.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,g.Ig)(this.sortingDisabled),t.autoScrollDisabled=(0,g.Ig)(this.autoScrollDisabled),t.autoScrollStep=(0,g.su)(this.autoScrollStep,2),t.connectedTo(n.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),(0,G.T)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:n,draggingDisabled:s,sortingDisabled:a,listAutoScrollDisabled:r,listOrientation:d}=t;this.disabled=s??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=r??!1,this.orientation=d||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return i._dropLists=[],i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(le),e.Y36(e.sBO),e.Y36(te.mF),e.Y36(Ie.Is,8),e.Y36(pe,12),e.Y36(Ge,8))},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,n){2&t&&(e.uIk("id",n.id),e.ekj("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[e._Bn([{provide:pe,useValue:void 0},{provide:Ve,useExisting:i}])]}),i})();const he=new e.OlP("CdkDragHandle"),ze=new e.OlP("CdkDragPlaceholder"),We=new e.OlP("CdkDragPreview");let Ke=(()=>{class i{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=(0,g.Ig)(t),this._dragRef.disabled=this._disabled}constructor(t,n,s,a,r,d,l,u,_,f,w){this.element=t,this.dropContainer=n,this._ngZone=a,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=_,this._selfHandle=f,this._parentDrag=w,this._destroyed=new b.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new Ze.y(M=>{const T=this._dragRef.moved.pipe((0,ie.U)(U=>({source:this,pointerPosition:U.pointerPosition,event:U.event,delta:U.delta,distance:U.distance}))).subscribe(M);return()=>{T.unsubscribe()}}),this._dragRef=u.createDrag(t,{dragStartThreshold:d&&null!=d.dragStartThreshold?d.dragStartThreshold:5,pointerDirectionChangeThreshold:d&&null!=d.pointerDirectionChangeThreshold?d.pointerDirectionChangeThreshold:5,zIndex:d?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),d&&this._assignDefaults(d),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ne.q)(1),(0,V.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const n=t.rootElementSelector,s=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=i._dragInstances.indexOf(this);t>-1&&i._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,g.fI)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,s=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof s&&s?s:(0,g.su)(s),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe((0,ne.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){t.withParent(i._dragInstances.find(s=>s.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:s,constrainPosition:a,previewClass:r,boundaryElement:d,draggingDisabled:l,rootElementSelector:u,previewContainer:_}=t;this.disabled=l??!1,this.dragStartDelay=s||0,n&&(this.lockAxis=n),a&&(this.constrainPosition=a),r&&(this.previewClass=r),d&&(this.boundaryElement=d),u&&(this.rootElementSelector=u),_&&(this.previewContainer=_)}_setupHandlesListener(){this._handles.changes.pipe((0,B.O)(this._handles),(0,Zt.b)(t=>{const n=t.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),(0,It.w)(t=>(0,G.T)(...t.map(n=>n._stateChanges.pipe((0,B.O)(n))))),(0,V.R)(this._destroyed)).subscribe(t=>{const n=this._dragRef,s=t.element.nativeElement;t.disabled?n.disableHandle(s):n.enableHandle(s)})}}return i._dragInstances=[],i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(Ve,12),e.Y36(p.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Ge,8),e.Y36(Ie.Is,8),e.Y36(le),e.Y36(e.sBO),e.Y36(he,10),e.Y36(ue,12))},i.\u0275dir=e.lG2({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(t,n,s){if(1&t&&(e.Suo(s,We,5),e.Suo(s,ze,5),e.Suo(s,he,5)),2&t){let a;e.iGM(a=e.CRH())&&(n._previewTemplate=a.first),e.iGM(a=e.CRH())&&(n._placeholderTemplate=a.first),e.iGM(a=e.CRH())&&(n._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,n){2&t&&e.ekj("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[e._Bn([{provide:ue,useExisting:i}]),e.TTD]}),i})(),Ht=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[le],imports:[te.ZD]}),i})();var q=h(9127),L=h(8739),J=h(8692),m=h(9585),x=h(5412),v=h(2373),C=h(7185),I=h(867),Q=h(4859),N=h(7392),c=h(4006),y=h(3546);function Gt(i,o){1&i&&(e.TgZ(0,"button",20),e._UZ(1,"i",21),e._uU(2,"\xa0\xa0Add Assignment"),e.qZA()),2&i&&e.Q6J("routerLink","/app/class/assignment-v2/add")}function Vt(i,o){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Bt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",8)(2,"label",9),e._uU(3,"Classes"),e.qZA(),e.TgZ(4,"select",23,24),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedClass=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterAssignment())}),e.YNc(6,Vt,2,2,"option",12),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.selectedClass),e.xp6(2),e.Q6J("ngForOf",t.classes)}}function zt(i,o){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Wt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",40)(2,"mat-icon",41),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deleteAssignment(s.id))}),e.TgZ(5,"mat-icon",43),e._uU(6,"delete"),e.qZA()()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink","/app/class/assignment-v2/edit/"+t.id)}}function Kt(i,o){if(1&i&&(e.TgZ(0,"div",28)(1,"mat-card",29)(2,"div",30),e._UZ(3,"img",31),e.YNc(4,Wt,7,1,"a",32),e.qZA(),e.TgZ(5,"div",33)(6,"div",34)(7,"div",35)(8,"span",36),e._uU(9,"Title"),e.qZA()(),e.TgZ(10,"div",37)(11,"div",38),e._uU(12),e.qZA()()(),e.TgZ(13,"div",39)(14,"div",35)(15,"span",36),e._uU(16,"Max. Marks"),e.qZA()(),e.TgZ(17,"div",37)(18,"div",38),e._uU(19),e.qZA()()()()()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(1),e.Q6J("ngIf","STUDENT"!=n.role),e.xp6(7),e.Q6J("title",t.title),e.xp6(1),e.Oqu(t.title),e.xp6(6),e.Q6J("title",t.totalPositiveMark),e.xp6(1),e.Oqu(t.totalPositiveMark)}}function $t(i,o){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Kt,20,6,"div",27),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredAssignments)}}function Xt(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function ei(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function ti(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().value;e.xp6(1),e.Oqu(t)}}function ii(i,o){if(1&i&&(e.TgZ(0,"div",58)(1,"div",59),e._uU(2),e.qZA(),e.TgZ(3,"div",60),e._uU(4,"/"),e.qZA(),e.TgZ(5,"div",61),e._uU(6),e.qZA()()),2&i){const t=e.oxw(),n=t.row,s=t.value;e.xp6(2),e.Oqu(n.totalMarks),e.xp6(4),e.Oqu(s)}}function ni(i,o){if(1&i&&(e.YNc(0,ti,2,1,"span",32),e.YNc(1,ii,7,2,"div",57)),2&i){const t=o.row,n=e.oxw(2);e.Q6J("ngIf",null==t.totalMarks),e.xp6(1),e.Q6J("ngIf","STUDENT"==n.role&&null!=t.totalMarks)}}function si(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function oi(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",62),e.YNc(1,si,2,1,"ng-template",48),e.qZA()),2&i&&e.Q6J("width",200)}function ai(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function ri(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function di(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(e.xi3(2,1,t,"dd-MM-yyyy"))}}function ci(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(e.xi3(2,1,t,"dd-MM-yyyy"))}}function li(i,o){if(1&i&&e._UZ(0,"i",68),2&i){const t=e.oxw().value;e.Q6J("routerLink","/app/class/assignment/view/"+t)}}function ui(i,o){if(1&i&&e._UZ(0,"i",69),2&i){const t=e.oxw().value;e.Q6J("routerLink","/app/class/assignment/submit/"+t)}}function pi(i,o){if(1&i&&e._UZ(0,"i",70),2&i){const t=e.oxw();e.Q6J("routerLink","/app/class/assignment/submitted/"+t.row.title+"/"+t.value)}}function hi(i,o){if(1&i&&e._UZ(0,"i",71),2&i){const t=e.oxw().value;e.Q6J("routerLink","/app/class/assignment-v2/edit/"+t)}}function mi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",72),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().value,a=e.oxw(2);return e.KtG(a.deleteAssignment(s))}),e.qZA()}}function _i(i,o){if(1&i&&(e.TgZ(0,"div",58),e.YNc(1,li,1,1,"i",63),e.YNc(2,ui,1,1,"i",64),e.YNc(3,pi,1,1,"i",65),e.YNc(4,hi,1,1,"i",66),e.YNc(5,mi,1,0,"i",67),e.qZA()),2&i){const t=o.row,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf","STUDENT"==n.role&&t.isSubmitted),e.xp6(1),e.Q6J("ngIf","STUDENT"==n.role&&!t.isSubmitted),e.xp6(1),e.Q6J("ngIf","STUDENT"!=n.role),e.xp6(1),e.Q6J("ngIf","STUDENT"!=n.role&&n.checkDate(t.startDate)),e.xp6(1),e.Q6J("ngIf","STUDENT"!=n.role)}}function gi(i,o){if(1&i&&(e.TgZ(0,"div",44)(1,"ngx-datatable",45,46)(3,"ngx-datatable-column",47),e.YNc(4,Xt,2,1,"ng-template",48),e.qZA(),e.TgZ(5,"ngx-datatable-column",49),e.YNc(6,ei,2,1,"ng-template",48),e.qZA(),e.TgZ(7,"ngx-datatable-column",50),e.YNc(8,ni,2,2,"ng-template",48),e.qZA(),e.YNc(9,oi,2,1,"ngx-datatable-column",51),e.TgZ(10,"ngx-datatable-column",52),e.YNc(11,ai,2,1,"ng-template",48),e.qZA(),e.TgZ(12,"ngx-datatable-column",53),e.YNc(13,ri,2,1,"ng-template",48),e.qZA(),e.TgZ(14,"ngx-datatable-column",54),e.YNc(15,di,3,4,"ng-template",48),e.qZA(),e.TgZ(16,"ngx-datatable-column",55),e.YNc(17,ci,3,4,"ng-template",48),e.qZA(),e.TgZ(18,"ngx-datatable-column",56),e.YNc(19,_i,6,5,"ng-template",48),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredAssignments)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","STUDENT"!=t.role),e.xp6(1),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200)}}let fi=(()=>{class i{constructor(t,n,s,a){this.dialog=t,this.classService=n,this.toastr=s,this.authService=a,this.toggleValue="table",this.filterAssignmentText="",this.assignments=[],this.filteredAssignments=[],this.role="",this.selectedSubject=0,this.selectedClass=0,this.subjects=[{id:0,name:"All"}],this.classes=[{id:0,name:"All"}],this.ColumnMode=m.hq}ngOnInit(){this.role=this.authService.role;const t=this.classService.getAllClasses().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.classes.push(a)}):this.toastr.error(s.message),t.unsubscribe()}),n=this.classService.getAllSubject().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.subjects.push(a)}):this.toastr.error(s.message),n.unsubscribe()});this.loadTableData()}loadTableData(){this.classService.getAllAssignment().subscribe(n=>{200==n.code?(this.assignments=n.data,this.filteredAssignments=n.data):this.toastr.error(n.message)})}filterAssignment(){if(this.filteredAssignments=[...this.assignments],this.filterAssignmentText?.length>0){let t=this.filterAssignmentText.toLowerCase();this.filteredAssignments=this.assignments.filter(n=>n.title&&n.title.toLowerCase().includes(t))}this.selectedSubject&&0!=this.selectedSubject&&this.selectedClass&&0!=this.selectedClass?this.filteredAssignments=this.filteredAssignments.filter(t=>t.subjectId&&t.subjectId==this.selectedSubject&&t.associationId==this.selectedClass):this.selectedSubject&&0!=this.selectedSubject&&0==this.selectedClass?this.filteredAssignments=this.filteredAssignments.filter(t=>t.subjectId&&t.subjectId==this.selectedSubject):0==this.selectedSubject&&this.selectedClass&&0!=this.selectedClass&&(this.filteredAssignments=this.filteredAssignments.filter(t=>t.associationId==this.selectedClass))}deleteAssignment(t){this.dialog.open(J.z,{width:"50%",autoFocus:!1,data:{title:"Delete Assignement",message:"Are you sure you want to delete the selected assignment?"}}).componentInstance.confirmed.subscribe(s=>{s&&this.classService.deleteAssignment(t).subscribe(r=>{200==r.code?(this.loadTableData(),this.toastr.success(r.message)):this.toastr.error(r.message)})})}checkDate(t){const n=new Date(t);let s=new Date;return s.setHours(0,0,0,0),n>s}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.uw),e.Y36(v.j),e.Y36(C._W),e.Y36(I.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-assignment"]],viewQuery:function(n,s){if(1&n&&e.Gf(L.NW,5),2&n){let a;e.iGM(a=e.CRH())&&(s.paginator=a.first)}},decls:25,vars:7,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"routerLink",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","pe-3"],["style","width: 200px;","class","mt-2 me-3",4,"ngIf"],[1,"mt-2",2,"width","200px"],[1,"form-field"],[1,"label"],["name","subject",1,"form-select","w-100",3,"ngModel","change","ngModelChange"],["subject","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","flex-nowrap","ms-3"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Assignment","type","text","name","searchAssignment",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange","keyup"],["searchAssignment","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-4 px-3",4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-plus-circle"],[1,"mt-2","me-3",2,"width","200px"],["name","class",1,"form-select","w-100",3,"ngModel","ngModelChange","change"],["class","ngModel"],[3,"value"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],["mat-icon-button","","title","Edit",3,"routerLink"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-4","px-3"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Title","prop","title",3,"width"],["name","Marks","prop","totalPositiveMark",3,"width"],["name","Class","prop","associationName",3,"width",4,"ngIf"],["name","Subject","prop","subjectName",3,"width"],["name","Chapter","prop","chapterName",3,"width"],["name","Start Date","prop","startDate",3,"width"],["name","Submit Date","prop","endDate",3,"width"],["name","Action","prop","id",3,"width"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"mb-1"],[2,"margin","6px 1px 2px 2px"],[2,"margin-top","10px"],["name","Class","prop","associationName",3,"width"],["class","fa-solid fa-eye pointer",3,"routerLink",4,"ngIf"],["class"," fa-solid fa-pen-to-square pointer","style","color: #1b3e99;",3,"routerLink",4,"ngIf"],["class","fa-solid fa-user pointer","title","Student List",3,"routerLink",4,"ngIf"],["class","fa-solid fa-pen-to-square pointer ms-3","style","color: #1b3e99;",3,"routerLink",4,"ngIf"],["class","fa fa-trash text-danger ms-3 pointer",3,"click",4,"ngIf"],[1,"fa-solid","fa-eye","pointer",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","pointer",2,"color","#1b3e99",3,"routerLink"],["title","Student List",1,"fa-solid","fa-user","pointer",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"routerLink"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Assignment"),e.qZA(),e.YNc(3,Gt,3,1,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div",5),e.YNc(8,Bt,7,2,"div",6),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Subjects"),e.qZA(),e.TgZ(13,"select",10,11),e.NdJ("change",function(){return s.filterAssignment()})("ngModelChange",function(r){return s.selectedSubject=r}),e.YNc(15,zt,2,2,"option",12),e.qZA()()(),e.TgZ(16,"div")(17,"div",13)(18,"span",14)(19,"i",15),e._uU(20,"search"),e.qZA()(),e.TgZ(21,"input",16,17),e.NdJ("ngModelChange",function(r){return s.filterAssignmentText=r})("keyup",function(){return s.filterAssignment()}),e.qZA()()()()(),e.YNc(23,$t,2,1,"div",18),e.YNc(24,gi,20,15,"div",19),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(5),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(5),e.Q6J("ngModel",s.selectedSubject),e.xp6(2),e.Q6J("ngForOf",s.subjects),e.xp6(6),e.Q6J("ngModel",s.filterAssignmentText),e.xp6(2),e.Q6J("ngIf","card"==s.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==s.toggleValue))},dependencies:[p.sg,p.O5,q.rH,Q.RK,N.Hw,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,y.a8,y.G2,m.nE,m.UC,m.vq,p.uU],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return i})();const xi=["assignmentForm"];function bi(i,o){1&i&&(e.TgZ(0,"p",31),e._uU(1," Title is required "),e.qZA())}function vi(i,o){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ci(i,o){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function Ai(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",17)(2,"label",11),e._uU(3,"Subject"),e.qZA(),e.TgZ(4,"select",33,34),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.subjectId=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterChapters())}),e.YNc(6,Ci,2,2,"option",24),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.data.subjectId),e.xp6(2),e.Q6J("ngForOf",t.filteredSubjects)}}function Ti(i,o){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function wi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",17)(2,"label",11),e._uU(3,"Chapter"),e.qZA(),e.TgZ(4,"select",35,36),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.chapterId=s)}),e.YNc(6,Ti,2,2,"option",24),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.data.chapterId),e.xp6(2),e.Q6J("ngForOf",t.filteredChapters)}}const Mi=function(i){return{"is-invalid":i}};let $e=(()=>{class i{constructor(t,n,s,a){this.dialogRef=t,this.details=n,this.classService=s,this.toastr=a,this.isAssignmentFormVisible=!0,this.data={},this.subjects=[],this.filteredSubjects=[],this.classes=[],this.chapters=[],this.filteredChapters=[],this.confirmed=new e.vpe}ngOnInit(){this.data={...this.details.data};const t=this.classService.getAllClasses().subscribe(n=>{if(200==n.code){this.classes=n.data;const s=this.classService.getAllSubject().subscribe(a=>{if(200==a.code){this.subjects=a.data;const r=this.classService.getAllChapters().subscribe(d=>{200==d.code?(this.chapters=d.data,this.filterSubjects("first"),this.filterChapters()):this.toastr.error(d.message),r.unsubscribe()})}else this.toastr.error(a.message);s.unsubscribe()})}else this.toastr.error(n.message);t.unsubscribe()})}filterSubjects(t){this.data.subjectId||(this.data.subjectId=0),this.filteredSubjects=this.data.associationId?this.subjects.filter(n=>null!=n.associationIds&&n.associationIds.length>0&&n.associationIds?.findIndex(s=>s==this.data.associationId)>-1):[]}filterChapters(){this.data.chapterId||(this.data.chapterId=0),this.filteredChapters=this.data.associationId&&this.data.subjectId?this.chapters.filter(t=>t.subjectId==this.data.subjectId&&t.associationId==this.data.associationId):[]}close(){this.dialogRef.close()}onSubmit(){this.isAssignmentFormVisible&&this.assignmentForm.control.markAllAsTouched(),this.assignmentForm.form.valid&&this.confirmed.emit(this.data)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.so),e.Y36(x.WI),e.Y36(v.j),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-assignment-details"]],viewQuery:function(n,s){if(1&n&&e.Gf(xi,5),2&n){let a;e.iGM(a=e.CRH())&&(s.assignmentForm=a.first)}},outputs:{confirmed:"confirmed"},decls:56,vars:13,consts:[[1,"card","mb-0",2,"max-height","95vh","overflow","auto"],[1,"d-flex","justify-content-between","align-items-center","p-3"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[3,"ngSubmit"],["assignmentForm","ngForm"],[1,"p-3"],[1,"row"],[1,"col-6"],[1,"form-field"],[1,"label"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","validation-error ",4,"ngIf"],["type","date","name","startDate",1,"form-control",3,"ngModel","ngModelChange"],["startDate","ngModel"],[1,"form-field","mt-4"],["type","date","name","endDate",1,"form-control",3,"ngModel","ngModelChange"],["endDate","ngModel"],["type","time","name","time",1,"form-control",3,"ngModel","ngModelChange"],["time","ngModel"],["name","association",1,"form-select",3,"ngModel","ngModelChange","change"],["association","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","col-6",4,"ngIf"],["type","time","name","description",1,"form-control",3,"ngModel","ngModelChange"],["descriptions","ngModel"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"validation-error"],[3,"value"],["name","subject",1,"form-select",3,"ngModel","ngModelChange","change"],["subject","ngModel"],["name","chapter",1,"form-select",3,"ngModel","ngModelChange"],["chapter","ngModel"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Assignment Details"),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return s.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"form",5,6),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Title"),e.qZA(),e.TgZ(14,"input",12,13),e.NdJ("ngModelChange",function(r){return s.data.title=r}),e.qZA(),e.YNc(16,bi,2,0,"p",14),e.qZA()(),e.TgZ(17,"div",9)(18,"div",10)(19,"label",11),e._uU(20,"Start Date"),e.qZA(),e.TgZ(21,"input",15,16),e.NdJ("ngModelChange",function(r){return s.data.startDate=r}),e.qZA()()(),e.TgZ(23,"div",9)(24,"div",17)(25,"label",11),e._uU(26,"End date"),e.qZA(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(r){return s.data.endDate=r}),e.qZA()()(),e.TgZ(29,"div",9)(30,"div",17)(31,"label",11),e._uU(32,"Time"),e.qZA(),e.TgZ(33,"input",20,21),e.NdJ("ngModelChange",function(r){return s.data.time=r}),e.qZA()()(),e.TgZ(35,"div",9)(36,"div",17)(37,"label",11),e._uU(38,"Class"),e.qZA(),e.TgZ(39,"select",22,23),e.NdJ("ngModelChange",function(r){return s.data.associationId=r})("change",function(){return s.filterSubjects()}),e.YNc(41,vi,2,2,"option",24),e.qZA()()(),e.YNc(42,Ai,7,2,"div",25),e.YNc(43,wi,7,2,"div",25),e.TgZ(44,"div",9)(45,"div",17)(46,"label",11),e._uU(47,"Description"),e.qZA(),e.TgZ(48,"textarea",26,27),e.NdJ("ngModelChange",function(r){return s.data.description=r}),e.qZA()()()()(),e._UZ(50,"hr",4),e.TgZ(51,"div",28)(52,"button",29),e.NdJ("click",function(){return s.close()}),e._uU(53,"Cancel"),e.qZA(),e.TgZ(54,"button",30),e._uU(55,"Save"),e.qZA()()()()),2&n){const a=e.MAs(15);e.xp6(14),e.Q6J("ngModel",s.data.title)("ngClass",e.VKq(11,Mi,a.touched&&a.errors&&a.errors.required)),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors&&a.errors.required),e.xp6(5),e.Q6J("ngModel",s.data.startDate),e.xp6(6),e.Q6J("ngModel",s.data.endDate),e.xp6(6),e.Q6J("ngModel",s.data.time),e.xp6(6),e.Q6J("ngModel",s.data.associationId),e.xp6(2),e.Q6J("ngForOf",s.classes),e.xp6(1),e.Q6J("ngIf",s.data.associationId&&s.filterSubjects.length>0),e.xp6(1),e.Q6J("ngIf",s.data.subjectId&&s.filteredChapters.length>0),e.xp6(5),e.Q6J("ngModel",s.data.description)}},dependencies:[p.mk,p.sg,p.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F]})}return i})();var A=h(3238);const qi=["switch"],yi=["*"],Zi=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),Ii={provide:c.JU,useExisting:(0,e.Gpc)(()=>et),multi:!0};class Xe{constructor(o,t){this.source=o,this.checked=t}}let ki=0;const Si=(0,A.sb)((0,A.pj)((0,A.Kr)((0,A.Id)(class{constructor(i){this._elementRef=i}}))));let Ei=(()=>{class i extends Si{get required(){return this._required}set required(t){this._required=(0,g.Ig)(t)}get checked(){return this._checked}set checked(t){this._checked=(0,g.Ig)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,s,a,r,d,l){super(t),this._focusMonitor=n,this._changeDetectorRef=s,this.defaults=r,this._onChange=u=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(a)||0,this.color=this.defaultColor=r.color||"accent",this._noopAnimations="NoopAnimations"===d,this.id=this._uniqueId=`${l}${++ki}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return i.\u0275fac=function(t){e.$Z()},i.\u0275dir=e.lG2({type:i,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[e.qOj]}),i})(),et=(()=>{class i extends Ei{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,n,s,a,r,d){super(t,n,s,a,r,d,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Xe(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new Xe(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(R.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(Zi),e.Y36(e.QbO,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,n){if(1&t&&e.Gf(qi,5),2&t){let s;e.iGM(s=e.CRH())&&(n._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(t,n){2&t&&(e.Ikx("id",n.id),e.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),e.ekj("mat-mdc-slide-toggle-focused",n._focused)("mat-mdc-slide-toggle-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[e._Bn([Ii]),e.qOj],ngContentSelectors:yi,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[3,"for","click"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"button",1,2),e.NdJ("click",function(){return n._handleClick()}),e._UZ(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"div",7),e.qZA(),e.TgZ(8,"div",8),e._UZ(9,"div",9),e.qZA(),e.TgZ(10,"div",10),e.O4$(),e.TgZ(11,"svg",11),e._UZ(12,"path",12),e.qZA(),e.TgZ(13,"svg",13),e._UZ(14,"path",14),e.qZA()()()()(),e.kcU(),e.TgZ(15,"label",15),e.NdJ("click",function(a){return a.stopPropagation()}),e.Hsn(16),e.qZA()()),2&t){const s=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==n.labelPosition),e.xp6(1),e.ekj("mdc-switch--selected",n.checked)("mdc-switch--unselected",!n.checked)("mdc-switch--checked",n.checked)("mdc-switch--disabled",n.disabled),e.Q6J("tabIndex",n.tabIndex)("disabled",n.disabled),e.uIk("id",n.buttonId)("name",n.name)("aria-label",n.ariaLabel)("aria-labelledby",n._getAriaLabelledBy())("aria-describedby",n.ariaDescribedby)("aria-required",n.required||null)("aria-checked",n.checked),e.xp6(8),e.Q6J("matRippleTrigger",s)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),e.xp6(6),e.Q6J("for",n.buttonId),e.uIk("id",n._labelId)}},dependencies:[A.wG],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),i})(),tt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),Di=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[tt,A.BQ,A.si,p.ez,tt,A.BQ]}),i})();function Ji(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.status)}}function Qi(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.studentName)}}function Ui(i,o){1&i&&(e.TgZ(0,"button",36),e._uU(1,"Save as draft"),e.qZA())}function Pi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG("STUDENT"==s.role||"Examine"==s.status?s.onSubmit():s.openModal())}),e._uU(1,"Submit"),e.qZA()}}function Ri(i,o){1&i&&e._UZ(0,"i",46)}function ji(i,o){1&i&&e._UZ(0,"i",47)}const Fi=function(i){return{"example-box-active":i}};function Yi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.oxw();return e.KtG(r.editQuestion(a))}),e.TgZ(2,"div",40)(3,"div",41),e.YNc(4,Ri,1,0,"i",42),e.YNc(5,ji,1,0,"i",43),e.TgZ(6,"span",44),e._uU(7),e.qZA()(),e.TgZ(8,"div",45),e._uU(9),e.qZA()()()()}if(2&i){const t=o.$implicit,n=o.index,s=e.oxw();e.Q6J("cdkDragDisabled","Add"!=s.status&&"Edit"!=s.status)("ngClass",e.VKq(7,Fi,s.currentEditableIndex==n)),e.xp6(4),e.Q6J("ngIf","SUBJECTIVE"==t.type),e.xp6(1),e.Q6J("ngIf","OBJECTIVE"==t.type),e.xp6(2),e.Oqu(n+1),e.xp6(1),e.Q6J("title",t.question),e.xp6(1),e.hij(" ",t.question," ")}}function Li(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"span",49),e._uU(2,"Subjective"),e.qZA(),e.TgZ(3,"mat-slide-toggle",50),e.NdJ("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.toggleQuestionType())})("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.isObjectiveActive=s)}),e.qZA(),e.TgZ(4,"span",51),e._uU(5,"Objective"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",t.isObjectiveActive?"text-normal":"text-active"),e.xp6(2),e.Q6J("ngModel",t.isObjectiveActive),e.xp6(1),e.Q6J("ngClass",t.isObjectiveActive?"text-active":"text-normal")}}function Hi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",52)(1,"label",18),e._uU(2,"Obtained Mark"),e.qZA(),e.TgZ(3,"input",53,54),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.questions[a.currentEditableIndex].obtainMarks=s)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.data.questions[t.currentEditableIndex].obtainMarks)}}function Gi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e._uU(2,"Ans."),e.qZA(),e.TgZ(3,"textarea",57),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.questions[a.currentEditableIndex].answerText=s)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("readOnly","View"==t.status||"Examine"==t.status)("ngModel",t.data.questions[t.currentEditableIndex].answerText)}}function Vi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"input",66,67),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.isCorrect=s)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.isCorrect)}}function Bi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",70),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.isCorrect=s)})("change",function(){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.setOptionId(s.id))}),e.qZA()}if(2&i){const t=e.oxw(2).$implicit;e.Q6J("value",t.id)("ngModel",t.isCorrect)}}function zi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",71),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.selectedId=s)})("change",function(){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.setOptionId(s.id))}),e.qZA()}if(2&i){const t=e.oxw(2).$implicit;e.Q6J("value",t.id)("ngModel",t.selectedId)}}function Wi(i,o){if(1&i&&(e.TgZ(0,"div",62),e.YNc(1,Bi,1,2,"input",68),e.YNc(2,zi,1,2,"input",69),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf","Submit"==t.status),e.xp6(1),e.Q6J("ngIf","View"==t.status||"Examine"==t.status)}}function Ki(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"i",72),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index,a=e.oxw(2);return e.KtG(a.removeOption(s))}),e.qZA()()}}const $i=function(i,o){return{"green-border":i,"red-border":o}};function Xi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",15)(2,"span",62),e._uU(3),e.qZA(),e.TgZ(4,"div",62)(5,"input",63,64),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).$implicit;return e.KtG(r.text=s)}),e.qZA()(),e.YNc(7,Vi,3,1,"div",65),e.YNc(8,Wi,3,2,"div",65),e.YNc(9,Ki,2,0,"div",65),e.qZA()()}if(2&i){const t=o.$implicit,n=o.index,s=e.oxw(2);e.xp6(3),e.Oqu(s.getLetterIndex(n)),e.xp6(2),e.Q6J("ngModel",t.text)("readOnly","Add"!=s.status&&"Edit"!=s.status)("ngClass",e.WLB(7,$i,"Examine"==s.status&&t.isCorrect,"Examine"==s.status&&t.id==s.data.questions[s.currentEditableIndex].userAnswerOptionId&&!t.isCorrect)),e.xp6(2),e.Q6J("ngIf","Add"==s.status||"Edit"==s.status),e.xp6(1),e.Q6J("ngIf","Add"!=s.status&&"Edit"!=s.status),e.xp6(1),e.Q6J("ngIf",s.data.questions[s.currentEditableIndex].options.length>1&&("Add"==s.status||"Edit"==s.status))}}function en(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",73)(1,"span",74),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.addOption())}),e._uU(2,"Add Option"),e.qZA()()}}function tn(i,o){if(1&i&&(e.TgZ(0,"div",58),e.YNc(1,Xi,10,10,"div",59),e.YNc(2,en,3,0,"div",60),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.data.questions[t.currentEditableIndex].options),e.xp6(1),e.Q6J("ngIf","Add"==t.status||"Edit"==t.status)}}let me=(()=>{class i{constructor(t,n,s,a,r,d,l){this.toastr=t,this.classService=n,this.dialog=s,this.router=a,this.route=r,this.authService=d,this.elementRef=l,this.data={questions:[{question:"",type:"SUBJECTIVE"}]},this.isObjectiveActive=!1,this.currentEditableIndex=0,this.status="Add",this.submitAssignmnet={submitQuestionRequests:[]},this.role="",this.studentName="",this.examineAssignmnet={questionMarks:[]}}ngOnInit(){this.role=this.authService.role,this.route.paramMap.subscribe(t=>{let n=t.get("type"),s=t.get("id");if(s)if("edit"==n||"submit"==n){"edit"==n?this.status="Edit":(this.status="Submit",this.submitAssignmnet.assignmentId=parseInt(s));const a=this.classService.getAssignmentById(parseInt(s)).subscribe(r=>{200==r.code?(this.data=r.data,this.data.questions=this.data.questions,this.data.questions&&"OBJECTIVE"==this.data.questions[this.currentEditableIndex].type&&(this.isObjectiveActive=!0)):this.toastr.error(r.message),a.unsubscribe()})}else if("view"==n){this.status="View";const a=this.classService.getSubmittedAssignmentById(parseInt(s)).subscribe(r=>{200==r.code?(this.data=r.data,this.data.questions&&"OBJECTIVE"==this.data.questions[this.currentEditableIndex].type&&(this.isObjectiveActive=!0),this.data.questions?.forEach(d=>{"SUBJECTIVE"==d.type&&d.userAnswerText?d.answerText=d.userAnswerText:"OBJECTIVE"==d.type&&d.userAnswerOptionId&&d.options?.forEach(l=>{l.id==d.userAnswerOptionId&&(l.selectedId=d.userAnswerOptionId)})})):this.toastr.error(r.message),a.unsubscribe()})}else if("examine"==n){this.status="Examine";let a=t.get("studentId");if(this.studentName=t.get("name"),this.studentName=decodeURIComponent(this.studentName),this.examineAssignmnet.assignmentId=parseInt(s),this.examineAssignmnet.studentId=parseInt(a),a){const r=this.classService.getAssignmentByStudentAndAssignmentId(parseInt(a),parseInt(s)).subscribe(d=>{200==d.code?(this.data=d.data,this.data.questions&&"OBJECTIVE"==this.data.questions[this.currentEditableIndex].type&&(this.isObjectiveActive=!0),this.data.questions?.forEach(l=>{"SUBJECTIVE"==l.type&&l.userAnswerText?l.answerText=l.userAnswerText:"OBJECTIVE"==l.type&&l.userAnswerOptionId&&l.options?.forEach(u=>{u.id==l.userAnswerOptionId&&(u.selectedId=l.userAnswerOptionId)})})):this.toastr.error(d.message),r.unsubscribe()})}}})}drop(t){("Add"==this.status||"Edit"==this.status)&&ce(this.data.questions,t.previousIndex,t.currentIndex)}toggleQuestionType(){this.isObjectiveActive&&this.data.questions?(this.data.questions[this.currentEditableIndex].options=[{}],this.data.questions[this.currentEditableIndex].type="OBJECTIVE"):(this.data.questions[this.currentEditableIndex].options=void 0,this.data.questions[this.currentEditableIndex].type="SUBJECTIVE")}addQuestion(){if("Add"==this.status||"Edit"==this.status)this.data.questions&&this.data.questions[this.currentEditableIndex].question&&this.data.questions[this.currentEditableIndex].question.length>0?this.data.questions&&null==this.data.questions[this.currentEditableIndex].positiveMark?this.toastr.error("Positive marking can't be empty"):this.data.questions&&this.data.questions[this.currentEditableIndex].positiveMark<=0?this.toastr.error("Postive marks had to be greater than zero"):this.isObjectiveActive&&this.data.questions[this.currentEditableIndex].options.length<2?this.toastr.error("Add two option minimum"):this.currentEditableIndex==this.data.questions.length-1?(this.data.questions?.push({type:"SUBJECTIVE"}),this.isObjectiveActive=!1,this.currentEditableIndex=this.data.questions.length-1):(this.currentEditableIndex+=1,this.isObjectiveActive="OBJECTIVE"==this.data.questions[this.currentEditableIndex].type):this.toastr.error("Enter Question First");else{if("Examine"==this.status){if(this.data.questions[this.currentEditableIndex].obtainMarks>this.data.questions[this.currentEditableIndex].positiveMark)return void this.toastr.error("Obtained mark can't be greater than positive mark");null!=this.data.questions[this.currentEditableIndex].negativeMark&&this.data.questions[this.currentEditableIndex].negativeMark&&this.data.questions[this.currentEditableIndex].obtainMarks<-1*this.data.questions[this.currentEditableIndex].negativeMark&&this.toastr.error("Obtained mark can't be less than negative mark")}this.currentEditableIndex==this.data.questions.length-1?this.currentEditableIndex=0:this.currentEditableIndex+=1,this.isObjectiveActive="OBJECTIVE"==this.data.questions[this.currentEditableIndex].type}}previousQuestion(){if("Examine"==this.status){if(this.data.questions[this.currentEditableIndex].obtainMarks>this.data.questions[this.currentEditableIndex].positiveMark)return void this.toastr.error("Obtained mark can't be greater than positive mark");null!=this.data.questions[this.currentEditableIndex].negativeMark&&this.data.questions[this.currentEditableIndex].obtainMarks<-1*this.data.questions[this.currentEditableIndex].negativeMark&&this.toastr.error("Obtained mark can't be less than negative mark")}0!=this.currentEditableIndex?this.currentEditableIndex-=1:this.currentEditableIndex=this.data.questions.length-1,this.isObjectiveActive="OBJECTIVE"==this.data.questions[this.currentEditableIndex].type}editQuestion(t){this.currentEditableIndex=t,this.isObjectiveActive="OBJECTIVE"==this.data.questions[this.currentEditableIndex].type}addOption(){let t=!1;this.data.questions&&this.data.questions[this.currentEditableIndex].options&&this.data.questions[this.currentEditableIndex].options.forEach(n=>{(!n.text||n.text&&n.text.length<=0)&&(this.toastr.error("Option Can't be empty"),t=!0)}),0==t&&this.data.questions&&this.data.questions[this.currentEditableIndex]&&this.data.questions[this.currentEditableIndex].options.push({})}removeOption(t){this.data.questions[this.currentEditableIndex].deletedOptionIds?.push(this.data.questions[this.currentEditableIndex].options[t].id),this.data.questions[this.currentEditableIndex].options?.splice(t,1)}getLetterIndex(t){return String.fromCharCode(97+t)}openModal(){if(this.data.questions&&1==this.data.questions.length&&this.data.questions[1]&&this.data.questions[1].question){if(0==this.data.questions[1].question?.length)return void this.toastr.error("Enter Question First");(null==this.data.questions[1].positiveMark||this.data.questions[1].positiveMark<=0)&&this.toastr.error("Positive marking can't be empty or equal to zero")}let t=this.dialog.open($e,{width:"50%",autoFocus:!1,data:{data:this.data}});t.componentInstance.confirmed.subscribe(n=>{n&&(this.data.title=n.title,this.data.chapterId=n.chapterId,this.data.associationId=n.associationId,this.data.subjectId=n.subjectId,this.data.endDate=n.endDate,this.data.startDate=n.startDate,this.data.time=n.time,this.data.description=n.description,this.onSubmit(),t.close())})}onSubmit(){if(this.submitAssignmnet.submitQuestionRequests=[],"STUDENT"!=this.role)if("Examine"==this.status){if(this.data.questions[this.currentEditableIndex].obtainMarks>this.data.questions[this.currentEditableIndex].positiveMark)return void this.toastr.error("Obtained mark can't be greater than positive mark");if(null!=this.data.questions[this.currentEditableIndex].negativeMark&&this.data.questions[this.currentEditableIndex].obtainMarks<-1*this.data.questions[this.currentEditableIndex].negativeMark)return void this.toastr.error("Obtained mark can't be less than negative mark");this.data.questions?.forEach(n=>{this.examineAssignmnet.questionMarks.push({questionId:n.id,marksObtained:n.obtainMarks})});const t=this.classService.examineAssignment(this.examineAssignmnet).subscribe(n=>{if(200==n.code)return this.toastr.success(n.message),void this.router.navigateByUrl("app/class/assignment/submitted/"+this.data.title+"/"+this.data.assignmentId);this.toastr.error(n.message),t.unsubscribe()})}else if(this.data.questions?.forEach((t,n)=>{t.order=n+1}),this.data.totalPositiveMark=0,this.data.totalNegativeMark=0,this.data.questions?.forEach(t=>{this.data.totalPositiveMark+=t.positiveMark,this.data.totalNegativeMark+=t.negativeMark}),"Edit"==this.status){const t=this.classService.updateAssignment(this.data).subscribe(n=>{200==n.code?this.router.navigateByUrl("app/class/assignment"):this.toastr.error(n.message),t.unsubscribe()})}else{const t=this.classService.saveAssignment(this.data).subscribe(n=>{200==n.code?this.router.navigateByUrl("app/class/assignment"):this.toastr.error(n.message),t.unsubscribe()})}else{this.data.questions?.forEach(n=>{this.submitAssignmnet.submitQuestionRequests?.push({questionId:n.id,answerText:n.answerText,answerOptionId:n.answeroptionId})});const t=this.classService.submitAssignment(this.submitAssignmnet).subscribe(n=>{200==n.code?this.router.navigateByUrl("app/class/assignment"):this.toastr.error(n.message),t.unsubscribe()})}}setOptionId(t){this.data.questions[this.currentEditableIndex].answeroptionId=t}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C._W),e.Y36(v.j),e.Y36(x.uw),e.Y36(q.F0),e.Y36(q.gz),e.Y36(I.$),e.Y36(e.SBq))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-assignment"]],decls:49,vars:17,consts:[[1,"card","title","p-3","mb-0"],[1,"d-flex","justify-content-between","align-items-center"],[4,"ngIf"],["class","btn btn-secondary me-2",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"row","mt-3"],[1,"col-3"],[1,"card","p-3","mb-0",2,"height","75vh","overflow","auto","background-color","rgb(248, 248, 248)"],["cdkDropList","",1,"example-list","mb-2",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",3,"cdkDragDisabled","ngClass",4,"ngFor","ngForOf"],[1,"col-9"],[1,"card","mb-0"],["class","d-flex justify-content-center w-100 mt-4",4,"ngIf"],[1,"d-flex","p-4",2,"height","58vh","overflow","auto",3,"ngClass"],[1,"w-100"],[1,"d-flex","align-items-center"],[1,"d-flex","justify-content-end"],[1,"form-field","me-2","mb-2"],[1,"label"],["type","number","name","positive",1,"form-control",3,"readOnly","ngModel","ngModelChange"],["positive","ngModel"],[1,"form-field"],["type","number","name","negative",1,"form-control",3,"readOnly","ngModel","ngModelChange"],["negative","ngModel"],["class","form-field ms-2 mb-2",4,"ngIf"],[1,"d-flex"],[1,"d-flex","align-items-center","me-2"],[1,"me-2",2,"font-size","20px"],[1,"fa-solid","fa-arrow-right"],["type"," text","rows","3","name","ques",1,"form-control","w-100",2,"font-size","20px","height","100%",3,"readOnly","ngModel","ngModelChange"],["ques","ngModel"],["class","d-flex mt-3",4,"ngIf"],["class","mt-3 ms-5","style","max-height: 30vh;overflow: auto; ",4,"ngIf"],[1,"p-3","d-flex","justify-content-between"],[1,"next-previous-circle",3,"click"],[1,"fa-solid","fa-arrow-left"],[1,"btn","btn-secondary","me-2"],[1,"btn","btn-primary",3,"click"],["cdkDrag","",1,"example-box",3,"cdkDragDisabled","ngClass"],[1,"d-flex",3,"click"],[1,"d-flex","justify-content-between"],[2,"background-color","pink","padding","2px 5px 0px 2px","border-radius","6px"],["class","fa-regular fa-pen-to-square ms-1",4,"ngIf"],["class","fa-regular fa-square-check ms-1",4,"ngIf"],[1,"ms-2"],[1,"ms-2","ellipse",3,"title"],[1,"fa-regular","fa-pen-to-square","ms-1"],[1,"fa-regular","fa-square-check","ms-1"],[1,"d-flex","justify-content-center","w-100","mt-4"],[1,"me-2",3,"ngClass"],[3,"ngModel","change","ngModelChange"],[3,"ngClass"],[1,"form-field","ms-2","mb-2"],["type","number","name","Obtained",1,"form-control",3,"ngModel","ngModelChange"],["Obtained","ngModel"],[1,"d-flex","mt-3"],[1,"mt-2","me-2",2,"font-size","16px","font-weight","600"],["rows","6",1,"form-control","h-100",3,"readOnly","ngModel","ngModelChange"],[1,"mt-3","ms-5",2,"max-height","30vh","overflow","auto"],["class","mb-2",4,"ngFor","ngForOf"],["class","mt-2 ms-3",4,"ngIf"],[1,"mb-2"],[1,"me-2"],["type","text","name","option",1,"form-control",3,"ngModel","readOnly","ngClass","ngModelChange"],["option","ngModel"],["class","me-2",4,"ngIf"],["type","checkbox","name","optionCheckbox",3,"ngModel","ngModelChange"],["optionModel","ngModel"],["type","radio","name","radiocheck",3,"value","ngModel","ngModelChange","change",4,"ngIf"],["type","radio","name","radiocheck","disabled","",3,"value","ngModel","ngModelChange","change",4,"ngIf"],["type","radio","name","radiocheck",3,"value","ngModel","ngModelChange","change"],["type","radio","name","radiocheck","disabled","",3,"value","ngModel","ngModelChange","change"],[1,"fa-solid","fa-trash","text-danger","pointer",3,"click"],[1,"mt-2","ms-3"],[1,"pointer",2,"color","blue","text-decoration","underline",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"span"),e.YNc(4,Ji,2,1,"span",2),e._uU(5," Assignment"),e.qZA(),e.YNc(6,Qi,2,1,"span",2),e.TgZ(7,"div"),e.YNc(8,Ui,2,0,"button",3),e.YNc(9,Pi,2,0,"button",4),e.qZA()()(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),e.NdJ("cdkDropListDropped",function(r){return s.drop(r)}),e.YNc(14,Yi,10,9,"div",9),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11),e.YNc(17,Li,6,3,"div",12),e.TgZ(18,"div",13)(19,"div",14)(20,"div")(21,"div",15)(22,"div",14)(23,"div",16)(24,"div",17)(25,"label",18),e._uU(26,"Positive Mark"),e.qZA(),e.TgZ(27,"input",19,20),e.NdJ("ngModelChange",function(r){return s.data.questions[s.currentEditableIndex].positiveMark=r}),e.qZA()(),e.TgZ(29,"div",21)(30,"label",18),e._uU(31,"Negative Mark"),e.qZA(),e.TgZ(32,"input",22,23),e.NdJ("ngModelChange",function(r){return s.data.questions[s.currentEditableIndex].negativeMark=r}),e.qZA()(),e.YNc(34,Hi,5,1,"div",24),e.qZA(),e.TgZ(35,"div",25)(36,"div",26)(37,"span",27),e._uU(38),e.qZA(),e._UZ(39,"i",28),e.qZA(),e.TgZ(40,"textarea",29,30),e.NdJ("ngModelChange",function(r){return s.data.questions[s.currentEditableIndex].question=r}),e.qZA()(),e.YNc(42,Gi,4,2,"div",31),e.qZA()(),e.YNc(43,tn,3,2,"div",32),e.qZA()()(),e.TgZ(44,"div",33)(45,"div",34),e.NdJ("click",function(){return s.previousQuestion()}),e._UZ(46,"i",35),e.qZA(),e.TgZ(47,"div",34),e.NdJ("click",function(){return s.addQuestion()}),e._UZ(48,"i",28),e.qZA()()()()()()),2&n&&(e.xp6(4),e.Q6J("ngIf","Submit"!=s.status),e.xp6(2),e.Q6J("ngIf",s.studentName&&"Examine"==s.status),e.xp6(2),e.Q6J("ngIf","Examine"==s.status),e.xp6(1),e.Q6J("ngIf","View"!=s.status),e.xp6(5),e.Q6J("ngForOf",s.data.questions),e.xp6(3),e.Q6J("ngIf","Add"==s.status||"Edit"==s.status),e.xp6(1),e.Q6J("ngClass","STUDENT"!=s.role?"mt-2":"align-items-center"),e.xp6(9),e.Q6J("readOnly","Add"!=s.status&&"Edit"!=s.status)("ngModel",s.data.questions[s.currentEditableIndex].positiveMark),e.xp6(5),e.Q6J("readOnly","Add"!=s.status&&"Edit"!=s.status)("ngModel",s.data.questions[s.currentEditableIndex].negativeMark),e.xp6(2),e.Q6J("ngIf","Examine"==s.status),e.xp6(4),e.Oqu(s.currentEditableIndex+1),e.xp6(2),e.Q6J("readOnly","Add"!=s.status&&"Edit"!=s.status)("ngModel",s.data.questions[s.currentEditableIndex].question),e.xp6(2),e.Q6J("ngIf","Add"!=s.status&&"Edit"!=s.status&&"SUBJECTIVE"==s.data.questions[s.currentEditableIndex].type),e.xp6(1),e.Q6J("ngIf",s.isObjectiveActive))},dependencies:[p.mk,p.sg,p.O5,c.Fj,c.wV,c.Wl,c._,c.JJ,c.On,Be,Ke,et],styles:[".ellipse[_ngcontent-%COMP%]{text-overflow:ellipsis;max-width:250px;white-space:nowrap;overflow:hidden;cursor:pointer}.next-previous-circle[_ngcontent-%COMP%]{height:40px;width:40px;background-color:#b7b7fc;display:flex;justify-content:center;align-items:center;border-radius:40px;font-size:18px;color:#fff;cursor:pointer}.text-active[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#b7b7fc}.text-normal[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;min-height:60px;display:block;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{border-radius:7px;padding:10px 5px;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:rgb(248,248,248);font-size:14px;margin-bottom:10px}.example-box[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.example-box-active[_ngcontent-%COMP%]{background-color:#e2e2e2}.cdk-drag-preview[_ngcontent-%COMP%]{border:none;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.red-border[_ngcontent-%COMP%]{border:1px solid red!important;box-shadow:1px 1px 1px red}.green-border[_ngcontent-%COMP%]{border:1px solid rgb(47,213,47)!important;box-shadow:1px 1px 1px #2fd52f}"]})}return i})();var _e=h(4537),ge=h(2030);const nn=["associationForm"];function sn(i,o){if(1&i&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}let it=(()=>{class i{constructor(t,n,s,a,r,d){this.dialogRef=t,this.details=n,this.classService=s,this.toastr=a,this.instituteService=r,this.userService=d,this.data={},this.status="Add",this.departments=[],this.courses=[],this.isassociationFormVisible=!0,this.students=[],this.teachers=[],this.confirmed=new e.vpe}ngOnInit(){if(this.details.id){this.status="Edit";const n=this.classService.getClasseById(this.details.id).subscribe(s=>{200==s.code?this.data=s.data:this.toastr.error(s.message),n.unsubscribe()})}const t=this.userService.getTeachers().subscribe(n=>{200==n.code&&(this.teachers=n.data),t.unsubscribe()})}close(){this.dialogRef.close()}onSubmit(){if(this.isassociationFormVisible&&this.associationForm.control.markAllAsTouched(),this.associationForm.form.valid)if(this.details.id){const t=this.classService.updateAssociation(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.confirmed.emit(!0),this.close()):this.toastr.error(n.message),t.unsubscribe()})}else{const t=this.classService.saveAssociation(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.confirmed.emit(!0),this.close()):this.toastr.error(n.message),t.unsubscribe()})}}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.so),e.Y36(x.WI),e.Y36(v.j),e.Y36(C._W),e.Y36(_e.$),e.Y36(ge.K))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-association"]],viewQuery:function(n,s){if(1&n&&e.Gf(nn,5),2&n){let a;e.iGM(a=e.CRH())&&(s.associationForm=a.first)}},outputs:{confirmed:"confirmed"},decls:31,vars:6,consts:[[1,"card","mb-0",2,"max-height","90vh","overflow","auto"],[1,"d-flex","justify-content-between","align-items-center","p-3"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[3,"ngSubmit"],["associationForm","ngForm"],[1,"p-3"],[1,"form-field"],[1,"label"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"form-field","mt-4"],["type","text","name","code",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],["name","teacherDetailId",1,"form-select",3,"ngModel","ngModelChange"],["teacherDetailId","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","mx-2",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return s.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"form",5,6),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Name*"),e.qZA(),e.TgZ(12,"input",10,11),e.NdJ("ngModelChange",function(r){return s.data.name=r}),e.qZA()(),e.TgZ(14,"div",12)(15,"label",9),e._uU(16,"Code"),e.qZA(),e.TgZ(17,"input",13,14),e.NdJ("ngModelChange",function(r){return s.data.code=r}),e.qZA()(),e.TgZ(19,"div",12)(20,"label",9),e._uU(21,"Class Teacher"),e.qZA(),e.TgZ(22,"select",15,16),e.NdJ("ngModelChange",function(r){return s.data.teacherDetailId=r}),e.YNc(24,sn,2,2,"option",17),e.qZA()()(),e._UZ(25,"hr",4),e.TgZ(26,"div",18)(27,"button",19),e.NdJ("click",function(){return s.close()}),e._uU(28,"Cancel"),e.qZA(),e.TgZ(29,"button",20),e._uU(30),e.qZA()()()()),2&n&&(e.xp6(3),e.hij("",s.status," Class"),e.xp6(9),e.Q6J("ngModel",s.data.name),e.xp6(5),e.Q6J("ngModel",s.data.code),e.xp6(5),e.Q6J("ngModel",s.data.teacherDetailId),e.xp6(2),e.Q6J("ngForOf",s.teachers),e.xp6(6),e.Oqu(s.data.id?"Update":"Save"))},dependencies:[p.sg,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.F]})}return i})();function on(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function an(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function rn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function dn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function cn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).row;return e.KtG(r.isLinked=s)}),e.qZA()}2&i&&e.Q6J("ngModel",o.row.isLinked)}let ln=(()=>{class i{constructor(t,n,s,a,r){this.dialogRef=t,this.details=n,this.classService=s,this.userService=a,this.toastr=r,this.students=[],this.data={},this.linkedUnlinkedStudetId=[],this.isSelectAll=!1,this.selectUnselectText="Select All Students",this.ColumnMode=m.hq}ngOnInit(){this.data.associationId=this.details.id;const t=this.classService.getMapStudentAssoction(this.details.id).subscribe(n=>{200==n.code?(this.students=n.data,this.students.filter(a=>1==a.isLinked).length==this.students.length&&(this.selectUnselectText="Unselect All Class",this.isSelectAll=!0)):this.toastr.error(n.message),t.unsubscribe()})}close(){this.dialogRef.close()}onSubmit(){let t=this.students.filter(s=>1==s.isLinked);t.length>0&&t.forEach(s=>{this.linkedUnlinkedStudetId.push(s.id)}),this.data.studentDetailId=[...this.linkedUnlinkedStudetId];const n=this.classService.linkUnlinkStudentWithAssociation(this.data).subscribe(s=>{200==s.code?(this.toastr.success(s.message),this.close()):this.toastr.error(s.message),n.unsubscribe()})}checkAll(){this.students.filter(n=>1==n.isLinked).length==this.students.length?(this.students.forEach(n=>{n.isLinked=!1}),this.selectUnselectText="Select All Studemts"):(this.selectUnselectText="Unselect All Students",this.students.forEach(n=>{n.isLinked=!0}))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.so),e.Y36(x.WI),e.Y36(v.j),e.Y36(ge.K),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-link-student"]],decls:29,vars:13,consts:[[1,"card","mb-0"],[1,"p-3","d-flex","justify-content-between","align-items-center"],[1,"title"],[1,"d-flex","align-items-center"],[1,"d-flex","justify-content-end","me-3"],["type","checkbox","name","check",1,"me-2","mb-1","pointer",2,"align-self","flex-end",3,"ngModel","ngModelChange","change"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[1,"p-3"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","name",3,"width"],["name","Email","prop","email",3,"width"],["name","Phone","prop","phone",3,"width"],["name","Action","prop","isLinked",3,"width"],[1,"p-3","d-flex","justify-content-end"],[1,"btn","btn-secondary","me-3",3,"click"],[1,"btn","btn-primary",3,"click"],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Link Students"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"input",5),e.NdJ("ngModelChange",function(r){return s.isSelectAll=r})("change",function(){return s.checkAll()}),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"i",6),e.NdJ("click",function(){return s.close()}),e.qZA()()(),e._UZ(9,"hr",7),e.TgZ(10,"div",8)(11,"ngx-datatable",9,10)(13,"ngx-datatable-column",11),e.YNc(14,on,2,1,"ng-template",12),e.qZA(),e.TgZ(15,"ngx-datatable-column",13),e.YNc(16,an,2,1,"ng-template",12),e.qZA(),e.TgZ(17,"ngx-datatable-column",14),e.YNc(18,rn,2,1,"ng-template",12),e.qZA(),e.TgZ(19,"ngx-datatable-column",15),e.YNc(20,dn,2,1,"ng-template",12),e.qZA(),e.TgZ(21,"ngx-datatable-column",16),e.YNc(22,cn,1,1,"ng-template",12),e.qZA()()(),e._UZ(23,"hr",7),e.TgZ(24,"div",17)(25,"button",18),e.NdJ("click",function(){return s.close()}),e._uU(26,"Cancel"),e.qZA(),e.TgZ(27,"button",19),e.NdJ("click",function(){return s.onSubmit()}),e._uU(28,"Save"),e.qZA()()()),2&n&&(e.xp6(6),e.Q6J("ngModel",s.isSelectAll),e.xp6(1),e.hij("",s.selectUnselectText," "),e.xp6(4),e.Q6J("rows",s.students)("headerHeight",40)("footerHeight",50)("columnMode",s.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200))},dependencies:[c.Wl,c.JJ,c.On,m.nE,m.UC,m.vq]})}return i})();var un=h(7804),pn=h(1938);function hn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openAddClass())}),e._UZ(1,"i",13),e._uU(2,"\xa0\xa0Add Class "),e.qZA()}}function mn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editClass(s.id))}),e.TgZ(2,"mat-icon",29),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deleteClass(s.id))}),e.TgZ(5,"mat-icon",31),e._uU(6,"delete"),e.qZA()()()}}function _n(i,o){if(1&i&&(e.TgZ(0,"div",16)(1,"mat-card",17)(2,"div",18),e._UZ(3,"img",19),e.YNc(4,mn,7,0,"a",20),e.qZA(),e.TgZ(5,"div",21)(6,"div",22)(7,"div",23)(8,"span",24),e._uU(9,"Name"),e.qZA()(),e.TgZ(10,"div",25)(11,"div",26),e._uU(12),e.qZA()()(),e.TgZ(13,"div",27)(14,"div",23)(15,"span",24),e._uU(16,"Code"),e.qZA()(),e.TgZ(17,"div",25)(18,"div",26),e._uU(19),e.qZA()()()()()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(7),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(6),e.Q6J("title",t.code),e.xp6(1),e.Oqu(t.code)}}function gn(i,o){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,_n,20,6,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredAssociations)}}function fn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function xn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function bn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function vn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Cn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",46),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().value,a=e.oxw(2);return e.KtG(a.linkUnlinkStudents(s))}),e.qZA()}}function An(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",47),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().value,a=e.oxw(2);return e.KtG(a.attendence(s))}),e.qZA()}}function Tn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",48),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().value,a=e.oxw(2);return e.KtG(a.editClass(s))}),e.qZA()}}function wn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",49),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().value,a=e.oxw(2);return e.KtG(a.deleteClass(s))}),e.qZA()}}function Mn(i,o){if(1&i&&(e.TgZ(0,"div",41),e.YNc(1,Cn,1,0,"i",42),e.YNc(2,An,1,0,"i",43),e.YNc(3,Tn,1,0,"i",44),e.YNc(4,wn,1,0,"i",45),e.qZA()),2&i){const t=o.row,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role||t.isClassTeacher&&n.canTakeAttendance),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role)}}function qn(i,o){if(1&i&&(e.TgZ(0,"div",32)(1,"ngx-datatable",33,34)(3,"ngx-datatable-column",35),e.YNc(4,fn,2,1,"ng-template",36),e.qZA(),e.TgZ(5,"ngx-datatable-column",37),e.YNc(6,xn,2,1,"ng-template",36),e.qZA(),e.TgZ(7,"ngx-datatable-column",38),e.YNc(8,bn,2,1,"ng-template",36),e.qZA(),e.TgZ(9,"ngx-datatable-column",39),e.YNc(10,vn,2,1,"ng-template",36),e.qZA(),e.TgZ(11,"ngx-datatable-column",40),e.YNc(12,Mn,5,4,"ng-template",36),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredAssociations)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200)}}let yn=(()=>{class i{constructor(t,n,s,a,r){this.dialog=t,this.classService=n,this.toastr=s,this.authService=a,this.generalService=r,this.toggleValue="table",this.filterAssociationText="",this.associations=[],this.filteredAssociations=[],this.role="",this.canTakeAttendance=!1,this.ColumnMode=m.hq}ngOnInit(){if(this.role=this.authService.role,"TEACHER"==this.role){const t=this.generalService.getAttendanceLastStatus().subscribe(n=>{200==n.code?n.data.length>0&&(this.canTakeAttendance=!0):this.toastr.error(n.message),t.unsubscribe()})}this.loadTableData()}loadTableData(){const t=this.classService.getAllClasses().subscribe(n=>{200==n.code?(this.associations=n.data,this.filteredAssociations=this.associations):this.toastr.error(n.message),t.unsubscribe()})}filterAssociation(){if(this.filterAssociationText?.length>0){let t=this.filterAssociationText.toLowerCase();this.filteredAssociations=this.associations.filter(n=>n.name&&n.name.toLowerCase().includes(t))}else this.filteredAssociations=[...this.associations]}openAddClass(){this.dialog.open(it,{width:"50%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(n=>{n&&this.loadTableData()})}editClass(t){this.dialog.open(it,{width:"50%",autoFocus:!1,data:{id:t}}).componentInstance.confirmed.subscribe(s=>{s&&this.loadTableData()})}deleteClass(t){this.dialog.open(J.z,{width:"50%",autoFocus:!1,data:{title:"Delete Class",message:"Are you sure you want to delete the selected Class?"}}).componentInstance.confirmed.subscribe(s=>{if(s){const a=this.classService.deleteClass(t).subscribe(r=>{200==r.code?(this.toastr.success(r.message),this.loadTableData()):this.toastr.error(r.message),a.unsubscribe()})}})}attendence(t){this.dialog.open(un.i,{width:"80%",autoFocus:!1,data:{id:t}})}linkUnlinkStudents(t){this.dialog.open(ln,{width:"90%",autoFocus:!1,data:{id:t}})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.uw),e.Y36(v.j),e.Y36(C._W),e.Y36(I.$),e.Y36(pn.m))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-association"]],viewQuery:function(n,s){if(1&n&&e.Gf(L.NW,5),2&n){let a;e.iGM(a=e.CRH())&&(s.paginator=a.first)}},decls:16,vars:4,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"input-group","flex-nowrap"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Class","type","text","name","searchAssociation",1,"form-control",2,"width","350px",3,"ngModel","ngModelChange","keyup"],["searchAssociation","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-4 px-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-4","px-3"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","name",3,"width"],["name","Class Teacher","prop","teacherName",3,"width"],["name","Code","prop","code",3,"width"],["name","Action","prop","id",3,"width"],[1,"d-flex"],["class","fa-solid fa-link pointer","title","Link Students","title","Link Students",3,"click",4,"ngIf"],["class","fa fa-user ms-3 pointer","title","Attendance",3,"click",4,"ngIf"],["class","fa-solid fa-pen-to-square pointer ms-3","style","color: #1b3e99;",3,"click",4,"ngIf"],["class","fa fa-trash text-danger ms-3 pointer",3,"click",4,"ngIf"],["title","Link Students","title","Link Students",1,"fa-solid","fa-link","pointer",3,"click"],["title","Attendance",1,"fa","fa-user","ms-3","pointer",3,"click"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Class"),e.qZA(),e.YNc(3,hn,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div")(8,"div",5)(9,"span",6)(10,"i",7),e._uU(11,"search"),e.qZA()(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(r){return s.filterAssociationText=r})("keyup",function(){return s.filterAssociation()}),e.qZA()()()(),e.YNc(14,gn,2,1,"div",10),e.YNc(15,qn,13,11,"div",11),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==s.role),e.xp6(9),e.Q6J("ngModel",s.filterAssociationText),e.xp6(2),e.Q6J("ngIf","card"==s.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==s.toggleValue))},dependencies:[p.sg,p.O5,Q.RK,N.Hw,c.Fj,c.JJ,c.On,y.a8,y.G2,m.nE,m.UC,m.vq],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return i})();var fe=h(4385);const Zn=["subjectForm"];function In(i,o){1&i&&(e.TgZ(0,"p",27),e._uU(1," Name is required "),e.qZA())}function kn(i,o){if(1&i&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}const Sn=function(i){return{"is-invalid":i}};let nt=(()=>{class i{constructor(t,n,s,a,r){this.dialogRef=t,this.details=n,this.classService=s,this.toastr=a,this.instituteService=r,this.data={},this.branches=[],this.issubjectFormVisible=!0,this.status="Add",this.classes=[],this.isSelectAll=!1,this.selectUnselectText="Select All Class",this.confirmed=new e.vpe}ngOnInit(){const t=this.classService.getAllClasses().subscribe(n=>{this.classes=n.data,this.loadTableData(),t.unsubscribe()})}loadTableData(){if(this.details.id){this.status="Edit";const t=this.classService.getSubjectById(this.details.id).subscribe(n=>{this.data=n.data,this.data.associationIds?.length==this.classes.length&&(this.selectUnselectText="Unselect All Class",this.data.associationIds=this.classes.map(s=>s.id),this.isSelectAll=!0),t.unsubscribe()})}}close(){this.dialogRef.close()}onSubmit(){if(this.issubjectFormVisible&&this.subjectForm.control.markAllAsTouched(),this.subjectForm.form.valid)if(this.details.id){const t=this.classService.updateSubject(this.data).subscribe(n=>{200==n.code?(this.close(),this.confirmed.emit(!0)):this.toastr.error(n.message),t.unsubscribe()})}else{const t=this.classService.saveSubject(this.data).subscribe(n=>{200==n.code?(this.close(),this.confirmed.emit(!0)):this.toastr.error(n.message),t.unsubscribe()})}}checkAll(){this.data.associationIds?.length==this.classes.length?(this.data.associationIds=[],this.selectUnselectText="Select All Class"):(this.selectUnselectText="Unselect All Class",this.data.associationIds=this.classes.map(t=>t.id))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.so),e.Y36(x.WI),e.Y36(v.j),e.Y36(C._W),e.Y36(_e.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-subject"]],viewQuery:function(n,s){if(1&n&&e.Gf(Zn,5),2&n){let a;e.iGM(a=e.CRH())&&(s.subjectForm=a.first)}},outputs:{confirmed:"confirmed"},decls:40,vars:13,consts:[[1,"card","mb-0",2,"max-height","90vh","overflow","auto"],[1,"name","d-flex","justify-content-between","align-items-center","p-3"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[3,"ngSubmit"],["subjectForm","ngForm"],[1,"p-3"],[1,"form-field"],[1,"label"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","validation-error ",4,"ngIf"],[1,"form-field","mt-4"],["type","text","name","code",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","checkbox","name","check",1,"me-2","mb-1","pointer",2,"align-self","flex-end",3,"ngModel","ngModelChange","change"],[1,"form-field","mt-3"],["name","item","multiple","",1,"form-select",3,"ngModel","ngModelChange"],[1,"drop-down"],[3,"value",4,"ngFor","ngForOf"],["type","text","rows","2","name","description",1,"form-control",2,"height","100%",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"validation-error"],[3,"value"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return s.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"form",5,6),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Name*"),e.qZA(),e.TgZ(12,"input",10,11),e.NdJ("ngModelChange",function(r){return s.data.name=r}),e.qZA(),e.YNc(14,In,2,0,"p",12),e.qZA(),e.TgZ(15,"div",13)(16,"label",9),e._uU(17,"Code"),e.qZA(),e.TgZ(18,"input",14,15),e.NdJ("ngModelChange",function(r){return s.data.code=r}),e.qZA()(),e.TgZ(20,"div",16)(21,"input",17),e.NdJ("ngModelChange",function(r){return s.isSelectAll=r})("change",function(){return s.checkAll()}),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"div",18)(24,"label",9),e._uU(25,"Class"),e.qZA(),e.TgZ(26,"mat-select",19),e.NdJ("ngModelChange",function(r){return s.data.associationIds=r}),e.TgZ(27,"div",20),e.YNc(28,kn,2,2,"mat-option",21),e.qZA()()(),e.TgZ(29,"div",13)(30,"label",9),e._uU(31,"Description"),e.qZA(),e.TgZ(32,"textarea",22,23),e.NdJ("ngModelChange",function(r){return s.data.description=r}),e.qZA()()(),e._UZ(34,"hr",4),e.TgZ(35,"div",24)(36,"button",25),e.NdJ("click",function(){return s.close()}),e._uU(37,"Cancel"),e.qZA(),e.TgZ(38,"button",26),e._uU(39),e.qZA()()()()),2&n){const a=e.MAs(13);e.xp6(3),e.hij("",s.status," Subject"),e.xp6(9),e.Q6J("ngModel",s.data.name)("ngClass",e.VKq(11,Sn,a.touched&&a.errors&&a.errors.required)),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors&&a.errors.required),e.xp6(4),e.Q6J("ngModel",s.data.code),e.xp6(3),e.Q6J("ngModel",s.isSelectAll),e.xp6(1),e.hij("",s.selectUnselectText," "),e.xp6(4),e.Q6J("ngModel",s.data.associationIds),e.xp6(2),e.Q6J("ngForOf",s.classes),e.xp6(4),e.Q6J("ngModel",s.data.description),e.xp6(7),e.Oqu("Add"==s.status?"Save":"Update")}},dependencies:[p.mk,p.sg,p.O5,c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.Q7,c.On,c.F,fe.gD,A.ey],styles:[".drop-down[_ngcontent-%COMP%]{background-color:#fff;border:solid;border-width:1px;border-radius:6px}"]})}return i})();function En(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openAddSubject())}),e._UZ(1,"i",14),e._uU(2,"\xa0\xa0Add Subject "),e.qZA()}}function Nn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",29),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editSubject(s.id))}),e.TgZ(2,"mat-icon",30),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",31),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deleteSubject(s.id))}),e.TgZ(5,"mat-icon",32),e._uU(6,"delete"),e.qZA()()()}}function On(i,o){if(1&i&&(e.TgZ(0,"div",17)(1,"mat-card",18)(2,"div",19),e._UZ(3,"img",20),e.YNc(4,Nn,7,0,"a",21),e.qZA(),e.TgZ(5,"div",22)(6,"div",23)(7,"div",24)(8,"span",25),e._uU(9,"Name"),e.qZA()(),e.TgZ(10,"div",26)(11,"div",27),e._uU(12),e.qZA()()(),e.TgZ(13,"div",28)(14,"div",24)(15,"span",25),e._uU(16,"Code"),e.qZA()(),e.TgZ(17,"div",26)(18,"div",27),e._uU(19),e.qZA()()()()()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(7),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(6),e.Q6J("title",t.code),e.xp6(1),e.Oqu(t.code)}}function Dn(i,o){if(1&i&&(e.TgZ(0,"div",15),e.YNc(1,On,20,6,"div",16),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredSubjects)}}function Jn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Qn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Un(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t.length)}}function Pn(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",42),e.YNc(1,Un,2,1,"ng-template",37),e.qZA()),2&i&&e.Q6J("width",200)}function Rn(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function jn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"i",45),e.NdJ("click",function(){const a=e.CHM(t).value,r=e.oxw(3);return e.KtG(r.editSubject(a))}),e.qZA(),e.TgZ(2,"i",46),e.NdJ("click",function(){const a=e.CHM(t).value,r=e.oxw(3);return e.KtG(r.deleteSubject(a))}),e.qZA()()}}function Fn(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",43),e.YNc(1,jn,3,0,"ng-template",37),e.qZA()),2&i&&e.Q6J("width",200)}function Yn(i,o){if(1&i&&(e.TgZ(0,"div",33)(1,"ngx-datatable",34,35)(3,"ngx-datatable-column",36),e.YNc(4,Jn,2,1,"ng-template",37),e.qZA(),e.TgZ(5,"ngx-datatable-column",38),e.YNc(6,Qn,2,1,"ng-template",37),e.qZA(),e.YNc(7,Pn,2,1,"ngx-datatable-column",39),e.TgZ(8,"ngx-datatable-column",40),e.YNc(9,Rn,2,1,"ng-template",37),e.qZA(),e.YNc(10,Fn,2,1,"ngx-datatable-column",41),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredSubjects)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","STUDENT"!=t.role),e.xp6(1),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","INSTITUTE_ADMIN"==t.role)}}let Ln=(()=>{class i{constructor(t,n,s,a){this.dialog=t,this.classService=n,this.toastr=s,this.authService=a,this.toggleValue="table",this.filterTeachertext="",this.subjects=[],this.filteredSubjects=[],this.ColumnMode=m.hq,this.role=""}ngOnInit(){this.role=this.authService.role,this.loadTableData()}loadTableData(){const t=this.classService.getAllSubject().subscribe(n=>{this.subjects=n.data,this.filteredSubjects=n.data,t.unsubscribe()})}filterSubjects(){if(this.filterTeachertext?.length>0){let t=this.filterTeachertext.toLowerCase();this.filteredSubjects=this.subjects.filter(n=>n.name&&n.name.toLowerCase().includes(t))}else this.filteredSubjects=[...this.subjects]}openAddSubject(){this.dialog.open(nt,{width:"50%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(n=>{n&&this.loadTableData()})}editSubject(t){this.dialog.open(nt,{width:"50%",autoFocus:!1,data:{id:t}}).componentInstance.confirmed.subscribe(s=>{s&&this.loadTableData()})}deleteSubject(t){this.dialog.open(J.z,{width:"50%",autoFocus:!1,data:{title:"Delete Subject",message:"Are you sure you want to delete the selected subject?"}}).componentInstance.confirmed.subscribe(s=>{if(s){const a=this.classService.deleteSubject(t).subscribe(r=>{200==r.code?(this.toastr.success(r.message),this.loadTableData()):this.toastr.error(r.message),a.unsubscribe()})}})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.uw),e.Y36(v.j),e.Y36(C._W),e.Y36(I.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-subject"]],viewQuery:function(n,s){if(1&n&&e.Gf(L.NW,5),2&n){let a;e.iGM(a=e.CRH())&&(s.paginator=a.first)}},decls:16,vars:4,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"input-group","flex-nowrap"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Subject","type","text","name","searchSubject",1,"form-control",2,"min-width","350px",3,"ngModel","ngModelChange","keyup"],["searchSubject","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-4 px-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-4","px-3"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","name",3,"width"],["name","Class Linked","prop","associationIds",3,"width",4,"ngIf"],["name","Code","prop","code",3,"width"],["name","Action","prop","id",3,"width",4,"ngIf"],["name","Class Linked","prop","associationIds",3,"width"],["name","Action","prop","id",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Subject"),e.qZA(),e.YNc(3,En,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div",5)(8,"div",6)(9,"span",7)(10,"i",8),e._uU(11,"search"),e.qZA()(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(r){return s.filterTeachertext=r})("keyup",function(){return s.filterSubjects()}),e.qZA()()()(),e.YNc(14,Dn,2,1,"div",11),e.YNc(15,Yn,11,11,"div",12),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==s.role),e.xp6(9),e.Q6J("ngModel",s.filterTeachertext),e.xp6(2),e.Q6J("ngIf","card"==s.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==s.toggleValue))},dependencies:[p.sg,p.O5,Q.RK,N.Hw,c.Fj,c.JJ,c.On,y.a8,y.G2,m.nE,m.UC,m.vq],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.form-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return i})();var H=h(4128),st=h(7518),Hn=h(529);const Gn=["notesForm"];function Vn(i,o){1&i&&(e.TgZ(0,"p",29),e._uU(1," Title is required "),e.qZA())}function Bn(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function zn(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function Wn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",23)(2,"label",15),e._uU(3,"Subject"),e.qZA(),e.TgZ(4,"select",31,32),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw(2);return e.KtG(a.data.subjectId=s)})("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.filterChapters())}),e.YNc(6,zn,2,2,"option",21),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.data.subjectId),e.xp6(2),e.Q6J("ngForOf",t.filteredSubjects)}}function Kn(i,o){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function $n(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",23)(2,"label",15),e._uU(3,"Chapter"),e.qZA(),e.TgZ(4,"select",33,34),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw(2);return e.KtG(a.data.chapterId=s)}),e.YNc(6,Kn,2,2,"option",21),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.data.chapterId),e.xp6(2),e.Q6J("ngForOf",t.filteredChapters)}}function Xn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.chooseFiles())}),e._uU(1,"Choose Files"),e.qZA()}}const es=function(i){return{"is-invalid":i}};function ts(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",10,11),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e.TgZ(2,"div",12)(3,"div",13)(4,"div",14)(5,"label",15),e._uU(6,"Title*"),e.qZA(),e.TgZ(7,"input",16,17),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.title=s)}),e.qZA(),e.YNc(9,Vn,2,0,"p",18),e.qZA()(),e.TgZ(10,"div",13)(11,"div",14)(12,"label",15),e._uU(13,"Class"),e.qZA(),e.TgZ(14,"select",19,20),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.associationId=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterSubjects())}),e.YNc(16,Bn,2,2,"option",21),e.qZA()()(),e.YNc(17,Wn,7,2,"div",22),e.YNc(18,$n,7,2,"div",22),e.TgZ(19,"div",13)(20,"div",23)(21,"label",15),e._uU(22,"Description"),e.qZA(),e.TgZ(23,"textarea",24,25),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.description=s)}),e.qZA()()(),e.TgZ(25,"div",13)(26,"div",26)(27,"input",27),e.NdJ("change",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectFiles(s))}),e.qZA(),e.YNc(28,Xn,2,0,"button",28),e.qZA()()()()}if(2&i){const t=e.MAs(8),n=e.oxw();e.xp6(7),e.Q6J("ngModel",n.data.title)("ngClass",e.VKq(9,es,t.touched&&t.errors&&t.errors.required)),e.xp6(2),e.Q6J("ngIf",t.touched&&t.errors&&t.errors.required),e.xp6(5),e.Q6J("ngModel",n.data.associationId),e.xp6(2),e.Q6J("ngForOf",n.classes),e.xp6(1),e.Q6J("ngIf",n.data.associationId&&n.filteredSubjects.length>0),e.xp6(1),e.Q6J("ngIf",n.data.subjectId&&n.filteredChapters.length>0),e.xp6(5),e.Q6J("ngModel",n.data.description),e.xp6(5),e.Q6J("ngIf","View"!=n.details.type)}}function is(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",49),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index,a=e.oxw(2);return e.KtG(a.removeFile(s))}),e.qZA()}}function ns(i,o){1&i&&e._UZ(0,"i",50)}function ss(i,o){1&i&&e._UZ(0,"i",51)}function os(i,o){1&i&&e._UZ(0,"i")}function as(i,o){if(1&i&&e._UZ(0,"img",52),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.src,e.LSH)}}function rs(i,o){if(1&i&&e._UZ(0,"img",52),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.src,e.LSH)}}function ds(i,o){if(1&i&&e._UZ(0,"img",52),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.src,e.LSH)}}function cs(i,o){if(1&i&&e._UZ(0,"img",52),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.src,e.LSH)}}function ls(i,o){if(1&i&&e._UZ(0,"img",52),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.src,e.LSH)}}function us(i,o){if(1&i&&e._UZ(0,"img",52),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.src,e.LSH)}}function ps(i,o){if(1&i&&e._UZ(0,"img",52),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.src,e.LSH)}}function hs(i,o){if(1&i&&e._UZ(0,"img",52),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.src,e.LSH)}}function ms(i,o){1&i&&e._UZ(0,"i",53)}function _s(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39),e.YNc(2,is,1,0,"i",40),e.TgZ(3,"div",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openFile(a))}),e.ynx(4,42),e.YNc(5,ns,1,0,"i",43),e.YNc(6,ss,1,0,"i",44),e.YNc(7,os,1,0,"i",45),e.YNc(8,as,1,1,"img",46),e.YNc(9,rs,1,1,"img",46),e.YNc(10,ds,1,1,"img",46),e.YNc(11,cs,1,1,"img",46),e.YNc(12,ls,1,1,"img",46),e.YNc(13,us,1,1,"img",46),e.YNc(14,ps,1,1,"img",46),e.YNc(15,hs,1,1,"img",46),e.YNc(16,ms,1,0,"i",47),e.BQk(),e.qZA()(),e.TgZ(17,"div",48),e._uU(18),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("title",t.name),e.xp6(2),e.Q6J("ngIf","View"!=n.details.type),e.xp6(2),e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase","application/pdf"),e.xp6(1),e.Q6J("ngSwitchCase","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),e.xp6(1),e.Q6J("ngSwitchCase","application/msword files"),e.xp6(1),e.Q6J("ngSwitchCase","image/apng"),e.xp6(1),e.Q6J("ngSwitchCase","image/avif"),e.xp6(1),e.Q6J("ngSwitchCase","image/gif"),e.xp6(1),e.Q6J("ngSwitchCase","image/png"),e.xp6(1),e.Q6J("ngSwitchCase","image/jpg"),e.xp6(1),e.Q6J("ngSwitchCase","image/jpeg"),e.xp6(1),e.Q6J("ngSwitchCase","image/svg"),e.xp6(1),e.Q6J("ngSwitchCase","image/webp"),e.xp6(3),e.Oqu(t.name)}}function gs(i,o){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,_s,19,15,"div",37),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.selectedFiles)}}function fs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",49),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),a=s.$implicit,r=s.index,d=e.oxw(2);return e.KtG(d.removeGetFile(a.id,r))}),e.qZA()}}function xs(i,o){1&i&&e._UZ(0,"i",50)}function bs(i,o){1&i&&e._UZ(0,"i",51)}function vs(i,o){1&i&&e._UZ(0,"i",60)}function Cs(i,o){if(1&i&&e._UZ(0,"img",61),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.filePath,e.LSH)}}function As(i,o){if(1&i&&e._UZ(0,"img",61),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.filePath,e.LSH)}}function Ts(i,o){if(1&i&&e._UZ(0,"img",61),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.filePath,e.LSH)}}function ws(i,o){if(1&i&&e._UZ(0,"img",61),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.filePath,e.LSH)}}function Ms(i,o){if(1&i&&e._UZ(0,"img",61),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.filePath,e.LSH)}}function qs(i,o){if(1&i&&e._UZ(0,"img",61),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.filePath,e.LSH)}}function ys(i,o){if(1&i&&e._UZ(0,"img",61),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.filePath,e.LSH)}}function Zs(i,o){if(1&i&&e._UZ(0,"img",61),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.filePath,e.LSH)}}function Is(i,o){if(1&i&&e._UZ(0,"img",62),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.fileName,e.LSH)}}function ks(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openGetFile(a.filePath))}),e.TgZ(1,"div",39),e.YNc(2,fs,1,0,"i",40),e.TgZ(3,"div",56),e.ynx(4,42),e.YNc(5,xs,1,0,"i",43),e.YNc(6,bs,1,0,"i",44),e.YNc(7,vs,1,0,"i",57),e.YNc(8,Cs,1,1,"img",58),e.YNc(9,As,1,1,"img",58),e.YNc(10,Ts,1,1,"img",58),e.YNc(11,ws,1,1,"img",58),e.YNc(12,Ms,1,1,"img",58),e.YNc(13,qs,1,1,"img",58),e.YNc(14,ys,1,1,"img",58),e.YNc(15,Zs,1,1,"img",58),e.YNc(16,Is,1,1,"img",59),e.BQk(),e.qZA()(),e.TgZ(17,"div",48),e._uU(18),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("title",t.fileName),e.xp6(2),e.Q6J("ngIf","View"!=n.details.type),e.xp6(2),e.Q6J("ngSwitch",t.fileType),e.xp6(1),e.Q6J("ngSwitchCase","application/pdf"),e.xp6(1),e.Q6J("ngSwitchCase","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"),e.xp6(1),e.Q6J("ngSwitchCase","application/msword"),e.xp6(1),e.Q6J("ngSwitchCase","image/apng"),e.xp6(1),e.Q6J("ngSwitchCase","image/avif"),e.xp6(1),e.Q6J("ngSwitchCase","image/gif"),e.xp6(1),e.Q6J("ngSwitchCase","image/png"),e.xp6(1),e.Q6J("ngSwitchCase","image/jpg"),e.xp6(1),e.Q6J("ngSwitchCase","image/jpeg"),e.xp6(1),e.Q6J("ngSwitchCase","image/svg"),e.xp6(1),e.Q6J("ngSwitchCase","image/webp"),e.xp6(3),e.Oqu(t.fileName)}}function Ss(i,o){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,ks,19,15,"div",54),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.getNotes.files)}}function Es(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",63)(1,"button",64),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.close())}),e._uU(2,"Cancel"),e.qZA(),e.TgZ(3,"button",65),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e._uU(4),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.details.id?"Update":"Save")}}let ot=(()=>{class i{constructor(t,n,s,a,r){this.dialogRef=t,this.details=n,this.clasService=s,this.toastr=a,this.httpClient=r,this.data={},this.status="Add",this.selectedFiles=[],this.classes=[],this.subjects=[],this.filteredSubjects=[],this.chapters=[],this.filteredChapters=[],this.isNotesFormVisible=!0,this.getNotes={},this.deleteFilesId=[],this.confirmed=new e.vpe}ngOnInit(){const t=(0,H.D)({cls:this.clasService.getAllClasses(),sub:this.clasService.getAllSubject(),chap:this.clasService.getAllChapters()}).subscribe(({cls:n,sub:s,chap:a})=>{200==n.code?this.classes=n.data:this.toastr.error(n.message),200==s.code?this.subjects=s.data:this.toastr.error(s.message),200==a.code?this.chapters=a.data:this.toastr.error(a.message),this.loadData(),t.unsubscribe()})}loadData(){this.details.id&&(this.status=this.details.type,this.clasService.getNotesById(this.details.id).subscribe(n=>{200==n.code?(this.getNotes=n.data,this.data.chapterId=this.getNotes.chapterId,this.data.associationId=this.getNotes.associationId,this.data.description=this.getNotes.description,this.data.subjectId=this.getNotes.subjectId,this.data.title=this.getNotes.title,this.filterSubjects(),this.filterChapters()):this.toastr.error(n.message)}))}close(){this.dialogRef.close()}chooseFiles(){document.getElementById("file")?.click()}selectFiles(t){if(t.target.files.length>0){const n=Array.from(t.target.files);this.selectedFiles=[...this.selectedFiles,...n],this.selectedFiles.forEach(s=>{const a=new FileReader;a.onload=r=>{s.src=r.target.result},a.readAsDataURL(s)})}}openFile(t){if(["image/jpeg","image/png","image/gif","application/pdf","text/plain"].includes(t.type)){const s=URL.createObjectURL(t);window.open(s)}else{alert("This file type cannot be opened in a new tab. It will be downloaded.");const s=URL.createObjectURL(t);window.open(s)}}openGetFile(t){window.open(t,"_blank")}removeFile(t){this.selectedFiles.splice(t,1)}removeGetFile(t,n){t&&(this.deleteFilesId.push(t),this.getNotes.files?.splice(n,1))}onSubmit(){if(this.isNotesFormVisible&&this.notesForm.control.markAllAsTouched(),!this.notesForm.form.valid)return;this.clasService.processing(!0);const t=new FormData;if(t.append("associationId",this.data.associationId?this.data.associationId.toString():"-1"),t.append("subjectId",this.data.subjectId?this.data.subjectId.toString():"-1"),t.append("chapterId",this.data.chapterId?this.data.chapterId.toString():"-1"),t.append("title",this.data.title?this.data.title:""),t.append("description",this.data.description?this.data.description:""),this.selectedFiles.forEach((n,s)=>{t.append("files",n)}),this.getNotes.id)t.append("filesToDelete",this.deleteFilesId?this.deleteFilesId:[]),this.httpClient.put(`${st.N.lmsEndPoint}notes/update?id=${this.details.id}`,t).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.close(),this.confirmed.emit(!0)):this.toastr.error(n.message),this.clasService.processing(!1)});else{if(0==this.selectedFiles.length)return this.toastr.error("Add Notes First"),void this.clasService.processing(!1);this.httpClient.post(`${st.N.lmsEndPoint}notes/upload`,t).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.close(),this.confirmed.emit(!0)):this.toastr.error(n.message),this.clasService.processing(!1)})}}filterSubjects(){this.details.id||(this.data.subjectId=0),this.filteredSubjects=this.data.associationId?this.subjects.filter(t=>null!=t.associationIds&&t.associationIds.length>0&&t.associationIds?.findIndex(n=>n==this.data.associationId)>-1):[]}filterChapters(){this.details.id||(this.data.chapterId=-1),this.filteredChapters=this.data.associationId&&this.data.subjectId?this.chapters.filter(t=>t.subjectId==this.data.subjectId&&t.associationId==this.data.associationId):[]}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.so),e.Y36(x.WI),e.Y36(v.j),e.Y36(C._W),e.Y36(Hn.eN))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-notes"]],viewQuery:function(n,s){if(1&n&&e.Gf(Gn,5),2&n){let a;e.iGM(a=e.CRH())&&(s.notesForm=a.first)}},outputs:{confirmed:"confirmed"},decls:13,vars:5,consts:[[1,"card","mb-0",2,"max-height","99vh","overflow","auto"],[1,"p-3","d-flex","justify-content-between","align-items-center"],[1,"title"],[1,"fa","fa-x","pointer",3,"click"],[1,"m-0"],[1,"p-3"],[3,"ngSubmit",4,"ngIf"],[1,"d-flex",2,"flex-wrap","wrap"],["class","file-container",4,"ngIf"],["class","d-flex justify-content-end p-3",4,"ngIf"],[3,"ngSubmit"],["notesForm","ngForm"],[1,"row"],[1,"col-6"],[1,"form-field","mt-2"],[1,"label"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","validation-error ",4,"ngIf"],["name","class",1,"form-select",3,"ngModel","ngModelChange","change"],["class","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","col-6",4,"ngIf"],[1,"form-field","mt-4"],["rows","3","name","description",1,"form-control",2,"height","100%",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"mt-4"],["type","file","multiple","","id","file","hidden","",3,"change"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"validation-error"],[3,"value"],["name","subject",1,"form-select",3,"ngModel","ngModelChange","click"],["subject","ngModel"],["name","chapter",1,"form-select",3,"ngModel","ngModelChange"],["chapter","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"file-container"],["class","file-item",3,"title",4,"ngFor","ngForOf"],[1,"file-item",3,"title"],[1,"file-icon"],["class","fa-regular fa-x cross",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","140px",3,"click"],[1,"files",3,"ngSwitch"],["class","fa-regular fa-file-pdf files",4,"ngSwitchCase"],["class","fa-regular fa-file-excel files",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"src",4,"ngSwitchCase"],["class","fa-regular fa-file files",4,"ngSwitchDefault"],[1,"file-name","ellipse"],[1,"fa-regular","fa-x","cross",3,"click"],[1,"fa-regular","fa-file-pdf","files"],[1,"fa-regular","fa-file-excel","files"],[3,"src"],[1,"fa-regular","fa-file","files"],["class","file-item",3,"title","click",4,"ngFor","ngForOf"],[1,"file-item",3,"title","click"],[1,"d-flex","justify-content-center","align-items-center",2,"height","140px"],["class","fa-regular fa-file-word files",4,"ngSwitchCase"],["class","fa-regular fa-file-word",3,"src",4,"ngSwitchCase"],["class","fa-regular fa-file files",3,"src",4,"ngSwitchDefault"],[1,"fa-regular","fa-file-word","files"],[1,"fa-regular","fa-file-word",3,"src"],[1,"fa-regular","fa-file","files",3,"src"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","mx-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return s.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"div",5),e.YNc(7,ts,29,11,"form",6),e.TgZ(8,"div",7),e.YNc(9,gs,2,1,"div",8),e.YNc(10,Ss,2,1,"div",8),e.qZA()(),e._UZ(11,"hr",4),e.YNc(12,Es,5,1,"div",9),e.qZA()),2&n&&(e.xp6(3),e.hij("",s.status," Notes"),e.xp6(4),e.Q6J("ngIf","View"!=s.status),e.xp6(2),e.Q6J("ngIf",s.selectedFiles&&s.selectedFiles.length>0),e.xp6(1),e.Q6J("ngIf",s.getNotes.files&&s.getNotes.files.length>0),e.xp6(2),e.Q6J("ngIf","View"!=s.details.type))},dependencies:[p.mk,p.sg,p.O5,p.RF,p.n9,p.ED,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F],styles:[".file-container[_ngcontent-%COMP%]{display:flex;gap:10px;margin:10px;max-width:700px;overflow:auto;scrollbar-width:none!important}.file-item[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:5px;cursor:pointer;transition:background-color .2s;height:170px}.file-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.file-icon[_ngcontent-%COMP%]{font-size:24px;position:relative}.file-name[_ngcontent-%COMP%]{border-top:1px solid #ddd;font-size:16px;color:#333;padding:0 10px}.files[_ngcontent-%COMP%]{color:#007bff;height:100px;font-size:70px;margin-top:25px!important;opacity:60%}i.fa-file-pdf[_ngcontent-%COMP%]{color:#e74c3c}i.fa-file-excel[_ngcontent-%COMP%]{color:#27ae60}i.fa-file-word[_ngcontent-%COMP%]{color:#2980b9}ellipse[_ngcontent-%COMP%]{width:150px!important}.cross[_ngcontent-%COMP%]{font-size:13px;position:absolute;right:10px;top:10px;cursor:pointer}img[_ngcontent-%COMP%]{width:165px;object-fit:cover;height:140px;opacity:60%}"]})}return i})();function Ns(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openAddNotes())}),e._UZ(1,"i",9),e._uU(2,"\xa0\xa0Add Notes"),e.qZA()}}function Os(i,o){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ds(i,o){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Js(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Classes"),e.qZA(),e.TgZ(5,"select",14,15),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedClass=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterNotes())}),e.YNc(7,Os,2,2,"option",16),e.qZA()()(),e.TgZ(8,"div",17)(9,"div",12)(10,"label",13),e._uU(11,"Subjects"),e.qZA(),e.TgZ(12,"select",18,19),e.NdJ("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterNotes())})("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedSubject=s)}),e.YNc(14,Ds,2,2,"option",16),e.qZA()()(),e.TgZ(15,"div",20)(16,"span",21)(17,"i",22),e._uU(18,"search"),e.qZA()(),e.TgZ(19,"input",23,24),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.filterNotestext=s)})("keyup",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterNotes())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.selectedClass),e.xp6(2),e.Q6J("ngForOf",t.classes),e.xp6(5),e.Q6J("ngModel",t.selectedSubject),e.xp6(2),e.Q6J("ngForOf",t.subjects),e.xp6(5),e.Q6J("ngModel",t.filterNotestext)}}function Qs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",40),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editViewNotes(s.id,"Edit"))}),e.TgZ(2,"mat-icon",41),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deleteNotes(s.id))}),e.TgZ(5,"mat-icon",43),e._uU(6,"delete"),e.qZA()()()}}function Us(i,o){if(1&i&&(e.TgZ(0,"div",28)(1,"mat-card",29)(2,"div",30),e._UZ(3,"img",31),e.YNc(4,Qs,7,0,"a",32),e.qZA(),e.TgZ(5,"div",33)(6,"div",34)(7,"div",35)(8,"span",36),e._uU(9,"Title"),e.qZA()(),e.TgZ(10,"div",37)(11,"div",38),e._uU(12),e.qZA()()(),e.TgZ(13,"div",39)(14,"div",35)(15,"span",36),e._uU(16,"Description"),e.qZA()(),e.TgZ(17,"div",37)(18,"div",38),e._uU(19),e.qZA()()()()()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(1),e.Q6J("ngIf","STUDENT"!=n.role),e.xp6(7),e.Q6J("title",t.title),e.xp6(1),e.Oqu(t.title),e.xp6(6),e.Q6J("title",t.description),e.xp6(1),e.Oqu(t.description)}}function Ps(i,o){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Us,20,6,"div",27),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.notes)}}function Rs(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function js(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Fs(i,o){if(1&i&&(e.TgZ(0,"div",10)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=o.value;e.xp6(2),e.Oqu(t)}}function Ys(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",53),e.YNc(1,Fs,3,1,"ng-template",48),e.qZA()),2&i&&e.Q6J("width",200)}function Ls(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Hs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",58),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().value,a=e.oxw(2);return e.KtG(a.editViewNotes(s,"Edit"))}),e.qZA()}}function Gs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"i",59),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().value,a=e.oxw(2);return e.KtG(a.deleteNotes(s))}),e.qZA()}}function Vs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"i",55),e.NdJ("click",function(){const a=e.CHM(t).value,r=e.oxw(2);return e.KtG(r.editViewNotes(a,"View"))}),e.qZA(),e.YNc(2,Hs,1,0,"i",56),e.YNc(3,Gs,1,0,"i",57),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf","STUDENT"!=t.role),e.xp6(1),e.Q6J("ngIf","STUDENT"!=t.role)}}function Bs(i,o){if(1&i&&(e.TgZ(0,"div",44)(1,"ngx-datatable",45,46)(3,"ngx-datatable-column",47),e.YNc(4,Rs,2,1,"ng-template",48),e.qZA(),e.TgZ(5,"ngx-datatable-column",49),e.YNc(6,js,2,1,"ng-template",48),e.qZA(),e.YNc(7,Ys,2,1,"ngx-datatable-column",50),e.TgZ(8,"ngx-datatable-column",51),e.YNc(9,Ls,2,1,"ng-template",48),e.qZA(),e.TgZ(10,"ngx-datatable-column",52),e.YNc(11,Vs,4,2,"ng-template",48),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredNotes)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","STUDENT"!=t.role),e.xp6(1),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200)}}let zs=(()=>{class i{constructor(t,n,s,a){this.dialog=t,this.classService=n,this.toastr=s,this.authService=a,this.toggleValue="table",this.filterNotestext="",this.notes=[],this.filteredNotes=[],this.role="",this.selectedSubject=0,this.selectedClass=0,this.subjects=[{id:0,name:"All"}],this.classes=[{id:0,name:"All"}],this.ColumnMode=m.hq}ngOnInit(){this.role=this.authService.role;const t=this.classService.getAllSubject().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.subjects.push(a)}):this.toastr.error(s.message),t.unsubscribe()}),n=this.classService.getAllClasses().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.classes.push(a)}):this.toastr.error(s.message),n.unsubscribe()});this.loadTableData()}loadTableData(){this.classService.getAllNotes().subscribe(n=>{200==n.code?(this.notes=n.data,this.filteredNotes=n.data):this.toastr.error(n.message)})}openAddNotes(){this.dialog.open(ot,{width:"50%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(n=>{n&&this.loadTableData()})}editViewNotes(t,n){this.dialog.open(ot,{width:"50%",autoFocus:!1,data:{id:t,type:n}}).componentInstance.confirmed.subscribe(a=>{this.loadTableData()})}deleteNotes(t){this.dialog.open(J.z,{width:"50%",autoFocus:!1,data:{title:"Delete Notes",message:"Are you sure you want to delete the selected notes?"}}).componentInstance.confirmed.subscribe(s=>{s&&this.classService.deleteNotes(t).subscribe(r=>{200==r.code?(this.loadTableData(),this.toastr.success(r.message)):this.toastr.error(r.message)})})}filterNotes(){if(this.filteredNotes=[...this.notes],this.filterNotestext?.length>0){let t=this.filterNotestext.toLowerCase();this.filteredNotes=this.notes.filter(n=>n.title&&n.title.toLowerCase().includes(t))}this.selectedSubject&&0!=this.selectedSubject&&this.selectedClass&&0!=this.selectedClass?this.filteredNotes=this.filteredNotes.filter(t=>t.subjectId&&t.subjectId==this.selectedSubject&&t.associationId==this.selectedClass):this.selectedSubject&&0!=this.selectedSubject&&0==this.selectedClass?this.filteredNotes=this.filteredNotes.filter(t=>t.subjectId&&t.subjectId==this.selectedSubject):0==this.selectedSubject&&this.selectedClass&&0!=this.selectedClass&&(this.filteredNotes=this.filteredNotes.filter(t=>t.associationId==this.selectedClass))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.uw),e.Y36(v.j),e.Y36(C._W),e.Y36(I.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-notes"]],viewQuery:function(n,s){if(1&n&&e.Gf(L.NW,5),2&n){let a;e.iGM(a=e.CRH())&&(s.paginator=a.first)}},decls:10,vars:4,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],["class","d-flex align-items-center",4,"ngIf"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-4 px-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"d-flex","align-items-center"],[1,"mt-2","me-3",2,"width","300px"],[1,"form-field"],[1,"label"],["name","class",1,"form-select","w-100",3,"ngModel","ngModelChange","change"],["class","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-2",2,"width","300px"],["name","subject",1,"form-select","w-100",3,"ngModel","change","ngModelChange"],["subject","ngModel"],[1,"input-group","flex-nowrap","ms-3",2,"max-width","350px"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Notes","type","text","name","searchNotes",1,"form-control",2,"width","150px",3,"ngModel","ngModelChange","keyup"],["searchNotes","ngModel"],[3,"value"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-4","px-3"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Title","prop","title",3,"width"],["name","Class","prop","associationName",3,"width",4,"ngIf"],["name","Subject","prop","subjectName",3,"width"],["name","Action","prop","id","cdsdsrfere","",3,"width"],["name","Class","prop","associationName",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-eye","pointer",3,"click"],["class","fa-solid fa-pen-to-square pointer ms-3","style","color: #1b3e99;",3,"click",4,"ngIf"],["class","fa fa-trash text-danger ms-3 pointer",3,"click",4,"ngIf"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Notes"),e.qZA(),e.YNc(3,Ns,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.YNc(7,Js,21,5,"div",5),e.qZA(),e.YNc(8,Ps,2,1,"div",6),e.YNc(9,Bs,12,11,"div",7),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(4),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(1),e.Q6J("ngIf","card"==s.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==s.toggleValue))},dependencies:[p.sg,p.O5,Q.RK,N.Hw,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,y.a8,y.G2,m.nE,m.UC,m.vq],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return i})();const Ws=["chapterForm"];function Ks(i,o){1&i&&(e.TgZ(0,"p",25),e._uU(1," Name is required "),e.qZA())}const xe=function(i){return{"is-invalid":i}};function $s(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"label",12),e._uU(2,"Name*"),e.qZA(),e.TgZ(3,"input",23,24),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.name=s)}),e.qZA(),e.YNc(5,Ks,2,0,"p",15),e.qZA()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.data.name)("ngClass",e.VKq(3,xe,t.touched&&t.errors&&t.errors.required)),e.xp6(2),e.Q6J("ngIf",t.touched&&t.errors&&t.errors.required)}}function Xs(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"label",12),e._uU(2,"Code"),e.qZA(),e.TgZ(3,"input",27,28),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.code=s)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.data.code)}}function eo(i,o){1&i&&(e.TgZ(0,"p",25),e._uU(1," Class is required "),e.qZA())}function to(i,o){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function io(i,o){1&i&&(e.TgZ(0,"p",25),e._uU(1," Subject is required "),e.qZA())}function no(i,o){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function so(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"label",12),e._uU(2,"Subject*"),e.qZA(),e.TgZ(3,"select",30,31),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.subjectId=s)}),e.YNc(5,io,2,0,"p",15),e.YNc(6,no,2,2,"option",16),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw();e.Q6J("ngClass","Add"==n.status?"mt-1 ms-2":"mt-4"),e.xp6(3),e.Q6J("ngModel",n.data.subjectId)("ngClass",e.VKq(5,xe,t.touched&&t.errors&&t.errors.required)),e.xp6(2),e.Q6J("ngIf",t.touched&&t.errors&&t.errors.required),e.xp6(1),e.Q6J("ngForOf",n.filteredSubjects)}}function oo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",37)(2,"div",38)(3,"label",12),e._uU(4,"Name*"),e.qZA(),e.TgZ(5,"input",39),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).$implicit;return e.KtG(r.name=s)}),e.qZA()(),e.TgZ(6,"div",40)(7,"label",12),e._uU(8,"Code"),e.qZA(),e.TgZ(9,"input",39,28),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).$implicit;return e.KtG(r.code=s)}),e.qZA()(),e.TgZ(11,"div",41)(12,"i",42),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.removeChapter(a))}),e.qZA()()()()}if(2&i){const t=o.$implicit,n=o.index;e.xp6(5),e.Q6J("ngModel",t.name)("name",n+"name"),e.xp6(4),e.Q6J("ngModel",t.code)("name",n+"code")}}function ao(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33),e.YNc(2,oo,13,4,"div",34),e.qZA(),e.TgZ(3,"div",35)(4,"i",36),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addChapter())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.saveChapter.chapterDetails)}}let at=(()=>{class i{constructor(t,n,s,a,r){this.dialogRef=t,this.details=n,this.classService=s,this.toastr=a,this.instituteService=r,this.data={},this.saveChapter={chapterDetails:[{}]},this.status="Add",this.branches=[],this.subjects=[],this.filteredSubjects=[],this.classes=[],this.isChapterFormVisible=!0,this.confirmed=new e.vpe}ngOnInit(){const t=(0,H.D)({cls:this.classService.getAllClasses(),sub:this.classService.getAllSubject()}).subscribe(({cls:n,sub:s})=>{200==n.code?this.classes=n.data:this.toastr.error(n.message),200==s.code?this.subjects=s.data:this.toastr.error(s.message),this.loadData(),t.unsubscribe()})}loadData(){if(this.details.id){this.status="Edit";const t=this.classService.getChapterById(this.details.id).subscribe(n=>{200==n.code?(this.data=n.data,this.filterSubject()):this.toastr.error(n.message),t.unsubscribe()})}}close(){this.dialogRef.close()}filterSubject(){this.data.associationId?(this.filteredSubjects=this.subjects.filter(t=>null!=t.associationIds&&t.associationIds.length>0&&t.associationIds?.findIndex(n=>n==this.data.associationId)>-1),0==this.filteredSubjects.length&&this.toastr.error("There is no subject link with selected class")):this.filteredSubjects=[]}onSubmit(){if(this.isChapterFormVisible&&this.chapterForm.control.markAllAsTouched(),this.chapterForm.form.valid)if(this.details.id){const t=this.classService.updateChapter(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.confirmed.emit(!0),this.close()):this.toastr.error(n.message),t.unsubscribe()})}else{this.saveChapter.chapterDetails?.forEach((n,s)=>{(null==n.name||null==n.name||0==n.name.trim().length)&&this.saveChapter.chapterDetails?.splice(s,1)}),this.saveChapter.associationId=this.data.associationId?this.data.associationId:void 0,this.saveChapter.subjectId=this.data.subjectId?this.data.subjectId:void 0;const t=this.classService.saveChapter(this.saveChapter).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.confirmed.emit(!0),this.close()):this.toastr.error(n.message),t.unsubscribe()})}}addChapter(){this.saveChapter.chapterDetails?.push({})}removeChapter(t){this.saveChapter.chapterDetails?.splice(t,1)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.so),e.Y36(x.WI),e.Y36(v.j),e.Y36(C._W),e.Y36(_e.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-chapter"]],viewQuery:function(n,s){if(1&n&&e.Gf(Ws,5),2&n){let a;e.iGM(a=e.CRH())&&(s.chapterForm=a.first)}},outputs:{confirmed:"confirmed"},decls:27,vars:14,consts:[[1,"card","mb-0",2,"max-height","99vh","overflow","auto"],[1,"d-flex","justify-content-between","align-items-center","p-3"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[1,"p-3"],[2,"max-height","65vh","overflow","auto"],["chapterForm","ngForm"],["class","form-field mt-1",4,"ngIf"],["class","form-field mt-4",4,"ngIf"],[3,"ngClass"],[1,"form-field","w-100",3,"ngClass"],[1,"label"],["name","associationId","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange","change"],["associationId","ngModel"],["class","validation-error ",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["class","form-field w-100",3,"ngClass",4,"ngIf"],["class","row g-0",4,"ngIf"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","mx-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"form-field","mt-1"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],[1,"validation-error"],[1,"form-field","mt-4"],["type","text","name","code",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],[3,"value"],["name","course","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["subjectId","ngModel"],[1,"row","g-0"],[1,"col-11"],[4,"ngFor","ngForOf"],[1,"col-1","d-flex","justify-content-center","align-items-end","mb-3"],[1,"fa-regular","fa-plus","pointer","mt-4",2,"font-size","21px","font-weight","600","color","#1b3e99",3,"click"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"form-field","mt-4","w-100"],["type","text",1,"form-control",3,"ngModel","name","ngModelChange"],[1,"form-field","mt-4","w-50","mx-2"],[1,"mt-3"],[1,"fa-solid","fa-trash","text-danger","pointer",3,"click"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return s.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"div",5)(7,"form",6,7),e.YNc(9,$s,6,5,"div",8),e.YNc(10,Xs,5,1,"div",9),e.TgZ(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Class*"),e.qZA(),e.TgZ(15,"select",13,14),e.NdJ("ngModelChange",function(r){return s.data.associationId=r})("change",function(){return s.filterSubject()}),e.YNc(17,eo,2,0,"p",15),e.YNc(18,to,2,2,"option",16),e.qZA()(),e.YNc(19,so,7,7,"div",17),e.qZA(),e.YNc(20,ao,5,1,"div",18),e.qZA()(),e._UZ(21,"hr",4),e.TgZ(22,"div",19)(23,"button",20),e.NdJ("click",function(){return s.close()}),e._uU(24,"Cancel"),e.qZA(),e.TgZ(25,"button",21),e.NdJ("click",function(){return s.onSubmit()}),e._uU(26),e.qZA()()()),2&n){const a=e.MAs(16);e.xp6(3),e.hij("",s.status," Chapter"),e.xp6(6),e.Q6J("ngIf","Edit"==s.status),e.xp6(1),e.Q6J("ngIf","Edit"==s.status),e.xp6(1),e.Q6J("ngClass","Add"==s.status?"d-flex w-100":""),e.xp6(1),e.Q6J("ngClass","Add"==s.status?"mt-1 me-2":"mt-4"),e.xp6(3),e.Q6J("ngModel",s.data.associationId)("ngClass",e.VKq(12,xe,a.touched&&a.errors&&a.errors.required)),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors&&a.errors.required),e.xp6(1),e.Q6J("ngForOf",s.classes),e.xp6(1),e.Q6J("ngIf",s.data.associationId&&s.filteredSubjects.length>0),e.xp6(1),e.Q6J("ngIf","Add"==s.status),e.xp6(6),e.Oqu(s.details.id?"Update":"Save")}},dependencies:[p.mk,p.sg,p.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F]})}return i})();function ro(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openAddChapter())}),e._UZ(1,"i",21),e._uU(2,"\xa0\xa0Add Chapter "),e.qZA()}}function co(i,o){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function lo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",8)(2,"label",9),e._uU(3,"Classes"),e.qZA(),e.TgZ(4,"select",23,24),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedClass=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterChapters())}),e.YNc(6,co,2,2,"option",12),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.selectedClass),e.xp6(2),e.Q6J("ngForOf",t.classes)}}function uo(i,o){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function po(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",40),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editChapter(s.id))}),e.TgZ(2,"mat-icon",41),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deleteChapter(s.id))}),e.TgZ(5,"mat-icon",43),e._uU(6,"delete"),e.qZA()()()}}function ho(i,o){if(1&i&&(e.TgZ(0,"div",28)(1,"mat-card",29)(2,"div",30),e._UZ(3,"img",31),e.YNc(4,po,7,0,"a",32),e.qZA(),e.TgZ(5,"div",33)(6,"div",34)(7,"div",35)(8,"span",36),e._uU(9,"Name"),e.qZA()(),e.TgZ(10,"div",37)(11,"div",38),e._uU(12),e.qZA()()(),e.TgZ(13,"div",39)(14,"div",35)(15,"span",36),e._uU(16,"Code"),e.qZA()(),e.TgZ(17,"div",37)(18,"div",38),e._uU(19),e.qZA()()()()()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(7),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(6),e.Q6J("title",t.code),e.xp6(1),e.Oqu(t.code)}}function mo(i,o){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,ho,20,6,"div",27),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredChapters)}}function _o(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function go(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function fo(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function xo(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",54),e.YNc(1,fo,2,1,"ng-template",48),e.qZA()),2&i&&e.Q6J("width",200)}function bo(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function vo(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Co(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",56)(1,"i",57),e.NdJ("click",function(){const a=e.CHM(t).value,r=e.oxw(3);return e.KtG(r.editChapter(a))}),e.qZA(),e.TgZ(2,"i",58),e.NdJ("click",function(){const a=e.CHM(t).value,r=e.oxw(3);return e.KtG(r.deleteChapter(a))}),e.qZA()()}}function Ao(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",55),e.YNc(1,Co,3,0,"ng-template",48),e.qZA()),2&i&&e.Q6J("width",200)}function To(i,o){if(1&i&&(e.TgZ(0,"div",44)(1,"ngx-datatable",45,46)(3,"ngx-datatable-column",47),e.YNc(4,_o,2,1,"ng-template",48),e.qZA(),e.TgZ(5,"ngx-datatable-column",49),e.YNc(6,go,2,1,"ng-template",48),e.qZA(),e.YNc(7,xo,2,1,"ngx-datatable-column",50),e.TgZ(8,"ngx-datatable-column",51),e.YNc(9,bo,2,1,"ng-template",48),e.qZA(),e.TgZ(10,"ngx-datatable-column",52),e.YNc(11,vo,2,1,"ng-template",48),e.qZA(),e.YNc(12,Ao,2,1,"ngx-datatable-column",53),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredChapters)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","STUDENT"!=t.role),e.xp6(1),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","INSTITUTE_ADMIN"==t.role)}}let wo=(()=>{class i{constructor(t,n,s,a){this.dialog=t,this.classService=n,this.toastr=s,this.authService=a,this.toggleValue="table",this.filterChapterText="",this.chapters=[],this.filteredChapters=[],this.role="",this.selectedSubject=0,this.selectedClass=0,this.subjects=[{id:0,name:"All"}],this.classes=[{id:0,name:"All"}],this.ColumnMode=m.hq}ngOnInit(){this.role=this.authService.role;const t=this.classService.getAllClasses().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.classes.push(a)}):this.toastr.error(s.message),t.unsubscribe()}),n=this.classService.getAllSubject().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.subjects.push(a)}):this.toastr.error(s.message),n.unsubscribe()});this.loadTableData()}loadTableData(){const t=this.classService.getAllChapters().subscribe(n=>{n.data?(this.chapters=n.data,this.filteredChapters=this.chapters):this.toastr.error(n.message),t.unsubscribe()})}filterChapters(){if(this.filteredChapters=[...this.chapters],this.filterChapterText?.length>0){let t=this.filterChapterText.toLowerCase();this.filteredChapters=this.chapters.filter(n=>n.name&&n.name.toLowerCase().includes(t))}this.selectedSubject&&0!=this.selectedSubject&&this.selectedClass&&0!=this.selectedClass?this.filteredChapters=this.filteredChapters.filter(t=>t.subjectId&&t.subjectId==this.selectedSubject&&t.associationId==this.selectedClass):this.selectedSubject&&0!=this.selectedSubject&&0==this.selectedClass?this.filteredChapters=this.filteredChapters.filter(t=>t.subjectId&&t.subjectId==this.selectedSubject):0==this.selectedSubject&&this.selectedClass&&0!=this.selectedClass&&(this.filteredChapters=this.filteredChapters.filter(t=>t.associationId==this.selectedClass))}openAddChapter(){this.dialog.open(at,{width:"50%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(n=>{n&&this.loadTableData()})}editChapter(t){this.dialog.open(at,{width:"50%",autoFocus:!1,data:{id:t}}).componentInstance.confirmed.subscribe(s=>{s&&this.loadTableData()})}deleteChapter(t){this.dialog.open(J.z,{width:"50%",autoFocus:!1,data:{title:"Delete Chapter",message:"Are you sure you want to delete the selected chapter?"}}).componentInstance.confirmed.subscribe(s=>{if(s){const a=this.classService.deleteChapter(t).subscribe(r=>{200==r.code?(this.toastr.success(r.message),this.loadTableData()):this.toastr.error(r.message),a.unsubscribe()})}})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.uw),e.Y36(v.j),e.Y36(C._W),e.Y36(I.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-chapter"]],decls:25,vars:7,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","pe-3"],["style","width: 200px;","class","mt-2 me-3",4,"ngIf"],[1,"mt-2",2,"width","200px"],[1,"form-field"],[1,"label"],["name","subject",1,"form-select","w-100",3,"ngModel","ngModelChange","change"],["subject","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","flex-nowrap","ms-3"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Chapter","type","text","name","searchDepartment",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange","keyup"],["searchDepartment","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-4 px-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"mt-2","me-3",2,"width","200px"],["name","class",1,"form-select","w-100",3,"ngModel","ngModelChange","change"],["class","ngModel"],[3,"value"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-4","px-3"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","name",3,"width"],["name","Class","prop","associationName",3,"width",4,"ngIf"],["name","Subject","prop","subjectName",3,"width"],["name","Code","prop","code",3,"width"],["name","Action","prop","id",3,"width",4,"ngIf"],["name","Class","prop","associationName",3,"width"],["name","Action","prop","id",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Chapter"),e.qZA(),e.YNc(3,ro,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div",5),e.YNc(8,lo,7,2,"div",6),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Subjects"),e.qZA(),e.TgZ(13,"select",10,11),e.NdJ("ngModelChange",function(r){return s.selectedSubject=r})("change",function(){return s.filterChapters()}),e.YNc(15,uo,2,2,"option",12),e.qZA()()(),e.TgZ(16,"div")(17,"div",13)(18,"span",14)(19,"i",15),e._uU(20,"search"),e.qZA()(),e.TgZ(21,"input",16,17),e.NdJ("ngModelChange",function(r){return s.filterChapterText=r})("keyup",function(){return s.filterChapters()}),e.qZA()()()()(),e.YNc(23,mo,2,1,"div",18),e.YNc(24,To,13,12,"div",19),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==s.role),e.xp6(5),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(5),e.Q6J("ngModel",s.selectedSubject),e.xp6(2),e.Q6J("ngForOf",s.subjects),e.xp6(6),e.Q6J("ngModel",s.filterChapterText),e.xp6(2),e.Q6J("ngIf","card"==s.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==s.toggleValue))},dependencies:[p.sg,p.O5,Q.RK,N.Hw,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,y.a8,y.G2,m.nE,m.UC,m.vq],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.form-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return i})();const Mo=["syllabusForm"];function qo(i,o){1&i&&(e.TgZ(0,"p",22),e._uU(1," Name is required "),e.qZA())}function yo(i,o){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Zo(i,o){1&i&&(e.TgZ(0,"p",22),e._uU(1," Class is required "),e.qZA())}function Io(i,o){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ko(i,o){1&i&&(e.TgZ(0,"p",22),e._uU(1," Subject is required "),e.qZA())}const X=function(i){return{"is-invalid":i}};function So(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",8),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"select",24,25),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.subjectId=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterChapters())}),e.YNc(5,Io,2,2,"option",15),e.qZA(),e.YNc(6,ko,2,0,"p",11),e.qZA()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.data.subjectId)("ngClass",e.VKq(4,X,t.touched&&t.errors&&t.errors.required)),e.xp6(2),e.Q6J("ngForOf",n.filteredSubject),e.xp6(1),e.Q6J("ngIf",t.touched&&t.errors&&t.errors.required)}}function Eo(i,o){if(1&i&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function No(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"label",8),e._uU(2,"Chapter"),e.qZA(),e.TgZ(3,"mat-select",26),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.chapterIds=s)}),e.TgZ(4,"div",27),e.YNc(5,Eo,2,2,"mat-option",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.data.chapterIds),e.xp6(2),e.Q6J("ngForOf",t.filteredChapters)}}function Oo(i,o){1&i&&(e.TgZ(0,"p",22),e._uU(1," Description is required "),e.qZA())}let rt=(()=>{class i{constructor(t,n,s,a){this.dialogRef=t,this.details=n,this.classService=s,this.toastr=a,this.status="Add",this.data={},this.classes=[],this.subjects=[],this.filteredSubject=[],this.chapters=[],this.filteredChapters=[],this.isSyllabusFormVisible=!0,this.confirmed=new e.vpe}ngOnInit(){const t=(0,H.D)({cls:this.classService.getAllClasses(),sub:this.classService.getAllSubject(),chap:this.classService.getAllChapters()}).subscribe(({cls:n,sub:s,chap:a})=>{200==n.code?this.classes=n.data:this.toastr.error(n.message),200==s.code?this.subjects=s.data:this.toastr.error(s.message),200==a.code?this.chapters=a.data:this.toastr.error(a.message),this.loadData(),t.unsubscribe()})}loadData(){if(this.details.id){this.status="Edit";const t=this.classService.getSyllabusById(this.details.id).subscribe(n=>{200==n.code?(this.data=n.data,this.filterSubject(),this.filterChapters()):this.toastr.error(n.message),t.unsubscribe()})}}close(){this.dialogRef.close()}onSubmit(){if(this.isSyllabusFormVisible&&this.syllabusForm.control.markAllAsTouched(),this.syllabusForm.form.valid)if(this.details.id){const t=this.classService.updateSyllabus(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.confirmed.emit(!0),this.close()):this.toastr.error(n.message),t.unsubscribe()})}else{const t=this.classService.saveSyllabus(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.confirmed.emit(!0),this.close()):this.toastr.error(n.message),t.unsubscribe()})}}filterSubject(){this.data.associationId?(this.filteredSubject=this.subjects.filter(t=>t.associationIds&&t.associationIds.length>0&&t.associationIds.findIndex(n=>n==this.data.associationId)>-1),0==this.filteredSubject.length&&this.toastr.error("There is no subject link with selected class")):this.filteredSubject=[]}filterChapters(){this.details.id||(this.data.chapterIds=[]),this.data.associationId&&this.data.subjectId?(console.log("ghjk"),this.filteredChapters=this.chapters.filter(t=>t.subjectId==this.data.subjectId&&t.associationId==this.data.associationId),console.log(this.filteredChapters)):this.filteredChapters=[]}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.so),e.Y36(x.WI),e.Y36(v.j),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-syllabus"]],viewQuery:function(n,s){if(1&n&&e.Gf(Mo,5),2&n){let a;e.iGM(a=e.CRH())&&(s.syllabusForm=a.first)}},outputs:{confirmed:"confirmed"},decls:36,vars:20,consts:[[2,"max-height","95vh","overflow","auto"],[1,"d-flex","justify-content-between","align-items-center","p-3"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],["syllabusForm","ngForm"],[1,"p-3"],[1,"form-field"],[1,"label"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","validation-error ",4,"ngIf"],[1,"form-field","mt-4"],["type","text","name","associationId","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange","change"],["associationId","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-field mt-4",4,"ngIf"],["type","text","name","description","rows","2","required","",1,"form-control","h-100",3,"ngModel","ngClass","ngModelChange"],["description","ngModel"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"validation-error"],[3,"value"],["type","text","name","subjectId","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange","change"],["subjectId","ngModel"],["name","chapter","multiple","",1,"form-select",3,"ngModel","ngModelChange"],[1,"drop-down"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return s.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"form",null,5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11,"Name*"),e.qZA(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(r){return s.data.name=r}),e.qZA(),e.YNc(14,qo,2,0,"p",11),e.qZA(),e.TgZ(15,"div",12)(16,"label",8),e._uU(17,"Class"),e.qZA(),e.TgZ(18,"select",13,14),e.NdJ("ngModelChange",function(r){return s.data.associationId=r})("change",function(){return s.filterSubject()}),e.YNc(20,yo,2,2,"option",15),e.qZA(),e.YNc(21,Zo,2,0,"p",11),e.qZA(),e.YNc(22,So,7,6,"div",16),e.YNc(23,No,6,2,"div",16),e.TgZ(24,"div",12)(25,"label",8),e._uU(26,"Description"),e.qZA(),e.TgZ(27,"textarea",17,18),e.NdJ("ngModelChange",function(r){return s.data.description=r}),e.qZA(),e.YNc(29,Oo,2,0,"p",11),e.qZA()(),e._UZ(30,"hr",4),e.TgZ(31,"div",19)(32,"button",20),e.NdJ("click",function(){return s.close()}),e._uU(33,"Cancel"),e.qZA(),e.TgZ(34,"button",21),e.NdJ("click",function(){return s.onSubmit()}),e._uU(35),e.qZA()()()()),2&n){const a=e.MAs(13),r=e.MAs(19),d=e.MAs(28);e.xp6(3),e.hij("",s.status," Syllabus"),e.xp6(9),e.Q6J("ngModel",s.data.name)("ngClass",e.VKq(14,X,a.touched&&a.errors&&a.errors.required)),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors&&a.errors.required),e.xp6(4),e.Q6J("ngModel",s.data.associationId)("ngClass",e.VKq(16,X,r.touched&&r.errors&&r.errors.required)),e.xp6(2),e.Q6J("ngForOf",s.classes),e.xp6(1),e.Q6J("ngIf",r.touched&&r.errors&&r.errors.required),e.xp6(1),e.Q6J("ngIf",s.data.associationId&&s.filteredSubject.length>0),e.xp6(1),e.Q6J("ngIf",s.data.subjectId&&s.filteredChapters.length>0),e.xp6(4),e.Q6J("ngModel",s.data.description)("ngClass",e.VKq(18,X,d.touched&&d.errors&&d.errors.required)),e.xp6(2),e.Q6J("ngIf",d.touched&&d.errors&&d.errors.required),e.xp6(6),e.Oqu("Add"==s.status?"Save":"Update")}},dependencies:[p.mk,p.sg,p.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F,fe.gD,A.ey],styles:[".file-list[_ngcontent-%COMP%]{display:flex;padding:7px;border-radius:7px;overflow:auto}.file-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px;padding:5px;cursor:pointer;border:1px solid rgb(194,193,193);border-radius:7px}.file-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.ellipse[_ngcontent-%COMP%]{max-width:165px;overflow:hidden;text-overflow:ellipsis;cursor:pointer;white-space:nowrap}.drop-down[_ngcontent-%COMP%]{background-color:#fff;border:solid;border-width:1px;border-radius:6px}"]})}return i})();var Do=h(8240);function Jo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openAddSyllabus())}),e._UZ(1,"i",21),e._uU(2,"\xa0\xa0Add Syllabus "),e.qZA()}}function Qo(i,o){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Uo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",8)(2,"label",9),e._uU(3,"Class"),e.qZA(),e.TgZ(4,"select",10,11),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedClass=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterSyllabus())}),e.YNc(6,Qo,2,2,"option",12),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.selectedClass),e.xp6(2),e.Q6J("ngForOf",t.classes)}}function Po(i,o){if(1&i&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ro(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",38),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editSyllabus(s.id))}),e.TgZ(2,"mat-icon",39),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",40),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deleteSyllabus(s.id))}),e.TgZ(5,"mat-icon",41),e._uU(6,"delete"),e.qZA()()()}}function jo(i,o){if(1&i&&(e.TgZ(0,"div",26)(1,"mat-card",27)(2,"div",28),e._UZ(3,"img",29),e.YNc(4,Ro,7,0,"a",30),e.qZA(),e.TgZ(5,"div",31)(6,"div",32)(7,"div",33)(8,"span",34),e._uU(9,"Name"),e.qZA()(),e.TgZ(10,"div",35)(11,"div",36),e._uU(12),e.qZA()()(),e.TgZ(13,"div",37)(14,"div",33)(15,"span",34),e._uU(16,"Class"),e.qZA()(),e.TgZ(17,"div",35)(18,"div",36),e._uU(19),e.qZA()()()()()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(7),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(6),e.Q6J("title",t.associationName),e.xp6(1),e.Oqu(t.associationName)}}function Fo(i,o){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,jo,20,6,"div",25),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredSyllabus)}}function Yo(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Lo(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Ho(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Go(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",51),e.YNc(1,Ho,2,1,"ng-template",46),e.qZA()),2&i&&e.Q6J("width",200)}function Vo(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Bo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",53)(1,"i",54),e.NdJ("click",function(){const a=e.CHM(t).value,r=e.oxw(3);return e.KtG(r.editSyllabus(a))}),e.qZA(),e.TgZ(2,"i",55),e.NdJ("click",function(){const a=e.CHM(t).value,r=e.oxw(3);return e.KtG(r.deleteSyllabus(a))}),e.qZA()()}}function zo(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",52),e.YNc(1,Bo,3,0,"ng-template",46),e.qZA()),2&i&&e.Q6J("width",200)}function Wo(i,o){if(1&i&&(e.TgZ(0,"div",42)(1,"ngx-datatable",43,44)(3,"ngx-datatable-column",45),e.YNc(4,Yo,2,1,"ng-template",46),e.qZA(),e.TgZ(5,"ngx-datatable-column",47),e.YNc(6,Lo,2,1,"ng-template",46),e.qZA(),e.YNc(7,Go,2,1,"ngx-datatable-column",48),e.TgZ(8,"ngx-datatable-column",49),e.YNc(9,Vo,2,1,"ng-template",46),e.qZA(),e.YNc(10,zo,2,1,"ngx-datatable-column",50),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredSyllabus)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","STUDENT"!=t.role),e.xp6(1),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","INSTITUTE_ADMIN"==t.role)}}let Ko=(()=>{class i{constructor(t,n,s,a,r){this.dialog=t,this.classService=n,this.toastr=s,this.appStateService=a,this.authService=r,this.toggleValue="table",this.filterChapterText="",this.syllabus=[],this.filteredSyllabus=[],this.role="",this.selectedSubject=0,this.selectedClass=0,this.subjects=[{id:0,name:"All"}],this.classes=[{id:0,name:"All"}],this.ColumnMode=m.hq}ngOnInit(){this.role=this.authService.role;const t=this.classService.getAllSubject().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.subjects.push(a)}):this.toastr.error(s.message),t.unsubscribe()}),n=this.classService.getAllClasses().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.classes.push(a)}):this.toastr.error(s.message),n.unsubscribe()});this.loadTableData()}loadTableData(){const t=this.classService.getAllSyllabus().subscribe(n=>{200==n.code?(this.syllabus=n.data,this.filteredSyllabus=this.syllabus):this.toastr.error(n.message),t.unsubscribe()})}filterSyllabus(){if(this.filteredSyllabus=[...this.syllabus],this.filterChapterText?.length>0){let t=this.filterChapterText.toLowerCase();this.filteredSyllabus=this.syllabus.filter(n=>n.name&&n.name.toLowerCase().includes(t))}this.selectedSubject&&0!=this.selectedSubject&&this.selectedClass&&0!=this.selectedClass?this.filteredSyllabus=this.filteredSyllabus.filter(t=>t.subjectId&&t.subjectId==this.selectedSubject&&t.associationId==this.selectedClass):this.selectedSubject&&0!=this.selectedSubject&&0==this.selectedClass?this.filteredSyllabus=this.filteredSyllabus.filter(t=>t.subjectId&&t.subjectId==this.selectedSubject):0==this.selectedSubject&&this.selectedClass&&0!=this.selectedClass&&(this.filteredSyllabus=this.filteredSyllabus.filter(t=>t.associationId==this.selectedClass))}openAddSyllabus(){this.dialog.open(rt,{width:"50%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(n=>{n&&this.loadTableData()})}editSyllabus(t){this.dialog.open(rt,{width:"50%",autoFocus:!1,data:{id:t}}).componentInstance.confirmed.subscribe(s=>{s&&this.loadTableData()})}deleteSyllabus(t){this.dialog.open(J.z,{width:"50%",autoFocus:!1,data:{title:"Delete Syllabus",message:"Are you sure you want to delete the selected syllabus?"}}).componentInstance.confirmed.subscribe(s=>{if(s){const a=this.classService.deleteSyllabus(t).subscribe(r=>{200==r.code?(this.toastr.success(r.message),this.loadTableData()):this.toastr.error(r.message),a.unsubscribe()})}})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.uw),e.Y36(v.j),e.Y36(C._W),e.Y36(Do.Z),e.Y36(I.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-syllabus"]],decls:25,vars:7,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","pe-3"],["style","width: 200px;","class","mt-2",4,"ngIf"],[1,"mt-2","ms-3",2,"width","200px"],[1,"form-field"],[1,"label"],["name","subject",1,"form-select","w-100",3,"ngModel","ngModelChange","change"],["subject","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","flex-nowrap","ms-3"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Syllabus","type","text","name","searchSyllabus",1,"form-control",2,"width","300px",3,"ngModel","ngModelChange","keyup"],["searchSyllabus","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-4 px-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"mt-2",2,"width","200px"],[3,"value"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-4","px-3"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","name",3,"width"],["name","Class","prop","associationName",3,"width",4,"ngIf"],["name","Subject","prop","subjectName",3,"width"],["name","Action","prop","id",3,"width",4,"ngIf"],["name","Class","prop","associationName",3,"width"],["name","Action","prop","id",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Syllabus"),e.qZA(),e.YNc(3,Jo,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div",5),e.YNc(8,Uo,7,2,"div",6),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Subjects"),e.qZA(),e.TgZ(13,"select",10,11),e.NdJ("ngModelChange",function(r){return s.selectedSubject=r})("change",function(){return s.filterSyllabus()}),e.YNc(15,Po,2,2,"option",12),e.qZA()()(),e.TgZ(16,"div")(17,"div",13)(18,"span",14)(19,"i",15),e._uU(20,"search"),e.qZA()(),e.TgZ(21,"input",16,17),e.NdJ("ngModelChange",function(r){return s.filterChapterText=r})("keyup",function(){return s.filterSyllabus()}),e.qZA()()()()(),e.YNc(23,Fo,2,1,"div",18),e.YNc(24,Wo,11,11,"div",19),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(5),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(5),e.Q6J("ngModel",s.selectedSubject),e.xp6(2),e.Q6J("ngForOf",s.subjects),e.xp6(6),e.Q6J("ngModel",s.filterChapterText),e.xp6(2),e.Q6J("ngIf","card"==s.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==s.toggleValue))},dependencies:[p.sg,p.O5,Q.RK,N.Hw,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,y.a8,y.G2,m.nE,m.UC,m.vq]})}return i})();function $o(i,o){if(1&i&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("Reamining Student: ",t.remainingStudent.remainingStudent,"")}}function Xo(i,o){if(1&i&&(e.TgZ(0,"div",15)(1,"mat-card",16)(2,"div",17),e._UZ(3,"a"),e.qZA(),e.TgZ(4,"div",18)(5,"div",19)(6,"div",20)(7,"span",21),e._uU(8,"Name"),e.qZA()(),e.TgZ(9,"div",22)(10,"div",23),e._uU(11),e.qZA()()(),e.TgZ(12,"div",24)(13,"div",20)(14,"span",21),e._uU(15,"Phone"),e.qZA()(),e.TgZ(16,"div",22)(17,"div",23),e._uU(18),e.qZA()()()()()()),2&i){const t=o.$implicit;e.xp6(10),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(6),e.Q6J("title",t.phone),e.xp6(1),e.Oqu(t.phone)}}function ea(i,o){if(1&i&&(e.TgZ(0,"div",13),e.YNc(1,Xo,19,4,"div",14),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredStudents)}}function ta(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function ia(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function na(i,o){if(1&i&&(e.TgZ(0,"div",36)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=o.value;e.xp6(2),e.Oqu(t)}}function sa(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function oa(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function aa(i,o){if(1&i&&(e.TgZ(0,"span",37),e._uU(1),e.qZA()),2&i){const t=o.value;e.Q6J("ngClass","Pending"==t?"text-danger":"text-success"),e.xp6(1),e.Oqu("PENDING"==t?"Pending":"Examined")}}function ra(i,o){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"i",38),e.qZA()),2&i){const t=o.row,n=e.oxw(2);e.xp6(1),e.Q6J("routerLink","/app/class/assignment/examine/"+n.assignmentId+"/"+t.userId+"/"+t.name)}}function da(i,o){if(1&i&&(e.TgZ(0,"div",25)(1,"ngx-datatable",26,27)(3,"ngx-datatable-column",28),e.YNc(4,ta,2,1,"ng-template",29),e.qZA(),e.TgZ(5,"ngx-datatable-column",30),e.YNc(6,ia,2,1,"ng-template",29),e.qZA(),e.TgZ(7,"ngx-datatable-column",31),e.YNc(8,na,3,1,"ng-template",29),e.qZA(),e.TgZ(9,"ngx-datatable-column",32),e.YNc(10,sa,2,1,"ng-template",29),e.qZA(),e.TgZ(11,"ngx-datatable-column",33),e.YNc(12,oa,2,1,"ng-template",29),e.qZA(),e.TgZ(13,"ngx-datatable-column",34),e.YNc(14,aa,2,2,"ng-template",29),e.qZA(),e.TgZ(15,"ngx-datatable-column",35),e.YNc(16,ra,2,1,"ng-template",29),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredStudents)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200)}}let ca=(()=>{class i{constructor(t,n,s){this.classService=t,this.toastr=n,this.route=s,this.toggleValue="table",this.filterStudentText="",this.students=[],this.filteredStudents=[],this.assignmentId=0,this.assignmentName="",this.remainingStudent={},this.ColumnMode=m.hq}ngOnInit(){this.route.paramMap.subscribe(t=>{let n=t.get("name"),s=t.get("id");n&&(this.assignmentName=decodeURIComponent(n)),s&&(this.assignmentId=parseInt(s),this.loadTableData())})}loadTableData(){const t=this.classService.getSubmitAssignmentStudents(this.assignmentId).subscribe(s=>{200==s.code?(s.data=s.data.filter(a=>a),this.students=s.data,this.filteredStudents=s.data):this.toastr.error(s.message),t.unsubscribe()}),n=this.classService.getAssignmnetRemainingStudents(this.assignmentId).subscribe(s=>{200==s.code?this.remainingStudent=s.data:this.toastr.error(s.message),n.unsubscribe()})}filterStudents(){if(this.filterStudentText?.length>0){let t=this.filterStudentText.toLowerCase();this.filteredStudents=this.students.filter(n=>n.name&&n.name.toLowerCase().includes(t))}else this.filteredStudents=[...this.students]}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(v.j),e.Y36(C._W),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-submitted-assignment-list"]],decls:16,vars:5,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],["style","font-size: 15px;",4,"ngIf"],[1,"input-group","flex-nowrap"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Student","type","text","name","searchStudent",1,"form-control",2,"width","350px",3,"ngModel","ngModelChange","keyup"],["searchStudent","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-4 px-3",4,"ngIf"],[2,"font-size","15px"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],[1,"row","mt-4","px-3"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Student Id/ Username","prop","studentId",3,"width"],["name","Name","prop","name",3,"width"],["name","Email","prop","email",3,"width"],["name","Marks Obtained","prop","obtainMarks",3,"width"],["name","Status","prop","assignmentStatus",3,"width"],["name","Action","prop","id",3,"width"],[1,"d-flex","align-items-center"],[3,"ngClass"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"routerLink"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"div"),e.YNc(6,$o,2,1,"span",4),e.qZA(),e.TgZ(7,"div")(8,"div",5)(9,"span",6)(10,"i",7),e._uU(11,"search"),e.qZA()(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(r){return s.filterStudentText=r})("keyup",function(){return s.filterStudents()}),e.qZA()()()(),e.YNc(14,ea,2,1,"div",10),e.YNc(15,da,17,13,"div",11),e.qZA()),2&n&&(e.xp6(2),e.hij("",s.assignmentName," Submit List"),e.xp6(4),e.Q6J("ngIf",s.remainingStudent.remainingStudent),e.xp6(6),e.Q6J("ngModel",s.filterStudentText),e.xp6(2),e.Q6J("ngIf","card"==s.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==s.toggleValue))},dependencies:[p.mk,p.sg,p.O5,q.rH,c.Fj,c.JJ,c.On,y.a8,m.nE,m.UC,m.vq],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return i})();const S={EDIT:"EDIT",SUBMIT:"SUBMIT",OBJECTIVE:"OBJECTIVE",LONG_ANSWER:"LONG_ANSWER",DRAFT:"DRAFT"};function la(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.isCorrect=!0)}),e._uU(1,"check_box_outline_blank"),e.qZA()}}function ua(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.isCorrect=!1)}),e._uU(1,"check_box"),e.qZA()}}function pa(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",19),e.YNc(1,la,2,0,"mat-icon",20),e.YNc(2,ua,2,0,"mat-icon",20),e.TgZ(3,"div",21)(4,"input",22),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).$implicit;return e.KtG(r.text=s)}),e.qZA(),e._UZ(5,"span",5),e.qZA(),e.TgZ(6,"mat-icon",23),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.oxw(2);return e.KtG(r.deleteOption(a))}),e._uU(7,"close"),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.isCorrect)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.isCorrect),e.xp6(2),e.s9C("placeholder",t.text),e.Q6J("ngModel",t.text)}}function ha(i,o){if(1&i&&(e.TgZ(0,"div",17),e.YNc(1,pa,8,4,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.question.options)}}function ma(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",25)(2,"mat-icon",26),e._uU(3,"add"),e.qZA(),e.TgZ(4,"div",27),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addOption())}),e._uU(5,"Add Option"),e.qZA()()()}}function _a(i,o){1&i&&(e.TgZ(0,"div",28)(1,"span",29),e._uU(2,"Long Answer Text"),e.qZA()())}const ga=function(i){return{"selected-border":i}};let be=(()=>{class i{constructor(){this.question={},this.questionFocused=new e.vpe,this.questionDeleted=new e.vpe,this.constants=S}addOption(){this.question?.options&&this.question?.options?.length>=0?this.question.options.push({text:`Option ${this.question.options.length+1}`}):this.question.options=[{text:"Option 1"}]}deleteOption(t){this.question.options?.splice(t,1)}deleteQuestion(){this.questionDeleted.emit()}clearData(){}focusQuestion(){1!=this.question.isFocused&&this.questionFocused.emit()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-assignment-question"]],inputs:{question:"question"},outputs:{questionFocused:"questionFocused",questionDeleted:"questionDeleted"},decls:33,vars:12,consts:[[1,"card","p-3",3,"ngClass","click"],[1,"row"],[1,"col-8"],[1,"input-effect"],["type","text","placeholder","Question",1,"border-effect",3,"ngModel","ngModelChange"],[1,"focus-border"],[1,"col-4","d-flex","justify-content-between","align-items-center"],[1,"border-effect",3,"ngModel","ngModelChange"],[3,"value"],[1,"pointer",2,"color","crimson",3,"click"],["class","col-12 mt-3",4,"ngIf"],["class","col-10 mt-3",4,"ngIf"],[1,"row","mt-2"],[1,"col-4","d-flex","align-items-center"],[1,"me-2",2,"color","green"],["type","number",1,"border-effect",3,"ngModel","ngModelChange"],[1,"me-2",2,"color","crimson"],[1,"col-12","mt-3"],["class","d-flex align-items-center","style","margin-bottom: 5px;",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center",2,"margin-bottom","5px"],["class","radio-icon me-2 mt-1 pointer","style","color: #1b3e99;",3,"click",4,"ngIf"],[1,"input-effect",2,"flex-grow","1"],["type","text",1,"border-effect",3,"placeholder","ngModel","ngModelChange"],[1,"close-icon","ms-2","mt-1","pointer",3,"click"],[1,"radio-icon","me-2","mt-1","pointer",2,"color","#1b3e99",3,"click"],[1,"d-flex","align-items-center"],[1,"radio-icon","me-2","mt-1","pointer"],[1,"add-option",3,"click"],[1,"col-10","mt-3"],[1,"ans-border"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return s.focusQuestion()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),e.NdJ("ngModelChange",function(r){return s.question.question=r}),e.qZA(),e._UZ(5,"span",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",3)(8,"select",7),e.NdJ("ngModelChange",function(r){return s.question.type=r}),e.TgZ(9,"option",8),e._uU(10,"\uf192\xa0Multiple Choice"),e.qZA(),e.TgZ(11,"option",8),e._uU(12,"\uf036\xa0Long Answer"),e.qZA()(),e._UZ(13,"span",5),e.qZA(),e.TgZ(14,"mat-icon",9),e.NdJ("click",function(){return s.deleteQuestion()}),e._uU(15,"delete"),e.qZA()()(),e.TgZ(16,"div",1),e.YNc(17,ha,2,1,"div",10),e.YNc(18,ma,6,0,"div",10),e.YNc(19,_a,3,0,"div",11),e.qZA(),e.TgZ(20,"div",12)(21,"div",13)(22,"span",14),e._uU(23,"Positive Marks"),e.qZA(),e.TgZ(24,"div",3)(25,"input",15),e.NdJ("ngModelChange",function(r){return s.question.positiveMark=r}),e.qZA(),e._UZ(26,"span",5),e.qZA()(),e.TgZ(27,"div",13)(28,"span",16),e._uU(29,"Negative Marks"),e.qZA(),e.TgZ(30,"div",3)(31,"input",15),e.NdJ("ngModelChange",function(r){return s.question.negativeMark=r}),e.qZA(),e._UZ(32,"span",5),e.qZA()()()()),2&n&&(e.Q6J("ngClass",e.VKq(10,ga,s.question.isFocused?"selected-border":"")),e.xp6(4),e.Q6J("ngModel",s.question.question),e.xp6(4),e.Q6J("ngModel",s.question.type),e.xp6(1),e.s9C("value",s.constants.OBJECTIVE),e.xp6(2),e.s9C("value",s.constants.LONG_ANSWER),e.xp6(6),e.Q6J("ngIf",(null==s.question?null:s.question.type)==s.constants.OBJECTIVE),e.xp6(1),e.Q6J("ngIf",(null==s.question?null:s.question.type)==s.constants.OBJECTIVE),e.xp6(1),e.Q6J("ngIf","LONG_ANSWER"==(null==s.question?null:s.question.type)),e.xp6(6),e.Q6J("ngModel",s.question.positiveMark),e.xp6(6),e.Q6J("ngModel",s.question.negativeMark))},dependencies:[p.mk,p.sg,p.O5,N.Hw,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.On],styles:['.selected-border[_ngcontent-%COMP%]{border-left:5px solid #1b3e99;border-top-left-radius:5px;border-bottom-left-radius:5px}.long-answer[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #cfcfcf;margin-top:10px;border-radius:0}.form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}[_ngcontent-%COMP%]:focus{outline:none}.input-effect[_ngcontent-%COMP%]{position:relative}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font:15px;color:#333;width:100%;box-sizing:border-box;letter-spacing:1px;font-family:Roboto,FontAwesome}.border-effect[_ngcontent-%COMP%]{border:0;padding:7px 0;border-bottom:1px solid #ccc}.border-effect[_ngcontent-%COMP%] ~ .focus-border[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#1b3e99;transition:.4s}.border-effect[_ngcontent-%COMP%]:focus ~ .focus-border[_ngcontent-%COMP%]{width:100%;transition:.4s}.radio-icon[_ngcontent-%COMP%]{height:18px;width:18px;font-size:18px}.close-icon[_ngcontent-%COMP%]{height:20px;width:20px;font-size:20px}.add-option[_ngcontent-%COMP%]{color:#9ca0a3;cursor:pointer;position:relative;overflow:hidden}.add-option[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:#9ca0a3;opacity:0;transition:opacity .3s,transform .3s;transform:translate3d(-100%,0,0)}.add-option[_ngcontent-%COMP%]:hover:after{opacity:1;transform:translateZ(0)}.ans-border[_ngcontent-%COMP%]{color:#9ca0a3;border-bottom:1px dotted #9ca0a3;width:100%;display:block;padding-bottom:5px}']})}return i})();var ve=h(5017);const dt=new e.OlP("CdkAccordion");let fa=0,xa=(()=>{class i{get expanded(){return this._expanded}set expanded(t){t=(0,g.Ig)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,g.Ig)(t)}constructor(t,n,s){this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=s,this._openCloseAllSubscription=D.w0.EMPTY,this.closed=new e.vpe,this.opened=new e.vpe,this.destroyed=new e.vpe,this.expandedChange=new e.vpe,this.id="cdk-accordion-child-"+fa++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=s.listen((a,r)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===r&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(dt,12),e.Y36(e.sBO),e.Y36(ve.A8))},i.\u0275dir=e.lG2({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[e._Bn([{provide:dt,useValue:void 0}])]}),i})(),ba=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var Ce=h(4080),va=h(1884),ee=h(9300),Ae=h(9521),Ca=h(515),Z=h(7340);const Aa=["body"];function Ta(i,o){}const wa=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ma=["mat-expansion-panel-header","*","mat-action-row"];function qa(i,o){if(1&i&&e._UZ(0,"span",2),2&i){const t=e.oxw();e.Q6J("@indicatorRotate",t._getExpandedState())}}const ya=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Za=["mat-panel-title","mat-panel-description","*"],ct=new e.OlP("MAT_ACCORDION"),lt="225ms cubic-bezier(0.4,0.0,0.2,1)",ut={indicatorRotate:(0,Z.X$)("indicatorRotate",[(0,Z.SB)("collapsed, void",(0,Z.oB)({transform:"rotate(0deg)"})),(0,Z.SB)("expanded",(0,Z.oB)({transform:"rotate(180deg)"})),(0,Z.eR)("expanded <=> collapsed, void => collapsed",(0,Z.jt)(lt))]),bodyExpansion:(0,Z.X$)("bodyExpansion",[(0,Z.SB)("collapsed, void",(0,Z.oB)({height:"0px",visibility:"hidden"})),(0,Z.SB)("expanded",(0,Z.oB)({height:"*",visibility:"visible"})),(0,Z.eR)("expanded <=> collapsed, void => collapsed",(0,Z.jt)(lt))])},pt=new e.OlP("MAT_EXPANSION_PANEL");let Ia=(()=>{class i{constructor(t,n){this._template=t,this._expansionPanel=n}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.Rgc),e.Y36(pt,8))},i.\u0275dir=e.lG2({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]}),i})(),ka=0;const ht=new e.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let mt=(()=>{class i extends xa{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=(0,g.Ig)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,n,s,a,r,d,l){super(t,n,s),this._viewContainerRef=a,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new e.vpe,this.afterCollapse=new e.vpe,this._inputChanges=new b.x,this._headerId="mat-expansion-panel-header-"+ka++,this._bodyAnimationDone=new b.x,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe((0,va.x)((u,_)=>u.fromState===_.fromState&&u.toState===_.toState)).subscribe(u=>{"void"!==u.fromState&&("expanded"===u.toState?this.afterExpand.emit():"collapsed"===u.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,B.O)(null),(0,ee.h)(()=>this.expanded&&!this._portal),(0,ne.q)(1)).subscribe(()=>{this._portal=new Ce.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ct,12),e.Y36(e.sBO),e.Y36(ve.A8),e.Y36(e.s_b),e.Y36(p.K0),e.Y36(e.QbO,8),e.Y36(ht,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(t,n,s){if(1&t&&e.Suo(s,Ia,5),2&t){let a;e.iGM(a=e.CRH())&&(n._lazyContent=a.first)}},viewQuery:function(t,n){if(1&t&&e.Gf(Aa,5),2&t){let s;e.iGM(s=e.CRH())&&(n._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,n){2&t&&e.ekj("mat-expanded",n.expanded)("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-expansion-panel-spacing",n._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[e._Bn([{provide:ct,useValue:void 0},{provide:pt,useExisting:i}]),e.qOj,e.TTD],ngContentSelectors:Ma,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,n){1&t&&(e.F$t(wa),e.Hsn(0),e.TgZ(1,"div",0,1),e.NdJ("@bodyExpansion.done",function(a){return n._bodyAnimationDone.next(a)}),e.TgZ(3,"div",2),e.Hsn(4,1),e.YNc(5,Ta,0,0,"ng-template",3),e.qZA(),e.Hsn(6,2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("@bodyExpansion",n._getExpandedState())("id",n.id),e.uIk("aria-labelledby",n._headerId),e.xp6(4),e.Q6J("cdkPortalOutlet",n._portal))},dependencies:[Ce.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[ut.bodyExpansion]},changeDetection:0}),i})();class Sa{}const Ea=(0,A.sb)(Sa);let Na=(()=>{class i extends Ea{constructor(t,n,s,a,r,d,l){super(),this.panel=t,this._element=n,this._focusMonitor=s,this._changeDetectorRef=a,this._animationMode=d,this._parentChangeSubscription=D.w0.EMPTY;const u=t.accordion?t.accordion._stateChanges.pipe((0,ee.h)(_=>!(!_.hideToggle&&!_.togglePosition))):Ca.E;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=(0,G.T)(t.opened,t.closed,u,t._inputChanges.pipe((0,ee.h)(_=>!!(_.hideToggle||_.disabled||_.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,ee.h)(()=>t._containsFocus())).subscribe(()=>s.focusVia(n,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case Ae.L_:case Ae.K5:(0,Ae.Vb)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(mt,1),e.Y36(e.SBq),e.Y36(R.tE),e.Y36(e.sBO),e.Y36(ht,8),e.Y36(e.QbO,8),e.$8M("tabindex"))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,n){1&t&&e.NdJ("click",function(){return n._toggle()})("keydown",function(a){return n._keydown(a)}),2&t&&(e.uIk("id",n.panel._headerId)("tabindex",n.tabIndex)("aria-controls",n._getPanelId())("aria-expanded",n._isExpanded())("aria-disabled",n.panel.disabled),e.Udp("height",n._getHeaderHeight()),e.ekj("mat-expanded",n._isExpanded())("mat-expansion-toggle-indicator-after","after"===n._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===n._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[e.qOj],ngContentSelectors:Za,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,n){1&t&&(e.F$t(ya),e.TgZ(0,"span",0),e.Hsn(1),e.Hsn(2,1),e.Hsn(3,2),e.qZA(),e.YNc(4,qa,1,1,"span",1)),2&t&&(e.ekj("mat-content-hide-toggle",!n._showToggle()),e.xp6(4),e.Q6J("ngIf",n._showToggle()))},dependencies:[p.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[ut.indicatorRotate]},changeDetection:0}),i})(),Oa=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),i})(),Da=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,A.BQ,ba,Ce.eL]}),i})();var _t=h(266);function Ja(i,o){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Qa(i,o){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function Ua(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",8)(2,"label",9),e._uU(3,"Subject"),e.qZA(),e.TgZ(4,"select",27,28),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.assignment.subjectId=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterChapters())}),e.YNc(6,Qa,2,2,"option",19),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.assignment.subjectId),e.xp6(2),e.Q6J("ngForOf",t.filteredSubjects)}}function Pa(i,o){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function Ra(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",8)(2,"label",9),e._uU(3,"Chapter"),e.qZA(),e.TgZ(4,"select",29,30),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.assignment.chapterId=s)}),e.YNc(6,Pa,2,2,"option",19),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.assignment.chapterId),e.xp6(2),e.Q6J("ngForOf",t.filteredChapters)}}const ja=function(i){return{focused:i}};function Fa(i,o){if(1&i&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&i){const n=o.index;e.Q6J("ngClass",e.VKq(2,ja,o.$implicit.isFocused)),e.xp6(1),e.hij(" ",n+1," ")}}function Ya(i,o){if(1&i&&(e.TgZ(0,"div")(1,"p",31)(2,"b"),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",32),e.YNc(6,Fa,2,4,"div",33),e.qZA()()),2&i){const t=o.$implicit,n=o.index;e.xp6(3),e.hij("Section\xa0",n+1,"\xa0:\xa0"),e.xp6(1),e.hij("",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.questions)}}function La(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",42)(1,"app-add-assignment-question",43),e.NdJ("questionFocused",function(){const a=e.CHM(t).index,r=e.oxw().index,d=e.oxw();return e.KtG(d.questionFocused(r,a))})("questionDeleted",function(){const a=e.CHM(t).index,r=e.oxw().index,d=e.oxw();return e.KtG(d.questionDeleted(r,a))}),e.qZA(),e.TgZ(2,"div",44),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.oxw().index,d=e.oxw();return e.KtG(d.addNewQuestion(r,a))}),e.TgZ(3,"mat-icon"),e._uU(4,"add_circle"),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(1),e.Q6J("question",t)}}function Ha(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",35)(1,"mat-expansion-panel-header")(2,"mat-panel-title",36)(3,"div",37)(4,"input",38),e.NdJ("click",function(s){return s.stopPropagation()})("keydown",function(s){return s.stopPropagation()})("keypress",function(s){return s.stopPropagation()})("ngModelChange",function(s){const r=e.CHM(t).$implicit;return e.KtG(r.name=s)}),e.qZA(),e._UZ(5,"span",39),e.qZA(),e.TgZ(6,"mat-icon",40),e.NdJ("click",function(s){const r=e.CHM(t).index;return e.oxw().addSection(r),e.KtG(s.stopPropagation())}),e._uU(7,"add_circle"),e.qZA()()(),e.YNc(8,La,5,1,"div",41),e.qZA()}if(2&i){const t=o.$implicit;e.Q6J("expanded",!0),e.xp6(4),e.Q6J("ngModel",t.name),e.xp6(2),e.Q6J("matTooltipPosition","left"),e.xp6(2),e.Q6J("ngForOf",t.questions)}}let gt=(()=>{class i{constructor(t,n,s,a,r,d,l){this.toastr=t,this.classService=n,this.dialog=s,this.router=a,this.route=r,this.authService=d,this.elementRef=l,this.assignment={sections:[{questions:[{type:S.OBJECTIVE,options:[{text:"Option 1"}]}]}]},this.constants=S,this.assignmentDetails={questions:[{}]},this.data={},this.sendQuestions={},this.isObjectiveActive=!1,this.currentEditableIndex=0,this.status=S.SUBMIT,this.submitAssignmnet={submitQuestionRequests:[]},this.role="",this.studentName="",this.examineAssignmnet={questionMarks:[]},this.canSaveQuestion=!1,this.subjects=[],this.filteredSubjects=[],this.classes=[],this.chapters=[],this.filteredChapters=[]}ngOnInit(){this.role=this.authService.role,this.route.paramMap.subscribe(t=>{let n=t.get("type"),s=t.get("id");if(s){if(n?.toLowerCase()==S.EDIT.toLowerCase()){n?.toLowerCase()==S.EDIT.toLowerCase()?this.status=S.EDIT:(this.status=S.SUBMIT,this.submitAssignmnet.assignmentId=parseInt(s));const a=this.classService.getAssignmentById(parseInt(s)).subscribe(r=>{200==r.code?(this.assignment=r.data,this.getMasters()):this.toastr.error(r.message),a.unsubscribe()})}else if("view"==n){this.status="View";const a=this.classService.getSubmittedAssignmentById(parseInt(s)).subscribe(r=>{200==r.code?(this.data=r.data,this.data.questions&&"OBJECTIVE"==this.data.questions[this.currentEditableIndex].type&&(this.isObjectiveActive=!0),this.data.questions?.forEach(d=>{"SUBJECTIVE"==d.type&&d.userAnswerText?d.answerText=d.userAnswerText:"OBJECTIVE"==d.type&&d.userAnswerOptionId&&d.options?.forEach(l=>{l.id==d.userAnswerOptionId&&(l.selectedId=d.userAnswerOptionId)})})):this.toastr.error(r.message),a.unsubscribe()})}else if("examine"==n){this.status="Examine";let a=t.get("studentId");if(this.studentName=t.get("name"),this.studentName=decodeURIComponent(this.studentName),this.examineAssignmnet.assignmentId=parseInt(s),this.examineAssignmnet.studentId=parseInt(a),a){const r=this.classService.getAssignmentByStudentAndAssignmentId(parseInt(a),parseInt(s)).subscribe(d=>{200==d.code?(this.data=d.data,this.data.questions&&"OBJECTIVE"==this.data.questions[this.currentEditableIndex].type&&(this.isObjectiveActive=!0),this.data.questions?.forEach(l=>{"SUBJECTIVE"==l.type&&l.userAnswerText?l.answerText=l.userAnswerText:"OBJECTIVE"==l.type&&l.userAnswerOptionId&&l.options?.forEach(u=>{u.id==l.userAnswerOptionId&&(u.selectedId=l.userAnswerOptionId)})})):this.toastr.error(d.message),r.unsubscribe()})}}}else this.getMasters()})}getMasters(){const t=(0,H.D)({classRes:this.classService.getAllClasses(),subjectRes:this.classService.getAllSubject(),chapterRes:this.classService.getAllChapters()}).subscribe(({classRes:n,subjectRes:s,chapterRes:a})=>{this.classes=n?.data??[],this.chapters=a?.data??[],this.subjects=s?.data??[],this.filterSubjects(),this.filterChapters(),t.unsubscribe()})}addSection(t){this.assignment.sections&&this.assignment.sections.splice(t+1,0,{questions:[{type:S.OBJECTIVE,options:[{text:"Option 1"}]}]})}addNewQuestion(t,n){this.assignment?.sections&&this.assignment.sections[t].questions?.splice(n+1,0,{}),this.questionFocused(t,n+1)}questionFocused(t,n){this.assignment.sections&&(this.assignment.sections.forEach((s,a)=>{s.questions&&s.questions.forEach((r,d)=>{r.isFocused=t==a&&d==n})}),this.assignment.sections=[...this.assignment.sections])}questionDeleted(t,n){this.assignment.sections&&this.assignment.sections[t]&&(this.assignment.sections[t].questions?.splice(n,1),this.assignment.sections=[...this.assignment.sections])}filterSubjects(){this.assignment.subjectId||(this.assignment.subjectId=0),this.filteredSubjects=this.assignment.associationId?this.subjects.filter(t=>null!=t.associationIds&&t.associationIds.length>0&&t.associationIds?.includes(this.assignment?.associationId??-1)):[]}filterChapters(){this.assignment.chapterId||(this.assignment.chapterId=0),this.filteredChapters=this.assignment.associationId&&this.assignment.subjectId?this.chapters.filter(t=>t.subjectId==this.assignment.subjectId&&t.associationId==this.assignment.associationId):[]}drop(t){("Add"==this.status||"Edit"==this.status)&&ce(this.data.questions,t.previousIndex,t.currentIndex)}toggleQuestionType(){this.isObjectiveActive&&this.data.questions?(this.data.questions[this.currentEditableIndex].options=[{}],this.data.questions[this.currentEditableIndex].type="OBJECTIVE"):(this.data.questions[this.currentEditableIndex].options=void 0,this.data.questions[this.currentEditableIndex].type="SUBJECTIVE")}addQuestion(){if("Add"==this.status||"Edit"==this.status)this.data.questions&&this.data.questions[this.currentEditableIndex].question&&this.data.questions[this.currentEditableIndex].question.length>0?this.data.questions&&null==this.data.questions[this.currentEditableIndex].positiveMark?this.toastr.error("Positive marking can't be empty"):this.data.questions&&this.data.questions[this.currentEditableIndex].positiveMark<=0?this.toastr.error("Postive marks had to be greater than zero"):this.isObjectiveActive&&this.data.questions[this.currentEditableIndex].options.length<2?this.toastr.error("Add two option minimum"):this.currentEditableIndex==this.data.questions.length-1?(this.data.questions?.push({type:"SUBJECTIVE"}),this.isObjectiveActive=!1,this.currentEditableIndex=this.data.questions.length-1):(this.currentEditableIndex+=1,this.isObjectiveActive="OBJECTIVE"==this.data.questions[this.currentEditableIndex].type):this.toastr.error("Enter Question First");else{if("Examine"==this.status){if(this.data.questions[this.currentEditableIndex].obtainMarks>this.data.questions[this.currentEditableIndex].positiveMark)return void this.toastr.error("Obtained mark can't be greater than positive mark");null!=this.data.questions[this.currentEditableIndex].negativeMark&&this.data.questions[this.currentEditableIndex].negativeMark&&this.data.questions[this.currentEditableIndex].obtainMarks<-1*this.data.questions[this.currentEditableIndex].negativeMark&&this.toastr.error("Obtained mark can't be less than negative mark")}this.currentEditableIndex==this.data.questions.length-1?this.currentEditableIndex=0:this.currentEditableIndex+=1,this.isObjectiveActive="OBJECTIVE"==this.data.questions[this.currentEditableIndex].type}}previousQuestion(){if("Examine"==this.status){if(this.data.questions[this.currentEditableIndex].obtainMarks>this.data.questions[this.currentEditableIndex].positiveMark)return void this.toastr.error("Obtained mark can't be greater than positive mark");null!=this.data.questions[this.currentEditableIndex].negativeMark&&this.data.questions[this.currentEditableIndex].obtainMarks<-1*this.data.questions[this.currentEditableIndex].negativeMark&&this.toastr.error("Obtained mark can't be less than negative mark")}0!=this.currentEditableIndex?this.currentEditableIndex-=1:this.currentEditableIndex=this.data.questions.length-1,this.isObjectiveActive="OBJECTIVE"==this.data.questions[this.currentEditableIndex].type}editQuestion(t){this.currentEditableIndex=t,this.isObjectiveActive="OBJECTIVE"==this.data.questions[this.currentEditableIndex].type}addOption(){let t=!1;this.data.questions&&this.data.questions[this.currentEditableIndex].options&&this.data.questions[this.currentEditableIndex].options.forEach(n=>{(!n.text||n.text&&n.text.length<=0)&&(this.toastr.error("Option Can't be empty"),t=!0)}),0==t&&this.data.questions&&this.data.questions[this.currentEditableIndex]&&this.data.questions[this.currentEditableIndex].options.push({})}removeOption(t){this.data.questions[this.currentEditableIndex].deletedOptionIds?.push(this.data.questions[this.currentEditableIndex].options[t].id),this.data.questions[this.currentEditableIndex].options?.splice(t,1)}getLetterIndex(t){return String.fromCharCode(97+t)}openModal(){if(this.data.questions&&1==this.data.questions.length&&this.data.questions[1]&&this.data.questions[1].question){if(0==this.data.questions[1].question?.length)return void this.toastr.error("Enter Question First");(null==this.data.questions[1].positiveMark||this.data.questions[1].positiveMark<=0)&&this.toastr.error("Positive marking can't be empty or equal to zero")}let t=this.dialog.open($e,{width:"50%",autoFocus:!1,data:{data:this.data}});t.componentInstance.confirmed.subscribe(n=>{n&&(this.data.title=n.title,this.data.chapterId=n.chapterId,this.data.associationId=n.associationId,this.data.subjectId=n.subjectId,this.data.endDate=n.endDate,this.data.startDate=n.startDate,this.data.time=n.time,this.data.description=n.description,this.onSubmit(),t.close())})}onSubmit(){if(this.submitAssignmnet.submitQuestionRequests=[],"STUDENT"!=this.role)if("Examine"==this.status){if(this.data.questions[this.currentEditableIndex].obtainMarks>this.data.questions[this.currentEditableIndex].positiveMark)return void this.toastr.error("Obtained mark can't be greater than positive mark");if(null!=this.data.questions[this.currentEditableIndex].negativeMark&&this.data.questions[this.currentEditableIndex].obtainMarks<-1*this.data.questions[this.currentEditableIndex].negativeMark)return void this.toastr.error("Obtained mark can't be less than negative mark");this.data.questions?.forEach(n=>{this.examineAssignmnet.questionMarks.push({questionId:n.id,marksObtained:n.obtainMarks})});const t=this.classService.examineAssignment(this.examineAssignmnet).subscribe(n=>{if(200==n.code)return this.toastr.success(n.message),void this.router.navigateByUrl("app/class/assignment/submitted/"+this.data.title+"/"+this.data.assignmentId);this.toastr.error(n.message),t.unsubscribe()})}else if(this.data.questions?.forEach((t,n)=>{t.order=n+1}),this.data.totalPositiveMark=0,this.data.totalNegativeMark=0,this.data.questions?.forEach(t=>{this.data.totalPositiveMark+=t.positiveMark,this.data.totalNegativeMark+=t.negativeMark}),"Edit"==this.status){const t=this.classService.updateAssignment(this.data).subscribe(n=>{200==n.code?this.router.navigateByUrl("app/class/assignment"):this.toastr.error(n.message),t.unsubscribe()})}else{const t=this.classService.saveAssignment(this.data).subscribe(n=>{200==n.code?this.router.navigateByUrl("app/class/assignment"):this.toastr.error(n.message),t.unsubscribe()})}else{this.data.questions?.forEach(n=>{this.submitAssignmnet.submitQuestionRequests?.push({questionId:n.id,answerText:n.answerText,answerOptionId:n.answeroptionId})});const t=this.classService.submitAssignment(this.submitAssignmnet).subscribe(n=>{200==n.code?this.router.navigateByUrl("app/class/assignment"):this.toastr.error(n.message),t.unsubscribe()})}}setOptionId(t){this.data.questions[this.currentEditableIndex].answeroptionId=t}saveAssignment(t){let n=0;if(this.assignment?.sections&&this.assignment?.sections?.length>0&&this.assignment.sections.forEach(s=>{s?.questions&&s?.questions?.length>0&&s.questions.forEach(a=>{n+=a?.positiveMark??0,a?.options&&a?.options?.length>0&&a.options.forEach(r=>{r.correct=r.isCorrect})})}),this.assignment.totalPositiveMark=n,this.assignment.totalMarks=n,this.assignment.isSubmitted=S.DRAFT==t,console.log(this.assignment),this.status==S.SUBMIT){const s=this.classService.saveAssignment(this.assignment).subscribe(a=>{200==a.code?this.router.navigateByUrl("app/class/assignment"):this.toastr.error(a.message),s.unsubscribe()})}else{const s=this.classService.updateAssignment(this.assignment).subscribe(a=>{s.unsubscribe()})}}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C._W),e.Y36(v.j),e.Y36(x.uw),e.Y36(q.F0),e.Y36(q.gz),e.Y36(I.$),e.Y36(e.SBq))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-assignment-v2"]],viewQuery:function(n,s){if(1&n&&(e.Gf(be,5),e.Gf(be,5)),2&n){let a;e.iGM(a=e.CRH())&&(s.questions=a),e.iGM(a=e.CRH())&&(s.assignmentQuestion=a)}},decls:51,vars:11,consts:[[1,"d-flex","justify-content-between","align-items-center","my-3"],[1,"title","ms-2","ps-1"],[1,"d-flex","justify-content-end","align-items-center"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"card","p-3","mb-0","mb-3"],[1,"row"],[1,"col-6"],[1,"form-field"],[1,"label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-2"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","time","name","time",1,"form-control",3,"ngModel","ngModelChange"],["time","ngModel"],[1,"row","mt-3"],[1,"col-3"],["name","association",1,"form-select",3,"ngModel","ngModelChange","change"],["association","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","col-3",4,"ngIf"],[1,"card","pb-2"],[1,"text-center","p-2"],[4,"ngFor","ngForOf"],[1,"col-9"],["class","mb-3",3,"expanded",4,"ngFor","ngForOf"],[3,"value"],["name","subject",1,"form-select",3,"ngModel","ngModelChange","change"],["subject","ngModel"],["name","chapter",1,"form-select",3,"ngModel","ngModelChange"],["chapter","ngModel"],[1,"section-summary","p-2"],[1,"questions-summary"],["class","question-summary",3,"ngClass",4,"ngFor","ngForOf"],[1,"question-summary",3,"ngClass"],[1,"mb-3",3,"expanded"],[1,"d-flex","justify-content-between"],[1,"input-effect","w-50"],["type","text","placeholder","Section",1,"border-effect",3,"ngModel","click","keydown","keypress","ngModelChange"],[1,"focus-border"],["matTooltip","Add New Section",2,"color","#1b3e99",3,"matTooltipPosition","click"],["class","question-item",4,"ngFor","ngForOf"],[1,"question-item"],[1,"w-100",3,"question","questionFocused","questionDeleted"],[1,"side-options",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"button",3),e.NdJ("click",function(){return s.saveAssignment(s.constants.DRAFT)}),e._uU(5,"Save as Draft"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return s.saveAssignment(s.constants.SUBMIT)}),e._uU(7,"Submit"),e.qZA()()(),e.TgZ(8,"div")(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),e._uU(14,"Assignment Title"),e.qZA(),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(r){return s.assignment.title=r}),e.qZA()()(),e.TgZ(16,"div",11)(17,"div",8)(18,"label",9),e._uU(19,"Start Date"),e.qZA(),e.TgZ(20,"input",12),e.NdJ("ngModelChange",function(r){return s.assignment.startDate=r}),e.qZA()()(),e.TgZ(21,"div",11)(22,"div",8)(23,"label",9),e._uU(24,"End Date"),e.qZA(),e.TgZ(25,"input",12),e.NdJ("ngModelChange",function(r){return s.assignment.endDate=r}),e.qZA()()(),e.TgZ(26,"div",11)(27,"div",8)(28,"label",9),e._uU(29,"Time"),e.qZA(),e.TgZ(30,"input",13,14),e.NdJ("ngModelChange",function(r){return s.assignment.time=r}),e.qZA()()()(),e.TgZ(32,"div",15)(33,"div",16)(34,"div",8)(35,"label",9),e._uU(36,"Class"),e.qZA(),e.TgZ(37,"select",17,18),e.NdJ("ngModelChange",function(r){return s.assignment.associationId=r})("change",function(){return s.filterSubjects()}),e.YNc(39,Ja,2,2,"option",19),e.qZA()()(),e.YNc(40,Ua,7,2,"div",20),e.YNc(41,Ra,7,2,"div",20),e.qZA()(),e.TgZ(42,"div",6)(43,"div",16)(44,"div",21)(45,"p",22)(46,"b"),e._uU(47,"Summary"),e.qZA()(),e.YNc(48,Ya,7,3,"div",23),e.qZA()(),e.TgZ(49,"div",24),e.YNc(50,Ha,9,4,"mat-expansion-panel",25),e.qZA()()()),2&n&&(e.xp6(2),e.hij("",s.status==s.constants.SUBMIT?"Create New":"Edit"," Assignment"),e.xp6(13),e.Q6J("ngModel",s.assignment.title),e.xp6(5),e.Q6J("ngModel",s.assignment.startDate),e.xp6(5),e.Q6J("ngModel",s.assignment.endDate),e.xp6(5),e.Q6J("ngModel",s.assignment.time),e.xp6(7),e.Q6J("ngModel",s.assignment.associationId),e.xp6(2),e.Q6J("ngForOf",s.classes),e.xp6(1),e.Q6J("ngIf",s.assignment.associationId&&s.filteredSubjects.length>0),e.xp6(1),e.Q6J("ngIf",s.assignment.subjectId&&s.filteredChapters.length>0),e.xp6(7),e.Q6J("ngForOf",s.assignment.sections),e.xp6(2),e.Q6J("ngForOf",s.assignment.sections))},dependencies:[p.mk,p.sg,p.O5,N.Hw,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,mt,Na,Oa,_t.gM,be],styles:[".ellipse[_ngcontent-%COMP%]{text-overflow:ellipsis;max-width:250px;white-space:nowrap;overflow:hidden;cursor:pointer}.next-previous-circle[_ngcontent-%COMP%]{height:40px;width:40px;background-color:#b7b7fc;display:flex;justify-content:center;align-items:center;border-radius:40px;font-size:18px;color:#fff;cursor:pointer}.text-active[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#b7b7fc}.text-normal[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;min-height:60px;display:block;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{border-radius:7px;padding:10px 5px;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:rgb(248,248,248);font-size:14px;margin-bottom:10px}.example-box[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.example-box-active[_ngcontent-%COMP%]{background-color:#e2e2e2}.cdk-drag-preview[_ngcontent-%COMP%]{border:none;box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.red-border[_ngcontent-%COMP%]{border:1px solid red!important;box-shadow:1px 1px 1px red}.green-border[_ngcontent-%COMP%]{border:1px solid rgb(47,213,47)!important;box-shadow:1px 1px 1px #2fd52f}.question-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;position:relative}.question-item[_ngcontent-%COMP%]   .side-options[_ngcontent-%COMP%]{margin-left:10px;width:30px;color:#1b3e99;visibility:hidden;cursor:pointer}.question-item[_ngcontent-%COMP%]:hover   .side-options[_ngcontent-%COMP%]{visibility:visible}.section-summary[_ngcontent-%COMP%]{background-color:#e4e5f9;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.questions-summary[_ngcontent-%COMP%]{background-color:#eff2fa;display:flex;flex-wrap:wrap;justify-content:center}.question-summary[_ngcontent-%COMP%]{width:30px;height:30px;border:1px solid #eee;background-color:#fff;color:#000;display:flex;align-items:center;justify-content:center;padding:5px;margin:8px;cursor:pointer}.question-summary.focused[_ngcontent-%COMP%]{border:1px solid #1b3e99;background-color:#1b3e99;color:#fff;border-radius:50%;font-weight:700}[_ngcontent-%COMP%]:focus{outline:none}.input-effect[_ngcontent-%COMP%]{position:relative}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{color:#333;width:100%;box-sizing:border-box;letter-spacing:1px;font-family:Roboto,FontAwesome}.border-effect[_ngcontent-%COMP%]{border:0;padding:7px 0;border-bottom:1px solid #ccc}.border-effect[_ngcontent-%COMP%] ~ .focus-border[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#1b3e99;transition:.4s}.border-effect[_ngcontent-%COMP%]:focus ~ .focus-border[_ngcontent-%COMP%]{width:100%;transition:.4s}"]})}return i})();var ft=h(7846);function Ga(i,o){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Va(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"label",6),e._uU(2,"Class"),e.qZA(),e.TgZ(3,"select",24),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedAssociationId=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getAttendance())}),e.YNc(4,Ga,2,2,"option",25),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedAssociationId),e.xp6(1),e.Q6J("ngForOf",t.classes)}}function Ba(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",27)(1,"label",6),e._uU(2,"Mark All As"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.markAllAs=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.markAll())}),e.TgZ(4,"option",29),e._uU(5,"Present"),e.qZA(),e.TgZ(6,"option",30),e._uU(7,"Absent"),e.qZA(),e.TgZ(8,"option",31),e._uU(9,"Leave"),e.qZA(),e.TgZ(10,"option",32),e._uU(11,"Holiday"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.markAllAs)}}function za(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Wa(i,o){if(1&i&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&i){const t=o.value;e.Q6J("title",t),e.xp6(1),e.Oqu(t)}}function Ka(i,o){if(1&i&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&i){const t=o.value;e.Q6J("title",t),e.xp6(1),e.Oqu(t)}}function $a(i,o){if(1&i&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&i){const t=o.value;e.Q6J("title",t),e.xp6(1),e.Oqu(t)}}function Xa(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",34),e.NdJ("click",function(){const a=e.CHM(t).row;return a.isPresent=!a.isPresent,a.isAbsent=!1,a.isLeave=!1,e.KtG(a.isHoliday=!1)}),e._uU(2,"P"),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){const a=e.CHM(t).row;return a.isAbsent=!a.isAbsent,a.isPresent=!1,a.isLeave=!1,e.KtG(a.isHoliday=!1)}),e._uU(4,"A"),e.qZA(),e.TgZ(5,"button",34),e.NdJ("click",function(){const a=e.CHM(t).row;return a.isLeave=!a.isLeave,a.isPresent=!1,a.isAbsent=!1,e.KtG(a.isHoliday=!1)}),e._uU(6,"L"),e.qZA(),e.TgZ(7,"button",34),e.NdJ("click",function(){const a=e.CHM(t).row;return a.isHoliday=!a.isHoliday,a.isPresent=!1,a.isAbsent=!1,e.KtG(a.isLeave=!1)}),e._uU(8,"H"),e.qZA()()}if(2&i){const t=o.row;e.xp6(1),e.Q6J("ngClass",t.isPresent?"btn-present-check":"btn-present"),e.xp6(2),e.Q6J("ngClass",t.isAbsent?"btn-absent-check":"btn-absent"),e.xp6(2),e.Q6J("ngClass",t.isLeave?"btn-leave-check":"btn-leave"),e.xp6(2),e.Q6J("ngClass",t.isHoliday?"btn-holiday-check":"btn-holiday")}}function er(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"input",36),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).row;return e.KtG(r.comment=s)}),e.qZA(),e._UZ(2,"span",37),e.qZA()}if(2&i){const t=o.row;e.xp6(1),e.Q6J("ngModel",t.comment)}}let tr=(()=>{class i{constructor(t,n,s,a){this.classService=t,this.toastr=n,this.userService=s,this.authService=a,this.attendanceDate="",this.todayDate="",this.selectedAssociationId=0,this.students={studentAttendanceResponseList:[]},this.classes=[],this.data={studentStatusRequests:[]},this.ColumnMode=m.hq,this.role="",this.markAllAs="",this.isUpdate=!1}ngOnInit(){if(this.attendanceDate=(0,ft.Z)(new Date,"yyyy-MM-dd"),this.todayDate=(0,ft.Z)(new Date,"yyyy-MM-dd"),this.role=this.authService.role,"TEACHER"==this.role&&(this.selectedAssociationId=parseInt(this.authService.associationId),this.getAttendance()),"INSTITUTE_ADMIN"==this.role){const t=this.classService.getAllClasses().subscribe(n=>{200==n.code?(this.classes=[...n.data],this.classes.length>0&&(this.selectedAssociationId=this.classes[0].id,this.getAttendance())):this.toastr.error(n.message),t.unsubscribe()})}}getAttendance(){if(this.markAllAs="",this.selectedAssociationId){const t=this.classService.getAttendanceByClassAndDate(this.selectedAssociationId,this.attendanceDate).subscribe(n=>{200==n.code?(this.students=n.data,this.students.attendance?(this.students.studentAttendanceResponseList.forEach(s=>{"PRESENT"==s.status?s.isPresent=!0:"ABSENT"==s.status?s.isAbsent=!0:"LEAVE"==s.status?s.isLeave=!0:"HOLIDAY"==s.status&&(s.isHoliday=!0)}),this.isUpdate=!0):this.isUpdate=!1):this.toastr.error(n.message),t.unsubscribe()})}}onSubmit(){this.data.studentStatusRequests=[],this.data.associationId=this.selectedAssociationId,this.data.date=this.attendanceDate;let t=!1;for(let n=0;n<this.students.studentAttendanceResponseList.length;n++)if(this.students.studentAttendanceResponseList[n].isPresent)this.data.studentStatusRequests.push({studentDetailId:this.students.studentAttendanceResponseList[n].studentDetailId,attendanceStatus:"PRESENT",comment:this.students.studentAttendanceResponseList[n].comment});else if(this.students.studentAttendanceResponseList[n].isHoliday)this.data.studentStatusRequests.push({studentDetailId:this.students.studentAttendanceResponseList[n].studentDetailId,attendanceStatus:"HOLIDAY",comment:this.students.studentAttendanceResponseList[n].comment});else if(this.students.studentAttendanceResponseList[n].isLeave)this.data.studentStatusRequests.push({studentDetailId:this.students.studentAttendanceResponseList[n].studentDetailId,attendanceStatus:"LEAVE",comment:this.students.studentAttendanceResponseList[n].comment});else{if(!this.students.studentAttendanceResponseList[n].isAbsent){this.toastr.error(this.students.studentAttendanceResponseList[n].studentName+" Attenance is not FIlled"),t=!0;break}this.data.studentStatusRequests.push({studentDetailId:this.students.studentAttendanceResponseList[n].studentDetailId,attendanceStatus:"ABSENT",comment:this.students.studentAttendanceResponseList[n].comment})}if(!t)if(this.isUpdate){const n=this.classService.updateAttendance(this.data).subscribe(s=>{200==s.code?this.toastr.success(s.message):this.toastr.error(s.message),n.unsubscribe()})}else{const n=this.classService.saveAttendence(this.data).subscribe(s=>{200==s.code?(this.toastr.success(s.message),this.isUpdate=!0):this.toastr.error(s.message),n.unsubscribe()})}}markAll(){"Present"==this.markAllAs?this.students.studentAttendanceResponseList.forEach(t=>{t.isPresent=!0,t.isAbsent=!1,t.isLeave=!1,t.isHoliday=!1}):"Absent"==this.markAllAs?this.students.studentAttendanceResponseList.forEach(t=>{t.isAbsent=!0,t.isPresent=!1,t.isLeave=!1,t.isHoliday=!1}):"Leave"==this.markAllAs?this.students.studentAttendanceResponseList.forEach(t=>{t.isLeave=!0,t.isAbsent=!1,t.isPresent=!1,t.isHoliday=!1}):"Holiday"==this.markAllAs&&this.students.studentAttendanceResponseList.forEach(t=>{t.isHoliday=!0,t.isAbsent=!1,t.isLeave=!1,t.isPresent=!1})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(v.j),e.Y36(C._W),e.Y36(ge.K),e.Y36(I.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-student-attendance"]],decls:35,vars:17,consts:[[1,"p-3"],[1,"title"],[1,"card","shadow-sm","mb-0"],[1,"d-flex","justify-content-between"],[1,"d-flex"],[1,"form-field","me-3",2,"width","200px"],[1,"label"],["type","date","name","date",1,"form-control",3,"max","ngModel","ngModelChange","change"],["class","form-field","style","width: 200px;",4,"ngIf"],["class","form-field me-3","style","width: 250px;",4,"ngIf"],[1,"m-0"],[2,"max-height","51vh","min-height","51vh","overflow","auto"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","studentName",3,"width"],["name","Email","prop","email",3,"width"],["name","Phone","prop","phone",3,"width"],["name","Action","prop","id",3,"width"],["name","Remark","prop","comment",3,"width"],[1,"d-flex","justify-content-end","p-3"],[1,"btn","btn-primary",3,"click"],[1,"form-field",2,"width","200px"],["name","class",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-field","me-3",2,"width","250px"],["name","mark",1,"form-select","w-100",3,"ngModel","ngModelChange","change"],["value","Present"],["value","Absent"],["value","Leave"],["value","Holiday"],[1,"ellipse",3,"title"],[1,"btn-small",3,"ngClass","click"],[1,"input-effect"],["type","text","placeholder","Remark","name","comment",1,"border-effect",3,"ngModel","ngModelChange"],[1,"focus-border"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2,"Student Attendance"),e.qZA()(),e.TgZ(3,"div",2)(4,"div",0)(5,"div",3)(6,"div",4)(7,"div",5)(8,"label",6),e._uU(9,"Date"),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(r){return s.attendanceDate=r})("change",function(){return s.getAttendance()}),e.qZA()(),e.YNc(11,Va,5,2,"div",8),e.qZA(),e.TgZ(12,"div"),e.YNc(13,Ba,12,1,"div",9),e.qZA()()(),e._UZ(14,"hr",10),e.TgZ(15,"div",0)(16,"div",11)(17,"ngx-datatable",12,13)(19,"ngx-datatable-column",14),e.YNc(20,za,2,1,"ng-template",15),e.qZA(),e.TgZ(21,"ngx-datatable-column",16),e.YNc(22,Wa,2,2,"ng-template",15),e.qZA(),e.TgZ(23,"ngx-datatable-column",17),e.YNc(24,Ka,2,2,"ng-template",15),e.qZA(),e.TgZ(25,"ngx-datatable-column",18),e.YNc(26,$a,2,2,"ng-template",15),e.qZA(),e.TgZ(27,"ngx-datatable-column",19),e.YNc(28,Xa,9,4,"ng-template",15),e.qZA(),e.TgZ(29,"ngx-datatable-column",20),e.YNc(30,er,3,1,"ng-template",15),e.qZA()()()(),e._UZ(31,"hr",10),e.TgZ(32,"div",21)(33,"button",22),e.NdJ("click",function(){return s.onSubmit()}),e._uU(34),e.qZA()()()),2&n&&(e.xp6(10),e.Q6J("max",s.todayDate)("ngModel",s.attendanceDate),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"==s.role),e.xp6(2),e.Q6J("ngIf",s.students.studentAttendanceResponseList.length>0),e.xp6(4),e.Q6J("rows",s.students.studentAttendanceResponseList)("headerHeight",40)("footerHeight",50)("columnMode",s.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",100),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",100),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(5),e.Oqu(s.isUpdate?"Update":"Save"))},dependencies:[p.mk,p.sg,p.O5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,m.nE,m.UC,m.vq],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.form-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.btn-small[_ngcontent-%COMP%]{border:none;border-radius:5px;padding:6px 15px;margin-right:8px}.btn-present[_ngcontent-%COMP%]{color:#8cf68c;background-color:transparent;border:1px solid #8cf68c}.btn-present-check[_ngcontent-%COMP%]{color:#fff;background-color:#8cf68c;border:1px solid #8cf68c}.btn-leave[_ngcontent-%COMP%]{color:#ffc864;background-color:transparent;border:1px solid #ffc864}.btn-leave-check[_ngcontent-%COMP%]{color:#fff;background-color:#ffc864;border:1px solid #ffc864}.btn-absent[_ngcontent-%COMP%]{color:#f63e3e;background-color:transparent;border:1px solid #f63e3e}.btn-absent-check[_ngcontent-%COMP%]{color:#fff;background-color:#f63e3e;border:1px solid #f63e3e}.btn-holiday[_ngcontent-%COMP%]{color:#a1a1f9;background-color:transparent;border:1px solid #a1a1f9}.btn-holiday-check[_ngcontent-%COMP%]{color:#fff;background-color:#a1a1f9;border:1px solid #a1a1f9}.form-control-sm[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:none}[_ngcontent-%COMP%]:focus{outline:none}.input-effect[_ngcontent-%COMP%]{position:relative}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font:15px/24px;color:#333;width:100%;background:transparent;box-sizing:border-box;letter-spacing:1px;font-family:Roboto,FontAwesome}.border-effect[_ngcontent-%COMP%]{border:0;padding:7px 0;border-bottom:1px solid #ccc}.border-effect[_ngcontent-%COMP%] ~ .focus-border[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#1b3e99;transition:.4s}.border-effect[_ngcontent-%COMP%]:focus ~ .focus-border[_ngcontent-%COMP%]{width:100%;transition:.4s}"]})}return i})();function ir(i,o){if(1&i&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function nr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",8)(2,"label",9),e._uU(3,"Classes"),e.qZA(),e.TgZ(4,"select",41,42),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedClass=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterExam())}),e.YNc(6,ir,2,2,"option",12),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.selectedClass),e.xp6(2),e.Q6J("ngForOf",t.classes)}}function sr(i,o){if(1&i&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function or(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function ar(i,o){if(1&i&&e._UZ(0,"i",49),2&i){const t=e.oxw().value;e.Q6J("routerLink","/app/class/exam/edit/"+t)}}function rr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",45),e._UZ(1,"i",46),e.YNc(2,ar,1,1,"i",47),e.TgZ(3,"i",48),e.NdJ("click",function(){const a=e.CHM(t).value,r=e.oxw(2);return e.KtG(r.deleteExam(a))}),e.qZA()()}if(2&i){const t=o.value,n=o.row,s=e.oxw(2);e.xp6(1),e.Q6J("routerLink","/app/class/exam/check/"+n.name+"/"+t+"/"+n.associationId+"/"+n.date),e.xp6(1),e.Q6J("ngIf",s.checkDate(n.date))}}function dr(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",44),e.YNc(1,rr,4,2,"ng-template",29),e.qZA()),2&i&&e.Q6J("width",150)}function cr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function lr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function ur(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",50),e.YNc(1,lr,2,1,"ng-template",29),e.qZA()),2&i&&e.Q6J("width",150)}function pr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function hr(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Weekly Test"),e.qZA())}function mr(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Unit Test"),e.qZA())}function _r(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Half Yearly"),e.qZA())}function gr(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Annual Exams"),e.qZA())}function fr(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"other"),e.qZA())}function xr(i,o){if(1&i&&(e.YNc(0,hr,2,0,"span",51),e.YNc(1,mr,2,0,"span",51),e.YNc(2,_r,2,0,"span",51),e.YNc(3,gr,2,0,"span",51),e.YNc(4,fr,2,0,"span",51)),2&i){const t=o.value;e.Q6J("ngIf","WEEKLY_TEST"==t),e.xp6(1),e.Q6J("ngIf","UNIT_TEST"==t),e.xp6(1),e.Q6J("ngIf","HALF_YEARLY"==t),e.xp6(1),e.Q6J("ngIf","ANNUAL_EXAMS"==t),e.xp6(1),e.Q6J("ngIf","OTHER"==t)}}function br(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(e.xi3(2,1,t,"dd-MM-yyyy"))}}function vr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Cr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Ar(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Tr(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",52),e.YNc(1,Ar,2,1,"ng-template",29),e.qZA()),2&i&&e.Q6J("width",150)}function wr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Mr(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",53),e.YNc(1,wr,2,1,"ng-template",29),e.qZA()),2&i&&e.Q6J("width",150)}function qr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function yr(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",54),e.YNc(1,qr,2,1,"ng-template",29),e.qZA()),2&i&&e.Q6J("width",150)}let Zr=(()=>{class i{constructor(t,n,s,a){this.dialog=t,this.toastr=n,this.authService=s,this.classService=a,this.exam=[],this.filteredExam=[],this.filterExamtext="",this.resultsLength=0,this.role="",this.selectedSubject=0,this.selectedClass=0,this.selectedChapter=0,this.selectedExamType="ALL",this.subjects=[{id:0,name:"All"}],this.classes=[{id:0,name:"All"}],this.ColumnMode=m.hq}ngOnInit(){this.role=this.authService.role;const t=this.classService.getAllClasses().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.classes.push(a)}):this.toastr.error(s.message),t.unsubscribe()}),n=this.classService.getAllSubject().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.subjects.push(a)}):this.toastr.error(s.message),n.unsubscribe()});this.loadTableData()}loadTableData(){const t=this.classService.getAllExam().subscribe(n=>{200==n.code?(this.exam=n.data,this.filteredExam=n.data):this.toastr.error(n.message),t.unsubscribe()})}filterExam(){if(this.filteredExam=[...this.exam],this.filterExamtext?.length>0){let t=this.filterExamtext.toLowerCase();this.filteredExam=this.exam.filter(n=>n.name&&n.name.toLowerCase().includes(t))}0!=this.selectedClass&&0!=this.selectedSubject&&"ALL"!=this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.subjectId==this.selectedSubject&&t.associationId==this.selectedClass&&t.examType==this.selectedExamType):0!=this.selectedClass&&0!=this.selectedClass&&"ALL"==this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.associationId==this.selectedClass&&t.subjectId==this.selectedSubject):0!=this.selectedClass&&0==this.selectedSubject&&"ALL"!=this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.associationId==this.selectedClass&&t.examType==this.selectedExamType):0==this.selectedClass&&0!=this.selectedSubject&&"ALL"!=this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.subjectId==this.selectedSubject&&t.examType==this.selectedExamType):0!=this.selectedClass&&0==this.selectedSubject&&"ALL"==this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.associationId==this.selectedClass):0==this.selectedClass&&0!=this.selectedSubject&&"ALL"==this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.subjectId==this.selectedSubject):0==this.selectedClass&&0==this.selectedSubject&&"ALL"!=this.selectedExamType&&(this.filteredExam=this.filteredExam.filter(t=>t.examType==this.selectedExamType))}deleteExam(t){this.dialog.open(J.z,{width:"50%",autoFocus:!1,data:{title:"Delete Exam",message:"Are you sure you want to delete the selected exam?"}}).componentInstance.confirmed.subscribe(s=>{s&&this.classService.deleteExam(t).subscribe(r=>{200==r.code?(this.loadTableData(),this.toastr.success(r.message)):this.toastr.error(r.message)})})}checkDate(t){const n=new Date(t);let s=new Date;return s.setHours(0,0,0,0),n>s}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.uw),e.Y36(C._W),e.Y36(I.$),e.Y36(v.j))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-exam"]],decls:62,vars:25,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-plus-circle"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-end","align-items-center","w-100"],["style","width: 200px;","class","mt-2",4,"ngIf"],[1,"mt-2","mx-3",2,"width","200px"],[1,"form-field"],[1,"label"],["name","subject",1,"form-select","w-100",3,"ngModel","change","ngModelChange"],["subject","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-2",2,"width","200px"],["value","ALL"],["value","WEEKLY_TEST"],["value","UNIT_TEST"],["value","HALF_YEARLY"],["value","ANNUAL_EXAMS"],["value","OTHER"],[1,"input-group","flex-nowrap","ms-3",2,"max-width","350px"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search","type","text","name","searchFee",1,"form-control",3,"ngModel","ngModelChange","keyup"],["searchFee","ngModel"],[1,"mt-4",2,"max-width","78vw","overflow","auto"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count","scrollbarH"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Action","prop","id",3,"width",4,"ngIf"],["name","Name","prop","name",3,"width"],["name","Class","prop","associationName",3,"width",4,"ngIf"],["name","Subject","prop","subjectName",3,"width"],["name","Type","prop","examType",3,"width"],["name","Date","prop","date",3,"width"],["name","Max. Marks","prop","maxMarks",3,"width"],["name","Passing Marks","prop","passingMarks",3,"width"],["name","Obtained Marks","prop","obtainedMarks",3,"width",4,"ngIf"],["name","Grade","prop","grade",3,"width",4,"ngIf"],["name","Status","prop","examStatus",3,"width",4,"ngIf"],["name","class",1,"form-select","w-100",3,"ngModel","ngModelChange","change"],["class","ngModel"],[3,"value"],["name","Action","prop","id",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-user","pointer","ms-3",3,"routerLink"],["class","fa-solid fa-pen-to-square pointer ms-3","style","color: #1b3e99;",3,"routerLink",4,"ngIf"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"routerLink"],["name","Class","prop","associationName",3,"width"],[4,"ngIf"],["name","Obtained Marks","prop","obtainedMarks",3,"width"],["name","Grade","prop","grade",3,"width"],["name","Status","prop","examStatus",3,"width"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Exam"),e.qZA(),e.TgZ(3,"button",2),e._UZ(4,"i",3),e._uU(5,"\xa0\xa0Add Exam "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5),e.YNc(8,nr,7,2,"div",6),e.TgZ(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Subjects"),e.qZA(),e.TgZ(13,"select",10,11),e.NdJ("change",function(){return s.filterExam()})("ngModelChange",function(r){return s.selectedSubject=r}),e.YNc(15,sr,2,2,"option",12),e.qZA()()(),e.TgZ(16,"div",13)(17,"div",8)(18,"label",9),e._uU(19,"Exam Type"),e.qZA(),e.TgZ(20,"select",10,11),e.NdJ("change",function(){return s.filterExam()})("ngModelChange",function(r){return s.selectedExamType=r}),e.TgZ(22,"option",14),e._uU(23,"All"),e.qZA(),e.TgZ(24,"option",15),e._uU(25,"Weekly Test"),e.qZA(),e.TgZ(26,"option",16),e._uU(27,"Unit Test"),e.qZA(),e.TgZ(28,"option",17),e._uU(29,"Half Yearly"),e.qZA(),e.TgZ(30,"option",18),e._uU(31,"Annual Exams"),e.qZA(),e.TgZ(32,"option",19),e._uU(33,"Other"),e.qZA()()()(),e.TgZ(34,"div",20)(35,"span",21)(36,"i",22),e._uU(37,"search"),e.qZA()(),e.TgZ(38,"input",23,24),e.NdJ("ngModelChange",function(r){return s.filterExamtext=r})("keyup",function(){return s.filterExam()}),e.qZA()()(),e.TgZ(40,"div",25)(41,"ngx-datatable",26,27)(43,"ngx-datatable-column",28),e.YNc(44,or,2,1,"ng-template",29),e.qZA(),e.YNc(45,dr,2,1,"ngx-datatable-column",30),e.TgZ(46,"ngx-datatable-column",31),e.YNc(47,cr,2,1,"ng-template",29),e.qZA(),e.YNc(48,ur,2,1,"ngx-datatable-column",32),e.TgZ(49,"ngx-datatable-column",33),e.YNc(50,pr,2,1,"ng-template",29),e.qZA(),e.TgZ(51,"ngx-datatable-column",34),e.YNc(52,xr,5,5,"ng-template",29),e.qZA(),e.TgZ(53,"ngx-datatable-column",35),e.YNc(54,br,3,4,"ng-template",29),e.qZA(),e.TgZ(55,"ngx-datatable-column",36),e.YNc(56,vr,2,1,"ng-template",29),e.qZA(),e.TgZ(57,"ngx-datatable-column",37),e.YNc(58,Cr,2,1,"ng-template",29),e.qZA(),e.YNc(59,Tr,2,1,"ngx-datatable-column",38),e.YNc(60,Mr,2,1,"ngx-datatable-column",39),e.YNc(61,yr,2,1,"ngx-datatable-column",40),e.qZA()()()),2&n&&(e.xp6(3),e.Q6J("routerLink","/app/class/exam/add"),e.xp6(5),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(5),e.Q6J("ngModel",s.selectedSubject),e.xp6(2),e.Q6J("ngForOf",s.subjects),e.xp6(5),e.Q6J("ngModel",s.selectedExamType),e.xp6(18),e.Q6J("ngModel",s.filterExamtext),e.xp6(3),e.Q6J("rows",s.filteredExam)("headerHeight",40)("footerHeight",50)("columnMode",s.ColumnMode.force)("count",10)("scrollbarH",!0),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(1),e.Q6J("width",150),e.xp6(2),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(1),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("ngIf","STUDENT"==s.role),e.xp6(1),e.Q6J("ngIf","STUDENT"==s.role),e.xp6(1),e.Q6J("ngIf","STUDENT"==s.role))},dependencies:[p.sg,p.O5,q.rH,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,m.nE,m.UC,m.vq,p.uU],styles:[".form-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}ngx-datatable[_ngcontent-%COMP%]{width:100%;overflow-x:auto}ngx-datatable[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]{overflow-x:auto}"]})}return i})();var Te=h(3965);const Ir=["examForm"];function kr(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," Name is required "),e.qZA())}function Sr(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," Date is required "),e.qZA())}function Er(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," Max. Marks is required "),e.qZA())}function Nr(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," Passing Marks is required "),e.qZA())}function Or(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," Start Time is required "),e.qZA())}function Dr(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," End Time is required "),e.qZA())}function Jr(i,o){if(1&i&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Qr(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," Class is required "),e.qZA())}function Ur(i,o){if(1&i&&(e.TgZ(0,"option",43),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Pr(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," Subject is required "),e.qZA())}const O=function(i){return{"is-invalid":i}};function Rr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",8),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"select",44,45),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.data.subjectId=s)}),e.YNc(5,Ur,2,2,"option",28),e.qZA(),e.YNc(6,Pr,2,0,"p",11),e.qZA()}if(2&i){const t=e.MAs(4),n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.data.subjectId)("ngClass",e.VKq(4,O,t.touched&&t.errors&&t.errors.required)),e.xp6(2),e.Q6J("ngForOf",n.filteredSubjects),e.xp6(1),e.Q6J("ngIf",t.touched&&t.errors&&t.errors.required)}}function jr(i,o){1&i&&(e.TgZ(0,"p",42),e._uU(1," Exam Type is required "),e.qZA())}let xt=(()=>{class i{constructor(t,n,s,a,r){this.classService=t,this.toastr=n,this.authService=s,this.router=a,this.route=r,this.data={},this.status="Add",this.isExamFormVisible=!0,this.startTime="",this.endTime="",this.classes=[],this.subjects=[],this.filteredSubjects=[],this.confirmed=new e.vpe}ngOnInit(){this.todayDate=(new Date).toISOString().split("T")[0],this.startTime=this.authService.startTime,this.endTime=this.authService.endTime;const n=(0,H.D)({cls:this.classService.getAllClasses(),sub:this.classService.getAllSubject()}).subscribe(({cls:s,sub:a})=>{200==s.code?this.classes=s.data:this.toastr.error(s.message),200==a.code?this.subjects=a.data:this.toastr.error(a.message),this.loadData(),n.unsubscribe()})}close(){this.router.navigateByUrl("/app/class/exam")}loadData(){this.route.paramMap.subscribe(t=>{let n=t.get("id");if(n){this.status="Edit";const s=this.classService.getExamById(parseInt(n)).subscribe(a=>{200==a.code?(this.data=a.data,this.filterSubjects()):this.toastr.error(a.message),s.unsubscribe()})}})}onSubmit(){if(this.isExamFormVisible&&this.examForm.control.markAllAsTouched(),this.examForm.form.valid)if(this.data.id){const t=this.classService.updateExam(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.confirmed.emit(!0),this.close()):this.toastr.error(n.message),t.unsubscribe()})}else{const t=this.classService.saveExam(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.confirmed.emit(!0),this.close()):this.toastr.error(n.message),t.unsubscribe()})}}setMarks(){this.data.maxMarks&&this.data.passingMarks&&this.data.passingMarks>this.data.maxMarks&&(this.data.passingMarks=void 0)}filterSubjects(){this.data.associationId?this.filteredSubjects=this.subjects.filter(t=>null!=t.associationIds&&t.associationIds.length>0&&t.associationIds?.findIndex(n=>n==this.data.associationId)>-1):(this.filteredSubjects=[],this.toastr.error("There is no subject linked with this class"))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(v.j),e.Y36(C._W),e.Y36(I.$),e.Y36(q.F0),e.Y36(q.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-exam"]],viewQuery:function(n,s){if(1&n&&e.Gf(Ir,5),2&n){let a;e.iGM(a=e.CRH())&&(s.examForm=a.first)}},outputs:{confirmed:"confirmed"},decls:84,vars:53,consts:[[1,"card","mb-0"],[1,"d-flex","justify-content-between","align-items-center","p-3"],[1,"title"],[1,"m-0"],[1,"p-3"],["examForm","ngForm"],[1,"row"],[1,"form-field","col-6","mt-2"],[1,"label"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","validation-error",4,"ngIf"],["type","date","name","date","required","",1,"form-control",3,"ngModel","min","ngClass","ngModelChange"],["date","ngModel"],[1,"form-field","mt-4","col-6"],["type","number","name","maxMarks","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","blur"],["maxMarks","ngModel"],["type","number","name","passingMarks","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","blur"],["passingMarks","ngModel"],["name","start","required","","readonly","",1,"form-control",3,"ngxTimepicker","ngModel","min","max","ngClass","ngModelChange"],["start","ngModel"],[1,"timepicker-styled",2,"z-index","1000"],["picker",""],["name","end","readonly","","required","",1,"form-control",3,"ngxTimepicker","ngModel","min","max","disabled","ngClass","ngModelChange"],["end","ngModel"],["endpicker",""],["name","class","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange","change"],["class","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","form-field mt-4 col-6",4,"ngIf"],["name","examType","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["examType","ngModel"],["value","WEEKLY_TEST"],["value","UNIT_TEST"],["value","HALF_YEARLY"],["value","ANNUAL_EXAMS"],["value","OTHER"],["name","description","rows","2",1,"form-control","h-100",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"d-flex","justify-content-end","p-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","ms-2",3,"click"],[1,"validation-error"],[3,"value"],["name","subject","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["subject","ngModel"]],template:function(n,s){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA()(),e._UZ(4,"hr",3),e.TgZ(5,"div",4)(6,"form",null,5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11,"Name"),e.qZA(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(r){return s.data.name=r}),e.qZA(),e.YNc(14,kr,2,0,"p",11),e.qZA(),e.TgZ(15,"div",7)(16,"label",8),e._uU(17,"Date"),e.qZA(),e.TgZ(18,"input",12,13),e.NdJ("ngModelChange",function(r){return s.data.date=r}),e.qZA(),e.YNc(20,Sr,2,0,"p",11),e.qZA(),e.TgZ(21,"div",14)(22,"label",8),e._uU(23,"Max. Marks"),e.qZA(),e.TgZ(24,"input",15,16),e.NdJ("ngModelChange",function(r){return s.data.maxMarks=r})("blur",function(){return s.setMarks()}),e.qZA(),e.YNc(26,Er,2,0,"p",11),e.qZA(),e.TgZ(27,"div",14)(28,"label",8),e._uU(29,"Passing Marks"),e.qZA(),e.TgZ(30,"input",17,18),e.NdJ("ngModelChange",function(r){return s.data.passingMarks=r})("blur",function(){return s.setMarks()}),e.qZA(),e.YNc(32,Nr,2,0,"p",11),e.qZA(),e.TgZ(33,"div",14)(34,"label",8),e._uU(35,"Start Time"),e.qZA(),e.TgZ(36,"input",19,20),e.NdJ("ngModelChange",function(r){return s.data.startTime=r}),e.qZA(),e._UZ(38,"ngx-material-timepicker",21,22),e.YNc(40,Or,2,0,"p",11),e.qZA(),e.TgZ(41,"div",14)(42,"label",8),e._uU(43,"End Time"),e.qZA(),e.TgZ(44,"input",23,24),e.NdJ("ngModelChange",function(r){return s.data.endTime=r}),e.qZA(),e._UZ(46,"ngx-material-timepicker",null,25),e.YNc(48,Dr,2,0,"p",11),e.qZA(),e.TgZ(49,"div",14)(50,"label",8),e._uU(51,"Class"),e.qZA(),e.TgZ(52,"select",26,27),e.NdJ("ngModelChange",function(r){return s.data.associationId=r})("change",function(){return s.filterSubjects()}),e.YNc(54,Jr,2,2,"option",28),e.qZA(),e.YNc(55,Qr,2,0,"p",11),e.qZA(),e.YNc(56,Rr,7,6,"div",29),e.TgZ(57,"div",14)(58,"label",8),e._uU(59,"Exam Type"),e.qZA(),e.TgZ(60,"select",30,31),e.NdJ("ngModelChange",function(r){return s.data.examType=r}),e.TgZ(62,"option",32),e._uU(63,"Weekly Test"),e.qZA(),e.TgZ(64,"option",33),e._uU(65,"Unit Test"),e.qZA(),e.TgZ(66,"option",34),e._uU(67,"Half Yearly"),e.qZA(),e.TgZ(68,"option",35),e._uU(69,"Annual Exams"),e.qZA(),e.TgZ(70,"option",36),e._uU(71,"Other"),e.qZA()(),e.YNc(72,jr,2,0,"p",11),e.qZA(),e.TgZ(73,"div",14)(74,"label",8),e._uU(75,"Description"),e.qZA(),e.TgZ(76,"textarea",37,38),e.NdJ("ngModelChange",function(r){return s.data.description=r}),e.qZA()()()()(),e._UZ(78,"hr",3),e.TgZ(79,"div",39)(80,"button",40),e.NdJ("click",function(){return s.close()}),e._uU(81,"Cancel"),e.qZA(),e.TgZ(82,"button",41),e.NdJ("click",function(){return s.onSubmit()}),e._uU(83),e.qZA()()()),2&n){const a=e.MAs(13),r=e.MAs(19),d=e.MAs(25),l=e.MAs(31),u=e.MAs(37),_=e.MAs(39),f=e.MAs(45),w=e.MAs(47),M=e.MAs(53),T=e.MAs(61);e.xp6(3),e.hij("",s.status," Exam"),e.xp6(9),e.Q6J("ngModel",s.data.name)("ngClass",e.VKq(37,O,a.touched&&a.errors&&a.errors.required)),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors&&a.errors.required),e.xp6(4),e.Q6J("ngModel",s.data.date)("min",s.todayDate)("ngClass",e.VKq(39,O,r.touched&&r.errors&&r.errors.required)),e.xp6(2),e.Q6J("ngIf",r.touched&&r.errors&&r.errors.required),e.xp6(4),e.Q6J("ngModel",s.data.maxMarks)("ngClass",e.VKq(41,O,d.touched&&d.errors&&d.errors.required)),e.xp6(2),e.Q6J("ngIf",d.touched&&d.errors&&d.errors.required),e.xp6(4),e.Q6J("ngModel",s.data.passingMarks)("ngClass",e.VKq(43,O,l.touched&&l.errors&&l.errors.required)),e.xp6(2),e.Q6J("ngIf",l.touched&&l.errors&&l.errors.required),e.xp6(4),e.Q6J("ngxTimepicker",_)("ngModel",s.data.startTime)("min",s.startTime)("max",s.endTime)("ngClass",e.VKq(45,O,u.touched&&u.errors&&u.errors.required)),e.xp6(4),e.Q6J("ngIf",u.touched&&u.errors&&u.errors.required),e.xp6(4),e.Q6J("ngxTimepicker",w)("ngModel",s.data.endTime)("min",s.data.startTime)("max",s.endTime)("disabled",!s.data.startTime)("ngClass",e.VKq(47,O,f.touched&&f.errors&&f.errors.required)),e.xp6(4),e.Q6J("ngIf",f.touched&&f.errors&&f.errors.required),e.xp6(4),e.Q6J("ngModel",s.data.associationId)("ngClass",e.VKq(49,O,M.touched&&M.errors&&M.errors.required)),e.xp6(2),e.Q6J("ngForOf",s.classes),e.xp6(1),e.Q6J("ngIf",M.touched&&M.errors&&M.errors.required),e.xp6(1),e.Q6J("ngIf",s.data.associationId),e.xp6(4),e.Q6J("ngModel",s.data.examType)("ngClass",e.VKq(51,O,T.touched&&T.errors&&T.errors.required)),e.xp6(12),e.Q6J("ngIf",T.touched&&T.errors&&T.errors.required),e.xp6(4),e.Q6J("ngModel",s.data.description),e.xp6(7),e.Oqu("Add"==s.status?"Save":"Update")}},dependencies:[p.mk,p.sg,p.O5,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F,Te.ro,Te.I2],styles:[".label[_ngcontent-%COMP%]{left:20px}.form-control[_ngcontent-%COMP%]:disabled{background-color:#fff}"]})}return i})();function Fr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Yr(i,o){if(1&i&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Lr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"select",25),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).row;return e.KtG(r.attendanceStatus=s)})("change",function(){const a=e.CHM(t).rowIndex,r=e.oxw();return e.KtG(r.setMarksAndAttendance(a,"Attendance"))}),e.TgZ(2,"option",26),e._uU(3,"Present"),e.qZA(),e.TgZ(4,"option",27),e._uU(5,"Absent"),e.qZA(),e.TgZ(6,"option",28),e._uU(7,"Leave"),e.qZA()(),e._UZ(8,"span",29),e.qZA()}if(2&i){const t=o.row;e.xp6(1),e.Q6J("ngModel",t.attendanceStatus)}}function Hr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"input",30),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).row;return e.KtG(r.marks=s)})("blur",function(){const a=e.CHM(t).rowIndex,r=e.oxw();return e.KtG(r.setMarksAndAttendance(a,"Marks"))}),e.qZA(),e._UZ(2,"span",29),e.qZA()}if(2&i){const t=o.row;e.xp6(1),e.Q6J("ngModel",t.marks)}}function Gr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function Vr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"input",31),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).row;return e.KtG(r.comments=s)}),e.qZA(),e._UZ(2,"span",29),e.qZA()}if(2&i){const t=o.row;e.xp6(1),e.Q6J("ngModel",t.comments)}}function Br(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}let zr=(()=>{class i{constructor(t,n,s,a){this.toastr=t,this.authService=n,this.route=s,this.classService=a,this.students=[],this.filteredStudents=[],this.filterExamtext="",this.resultsLength=0,this.role="",this.examName="",this.submitExamsNumbers={examResults:[]},this.ColumnMode=m.hq}ngOnInit(){this.role=this.authService.role,this.route.paramMap.subscribe(t=>{this.examName=t.get("name");let n=t.get("id"),s=t.get("classId"),a=t.get("date");if(n){this.submitExamsNumbers.examScheduleId=parseInt(n);const r=this.classService.getSubmittedExams(parseInt(n)).subscribe(d=>{if(200==d.code){this.students=d.data,this.filteredStudents=d.data;let l=!1;this.students.forEach(u=>{u.attendanceStatus&&(l=!0)}),l||this.getStudentsAttendance(parseInt(s),a)}else this.toastr.error(d.message);r.unsubscribe()})}})}getStudentsAttendance(t,n){const s=this.classService.getAttendanceByClassAndDate(t,n).subscribe(a=>{if(200==a.code){let r=a.data;r.attendance&&r.studentAttendanceResponseList?.forEach(d=>{let l=this.students.find(u=>u.studentId===d.studentDetailId);l&&d.status&&"HOLIDAY"!==d.status&&(l.attendanceStatus=d.status)})}else this.toastr.error(a.message);s.unsubscribe()})}filterExam(){if(this.filterExamtext?.length>0){let t=this.filterExamtext.toLowerCase();this.filteredStudents=this.students.filter(n=>n.studentName&&n.studentName.toLowerCase().includes(t))}else this.students=[...this.students]}setMarksAndAttendance(t,n){this.filteredStudents[t].attendanceStatus&&"PRESENT"!=this.filteredStudents[t].attendanceStatus&&"Attendance"==n&&(this.filteredStudents[t].marks=void 0),this.filteredStudents[t].marks&&"Marks"==n&&(this.filteredStudents[t].attendanceStatus="PRESENT")}onSubmit(){this.students.forEach(n=>{n.marks&&this.submitExamsNumbers.examResults.push({userId:n.studentId,attendanceStatus:n.attendanceStatus,comment:n.comments,marks:n.marks})});const t=this.classService.submitExamNumbers(this.submitExamsNumbers).subscribe(n=>{200==n.code?this.toastr.success(n.message):this.toastr.error(n.message),t.unsubscribe()})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(C._W),e.Y36(I.$),e.Y36(q.gz),e.Y36(v.j))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-exam-numbers"]],decls:34,vars:18,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],[1,"card","m-2","mt-3","p-4","mb-0"],[1,"d-flex","justify-content-end"],[1,"input-group","flex-nowrap",2,"width","350px"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search","type","text","name","searchFee",1,"form-control",3,"ngModel","ngModelChange","keyup"],["searchFee","ngModel"],[1,"mt-4",2,"max-height","54vh","overflow","auto","scrollbar-width","none"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","studentName",3,"width"],["name","Attendance","prop","attendanceStatus",3,"width"],["name","Obtained Marks","prop","marks",3,"width"],["name","Grade","prop","grade",3,"width"],["name","Remark","prop","comments",3,"width"],["name","Status","prop","examStatus",3,"width"],[1,"d-flex","justify-content-end","p-3"],[1,"btn","btn-secondary","me-2",3,"routerLink"],[1,"btn","btn-primary",3,"click"],[1,"ellipse"],[1,"input-effect"],["name","attendance",1,"border-effect",3,"ngModel","ngModelChange","change"],["value","PRESENT"],["value","ABSENT"],["value","LEAVE"],[1,"focus-border"],["type","number","placeholder","Marks","name","marks",1,"border-effect",3,"ngModel","ngModelChange","blur"],["type","text","placeholder","Remark","name","remark",1,"border-effect",3,"ngModel","ngModelChange"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.ALo(3,"titlecase"),e.qZA()(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"span",5)(8,"i",6),e._uU(9,"search"),e.qZA()(),e.TgZ(10,"input",7,8),e.NdJ("ngModelChange",function(r){return s.filterExamtext=r})("keyup",function(){return s.filterExam()}),e.qZA()()(),e.TgZ(12,"div",9)(13,"ngx-datatable",10,11)(15,"ngx-datatable-column",12),e.YNc(16,Fr,2,1,"ng-template",13),e.qZA(),e.TgZ(17,"ngx-datatable-column",14),e.YNc(18,Yr,2,1,"ng-template",13),e.qZA(),e.TgZ(19,"ngx-datatable-column",15),e.YNc(20,Lr,9,1,"ng-template",13),e.qZA(),e.TgZ(21,"ngx-datatable-column",16),e.YNc(22,Hr,3,1,"ng-template",13),e.qZA(),e.TgZ(23,"ngx-datatable-column",17),e.YNc(24,Gr,2,1,"ng-template",13),e.qZA(),e.TgZ(25,"ngx-datatable-column",18),e.YNc(26,Vr,3,1,"ng-template",13),e.qZA(),e.TgZ(27,"ngx-datatable-column",19),e.YNc(28,Br,2,1,"ng-template",13),e.qZA()()(),e.TgZ(29,"div",20)(30,"button",21),e._uU(31,"Cancel"),e.qZA(),e.TgZ(32,"button",22),e.NdJ("click",function(){return s.onSubmit()}),e._uU(33,"Save"),e.qZA()()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,16,s.examName)),e.xp6(8),e.Q6J("ngModel",s.filterExamtext),e.xp6(3),e.Q6J("rows",s.filteredStudents)("headerHeight",40)("footerHeight",50)("columnMode",s.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",100),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",200),e.xp6(3),e.Q6J("routerLink","/app/class/exam"))},dependencies:[q.rH,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.On,m.nE,m.UC,m.vq,p.rS],styles:[".form-select-sm[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:none}.form-control-sm[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}[_ngcontent-%COMP%]:focus{outline:none}.input-effect[_ngcontent-%COMP%]{position:relative}input[type=number][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font:15px/24px;color:#333;width:100%;box-sizing:border-box;letter-spacing:1px;background:transparent;font-family:Roboto,FontAwesome}.border-effect[_ngcontent-%COMP%]{border:0;padding:7px 0;border-bottom:1px solid #ccc}.border-effect[_ngcontent-%COMP%] ~ .focus-border[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:0;height:2px;background-color:#1b3e99;transition:.4s}.border-effect[_ngcontent-%COMP%]:focus ~ .focus-border[_ngcontent-%COMP%]{width:100%;transition:.4s}"]})}return i})();function Wr(i,o){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Kr(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",6)(2,"label",7),e._uU(3,"Classes"),e.qZA(),e.TgZ(4,"select",38,39),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedClass=s)})("change",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.filterExam())}),e.YNc(6,Wr,2,2,"option",10),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.selectedClass),e.xp6(2),e.Q6J("ngForOf",t.classes)}}function $r(i,o){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Xr(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.rowIndex;e.xp6(1),e.Oqu(t+1)}}function ed(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function td(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(e.xi3(2,1,t,"dd-MM-yyyy"))}}function id(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function nd(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function sd(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function od(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",41),e.YNc(1,sd,2,1,"ng-template",27),e.qZA()),2&i&&e.Q6J("width",150)}function ad(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function rd(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function dd(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",42),e.YNc(1,rd,2,1,"ng-template",27),e.qZA()),2&i&&e.Q6J("width",150)}function cd(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function ld(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",43),e.YNc(1,cd,2,1,"ng-template",27),e.qZA()),2&i&&e.Q6J("width",150)}function ud(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=o.value;e.xp6(1),e.Oqu(t)}}function pd(i,o){1&i&&(e.TgZ(0,"ngx-datatable-column",44),e.YNc(1,ud,2,1,"ng-template",27),e.qZA()),2&i&&e.Q6J("width",150)}function hd(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Weekly Test"),e.qZA())}function md(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Unit Test"),e.qZA())}function _d(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Half Yearly"),e.qZA())}function gd(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"Annual Exams"),e.qZA())}function fd(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"other"),e.qZA())}function xd(i,o){if(1&i&&(e.YNc(0,hd,2,0,"span",45),e.YNc(1,md,2,0,"span",45),e.YNc(2,_d,2,0,"span",45),e.YNc(3,gd,2,0,"span",45),e.YNc(4,fd,2,0,"span",45)),2&i){const t=o.value;e.Q6J("ngIf","WEEKLY_TEST"==t),e.xp6(1),e.Q6J("ngIf","UNIT_TEST"==t),e.xp6(1),e.Q6J("ngIf","HALF_YEARLY"==t),e.xp6(1),e.Q6J("ngIf","ANNUAL_EXAMS"==t),e.xp6(1),e.Q6J("ngIf","OTHER"==t)}}let bd=(()=>{class i{constructor(t,n,s,a){this.dialog=t,this.toastr=n,this.authService=s,this.classService=a,this.exam=[],this.filteredExam=[],this.filterExamtext="",this.resultsLength=0,this.role="",this.selectedSubject=0,this.selectedClass=0,this.selectedChapter=0,this.selectedExamType="ALL",this.subjects=[{id:0,name:"All"}],this.classes=[{id:0,name:"All"}],this.ColumnMode=m.hq}ngOnInit(){this.role=this.authService.role;const t=this.classService.getAllClasses().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.classes.push(a)}):this.toastr.error(s.message),t.unsubscribe()}),n=this.classService.getAllSubject().subscribe(s=>{200==s.code?s.data.forEach(a=>{this.subjects.push(a)}):this.toastr.error(s.message),n.unsubscribe()});this.loadTableData()}loadTableData(){const t=this.classService.getAllExam().subscribe(n=>{200==n.code?(this.exam=n.data,this.filteredExam=n.data):this.toastr.error(n.message),t.unsubscribe()})}filterExam(){if(this.filteredExam=[...this.exam],this.filterExamtext?.length>0){let t=this.filterExamtext.toLowerCase();this.filteredExam=this.exam.filter(n=>n.name&&n.name.toLowerCase().includes(t))}0!=this.selectedClass&&0!=this.selectedSubject&&"ALL"!=this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.subjectId==this.selectedSubject&&t.associationId==this.selectedClass&&t.examType==this.selectedExamType):0!=this.selectedClass&&0!=this.selectedClass&&"ALL"==this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.associationId==this.selectedClass&&t.subjectId==this.selectedSubject):0!=this.selectedClass&&0==this.selectedSubject&&"ALL"!=this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.associationId==this.selectedClass&&t.examType==this.selectedExamType):0==this.selectedClass&&0!=this.selectedSubject&&"ALL"!=this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.subjectId==this.selectedSubject&&t.examType==this.selectedExamType):0!=this.selectedClass&&0==this.selectedSubject&&"ALL"==this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.associationId==this.selectedClass):0==this.selectedClass&&0!=this.selectedSubject&&"ALL"==this.selectedExamType?this.filteredExam=this.filteredExam.filter(t=>t.subjectId==this.selectedSubject):0==this.selectedClass&&0==this.selectedSubject&&"ALL"!=this.selectedExamType&&(this.filteredExam=this.filteredExam.filter(t=>t.examType==this.selectedExamType))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.uw),e.Y36(C._W),e.Y36(I.$),e.Y36(v.j))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-exam-result"]],decls:58,vars:23,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-end","align-items-center","w-100"],["style","width: 200px;","class","mt-2",4,"ngIf"],[1,"mt-2","mx-3",2,"width","200px"],[1,"form-field"],[1,"label"],["name","subject",1,"form-select","w-100",3,"ngModel","change","ngModelChange"],["subject","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-2",2,"width","200px"],["value","ALL"],["value","WEEKLY_TEST"],["value","UNIT_TEST"],["value","HALF_YEARLY"],["value","ANNUAL_EXAMS"],["value","OTHER"],[1,"input-group","flex-nowrap","ms-3",2,"max-width","350px"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search","type","text","name","searchFee",1,"form-control",3,"ngModel","ngModelChange","keyup"],["searchFee","ngModel"],[1,"mt-4",2,"max-width","78vw","overflow","auto"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count","scrollbarH"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","name",3,"width"],["name","Date","prop","date",3,"width"],["name","Max. Marks","prop","maxMarks",3,"width"],["name","Passing Marks","prop","passingMarks",3,"width"],["name","Class","prop","associationName",3,"width",4,"ngIf"],["name","Subject","prop","subjectName",3,"width"],["name","Obtained Marks","prop","obtainedMarks",3,"width",4,"ngIf"],["name","Grade","prop","grade",3,"width",4,"ngIf"],["name","Status","prop","examStatus",3,"width",4,"ngIf"],["name","Type","prop","examType",3,"width"],["name","class",1,"form-select","w-100",3,"ngModel","ngModelChange","change"],["class","ngModel"],[3,"value"],["name","Class","prop","associationName",3,"width"],["name","Obtained Marks","prop","obtainedMarks",3,"width"],["name","Grade","prop","grade",3,"width"],["name","Status","prop","examStatus",3,"width"],[4,"ngIf"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Exam Result"),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,Kr,7,2,"div",4),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Subjects"),e.qZA(),e.TgZ(10,"select",8,9),e.NdJ("change",function(){return s.filterExam()})("ngModelChange",function(r){return s.selectedSubject=r}),e.YNc(12,$r,2,2,"option",10),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",6)(15,"label",7),e._uU(16,"Exam Type"),e.qZA(),e.TgZ(17,"select",8,9),e.NdJ("change",function(){return s.filterExam()})("ngModelChange",function(r){return s.selectedExamType=r}),e.TgZ(19,"option",12),e._uU(20,"All"),e.qZA(),e.TgZ(21,"option",13),e._uU(22,"Weekly Test"),e.qZA(),e.TgZ(23,"option",14),e._uU(24,"Unit Test"),e.qZA(),e.TgZ(25,"option",15),e._uU(26,"Half Yearly"),e.qZA(),e.TgZ(27,"option",16),e._uU(28,"Annual Exams"),e.qZA(),e.TgZ(29,"option",17),e._uU(30,"Other"),e.qZA()()()(),e.TgZ(31,"div",18)(32,"span",19)(33,"i",20),e._uU(34,"search"),e.qZA()(),e.TgZ(35,"input",21,22),e.NdJ("ngModelChange",function(r){return s.filterExamtext=r})("keyup",function(){return s.filterExam()}),e.qZA()()(),e.TgZ(37,"div",23)(38,"ngx-datatable",24,25)(40,"ngx-datatable-column",26),e.YNc(41,Xr,2,1,"ng-template",27),e.qZA(),e.TgZ(42,"ngx-datatable-column",28),e.YNc(43,ed,2,1,"ng-template",27),e.qZA(),e.TgZ(44,"ngx-datatable-column",29),e.YNc(45,td,3,4,"ng-template",27),e.qZA(),e.TgZ(46,"ngx-datatable-column",30),e.YNc(47,id,2,1,"ng-template",27),e.qZA(),e.TgZ(48,"ngx-datatable-column",31),e.YNc(49,nd,2,1,"ng-template",27),e.qZA(),e.YNc(50,od,2,1,"ngx-datatable-column",32),e.TgZ(51,"ngx-datatable-column",33),e.YNc(52,ad,2,1,"ng-template",27),e.qZA(),e.YNc(53,dd,2,1,"ngx-datatable-column",34),e.YNc(54,ld,2,1,"ngx-datatable-column",35),e.YNc(55,pd,2,1,"ngx-datatable-column",36),e.TgZ(56,"ngx-datatable-column",37),e.YNc(57,xd,5,5,"ng-template",27),e.qZA()()()()),2&n&&(e.xp6(5),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(5),e.Q6J("ngModel",s.selectedSubject),e.xp6(2),e.Q6J("ngForOf",s.subjects),e.xp6(5),e.Q6J("ngModel",s.selectedExamType),e.xp6(18),e.Q6J("ngModel",s.filterExamtext),e.xp6(3),e.Q6J("rows",s.filteredExam)("headerHeight",40)("footerHeight",50)("columnMode",s.ColumnMode.force)("count",10)("scrollbarH",!0),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("width",150),e.xp6(2),e.Q6J("ngIf","STUDENT"!=s.role),e.xp6(1),e.Q6J("width",150),e.xp6(2),e.Q6J("ngIf","STUDENT"==s.role),e.xp6(1),e.Q6J("ngIf","STUDENT"==s.role),e.xp6(1),e.Q6J("ngIf","STUDENT"==s.role),e.xp6(1),e.Q6J("width",150))},dependencies:[p.sg,p.O5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,m.nE,m.UC,m.vq,p.uU]})}return i})();var vd=h(2529);const Cd=["testContainer"],Ad=function(i){return{"selected-section":i}};function Td(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"span",44)(1,"span",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.sectionChange(a.id))}),e._uU(2),e.qZA()()}if(2&i){const t=o.$implicit,n=o.index,s=e.oxw();e.Q6J("ngClass",e.VKq(2,Ad,n==s.acticeSectionIndex)),e.xp6(2),e.Oqu(t.name)}}function wd(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"label",59)(2,"input",60),e.NdJ("ngModelChange",function(s){const r=e.CHM(t).$implicit;return e.KtG(r.correct=s)}),e.qZA(),e.TgZ(3,"span",22),e._uU(4),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(1),e.Q6J("for",t.id),e.xp6(1),e.Q6J("id",t.id)("value",t.id)("ngModel",t.correct),e.xp6(2),e.Oqu(t.text)}}function Md(i,o){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,wd,5,5,"div",57),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.options)}}const bt=function(i,o){return{"max-height":i,"min-height":o}};function qd(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div",47)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div",8)(5,"div",48),e._uU(6),e.qZA(),e.TgZ(7,"div",49)(8,"span"),e._uU(9,"Marks"),e.qZA(),e.TgZ(10,"span",50),e._uU(11),e.qZA(),e.TgZ(12,"span",51),e._uU(13),e.qZA()()()(),e.TgZ(14,"div",52)(15,"div",53)(16,"span",54),e._uU(17,"Direction: "),e.qZA(),e._uU(18),e.qZA(),e.YNc(19,Md,2,1,"div",55),e.qZA()()),2&i){const t=e.oxw(),n=t.index,s=t.$implicit,a=e.oxw();let r;e.xp6(3),e.hij("Question ",n+1,""),e.xp6(3),e.hij("Time: ",null==(r=a.getActiveQuestion())?null:r.timer,""),e.xp6(5),e.hij("+",s.positiveMark,""),e.xp6(2),e.Oqu(s.negativeMark),e.xp6(1),e.Q6J("ngStyle",e.WLB(7,bt,a.isFullScreen?"75vh":"55vh",a.isFullScreen?"75vh":"55vh")),e.xp6(4),e.hij(" ",s.question," "),e.xp6(1),e.Q6J("ngIf","MCQ"==s.type)}}function yd(i,o){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,qd,20,10,"div",46),e.qZA()),2&i){const t=o.index,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t==n.selectedQuestionIndex)}}const Zd=function(i,o,t,n,s){return{attemped:i,marked:o,"not-answered":t,markedAndAnswered:n,"not-visited border":s}};function Id(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",61),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.questionChange(a.id))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&i){const t=o.$implicit,n=o.index;e.Q6J("ngClass",e.qbA(2,Zd,t.isAttempted,t.isMarked,t.isNotAnswered,t.isMarkedAndAnswered,t.isNotVisited)),e.xp6(2),e.Oqu(n+1)}}const kd=[{path:"assignment",component:fi},{path:"assignment/submitted/:name/:id",component:ca},{path:"assignment/add",component:me},{path:"assignment-v2/add",component:gt},{path:"assignment-v2/:type/:id",component:gt},{path:"assignment/:type/:id",component:me},{path:"assignment/:type/:id/:studentId/:name",component:me},{path:"association",component:yn},{path:"subject",component:Ln},{path:"syllabus",component:Ko},{path:"notes",component:zs},{path:"chapter",component:wo},{path:"student-attendance",component:tr},{path:"exam",component:Zr},{path:"exam-result",component:bd},{path:"exam/add",component:xt},{path:"exam/edit/:id",component:xt},{path:"exam/check/:name/:id/:classId/:date",component:zr},{path:"test",component:(()=>{class i{constructor(){this.timer=ye(1e3).pipe((0,ie.U)(t=>10800-t),(0,vd.o)(t=>t>=0),(0,ie.U)(t=>this.formatTime(t))),this.test={},this.acticeSectionIndex=0,this.selectedQuestionIndex=0,this.isFullScreen=!1}ngOnInit(){this.test={id:1,title:"Math Quiz - Algebra Basics",associationId:101,description:"A basic algebra quiz to test fundamental concepts.",subjectId:5,chapterId:12,sections:[{name:"Linear Equations",id:201,questions:[{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:2012,type:"MCQ",question:"Which of the following is a linear equation?",file:"",options:[{id:405,text:"y = 2x + 5",correct:!0},{id:406,text:"y = x^2 + 3x + 2",correct:!1},{id:407,text:"x^3 - 2x + 1 = 0",correct:!1},{id:408,text:"y = sqrt(x) + 4",correct:!1}],deletedOptionIds:[],positiveMark:2,negativeMark:-1,order:2}]},{name:"Static Equations",id:301,questions:[{id:3011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:3012,type:"MCQ",question:"Which of the following is a linear equation?",file:"",options:[{id:405,text:"y = 2x + 5",correct:!0},{id:406,text:"y = x^2 + 3x + 2",correct:!1},{id:407,text:"x^3 - 2x + 1 = 0",correct:!1},{id:408,text:"y = sqrt(x) + 4",correct:!1}],deletedOptionIds:[],positiveMark:2,negativeMark:-1,order:2}]},{name:"Both Equations",id:401,questions:[{id:4011,type:"MCQ",question:"What is the solution to the equation 2x + 3 = 7?",file:"",options:[{id:401,text:"x = 2",correct:!0},{id:402,text:"x = 3",correct:!1},{id:403,text:"x = 4",correct:!1},{id:404,text:"x = 1",correct:!1}],deletedOptionIds:[403],positiveMark:2,negativeMark:-1,order:1},{id:4012,type:"MCQ",question:"Which of the following is a linear equation?",file:"",options:[{id:405,text:"y = 2x + 5",correct:!0},{id:406,text:"y = x^2 + 3x + 2",correct:!1},{id:407,text:"x^3 - 2x + 1 = 0",correct:!1},{id:408,text:"y = sqrt(x) + 4",correct:!1}],deletedOptionIds:[],positiveMark:2,negativeMark:-1,order:2}]}],totalPositiveMark:4,totalNegativeMark:-2,startDate:"2025-03-01",endDate:"2025-03-05",time:"30 minutes"},this.test.sections.forEach(t=>{t.questions.forEach(n=>{n.isNotVisited=!0})}),this.initializeTimers(),this.startTimerForCurrentQuestion()}markedAndReviewNext(){this.test&&this.test.sections&&this.test.sections[this.acticeSectionIndex].questions&&"MCQ"==this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].type&&(-1!=this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].options?.findIndex(n=>1==n.correct)?this.changeResponseType("markedAndAnswered"):this.changeResponseType("marked")),this.selectedQuestionIndex==this.test.sections[this.acticeSectionIndex].questions.length-1?(this.selectedQuestionIndex=0,this.acticeSectionIndex=this.acticeSectionIndex+1):this.selectedQuestionIndex=this.selectedQuestionIndex+1,this.startTimerForCurrentQuestion()}clearResponse(){this.test&&this.test.sections&&this.test.sections[this.acticeSectionIndex].questions&&"MCQ"==this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].type&&this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].options?.forEach(t=>t.correct=!1)}saveAndNext(){}questionChange(t){this.test&&this.test.sections&&this.test.sections[this.acticeSectionIndex].questions&&"MCQ"==this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].type&&(-1!=this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].options?.findIndex(a=>1==a.correct)?this.changeResponseType("attemped"):this.changeResponseType("notAnswered"));let n=this.test.sections[this.acticeSectionIndex].questions.findIndex(s=>s.id==t);-1!=n&&(this.selectedQuestionIndex=n),this.startTimerForCurrentQuestion()}changeResponseType(t){this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isAttempted=!1,this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isMarked=!1,this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isNotVisited=!1,this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isNotAnswered=!1,this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isMarkedAndAnswered=!1,"attemped"==t?this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isAttempted=!0:"marked"==t?this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isMarked=!0:"notVisited"==t?this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isNotAnswered=!0:"markedAndAnswered"==t?this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isMarkedAndAnswered=!0:"notAnswered"==t&&(this.test.sections[this.acticeSectionIndex].questions[this.selectedQuestionIndex].isNotAnswered=!0)}sectionChange(t){let n=this.test.sections.findIndex(s=>s.id==t);-1!=n&&(this.acticeSectionIndex=n,this.startTimerForCurrentQuestion())}formatTime(t){const n=Math.floor(t/3600),s=Math.floor(t%3600/60),a=t%60;return`${this.pad(n)}:${this.pad(s)}:${this.pad(a)}`}pad(t){return t<10?"0"+t:t.toString()}initializeTimers(){this.test.sections?.forEach(t=>{t.questions?.forEach(n=>{n.timer||(n.timer="00:00")})})}startTimerForCurrentQuestion(){this.clearInterval();let t=this.getActiveQuestion();if(t){let n=this.convertTimeToSeconds(t.timer||"00:00");this.interval=setInterval(()=>{n++,t.timer=this.formatQuestionTime(n)},1e3)}}getActiveQuestion(){return this.test.sections?.[this.acticeSectionIndex]?.questions?.[this.selectedQuestionIndex]}clearInterval(){this.interval&&clearInterval(this.interval)}convertTimeToSeconds(t){const[n,s]=t.split(":").map(Number);return 60*n+s}formatQuestionTime(t){const n=Math.floor(t/60),s=t%60;return`${this.padQuestionTime(n)}:${this.padQuestionTime(s)}`}padQuestionTime(t){return t<10?`0${t}`:`${t}`}toggleFullScreen(){this.isFullScreen=!this.isFullScreen;const t=this.testContainer.nativeElement;document.fullscreenElement?document.exitFullscreen():t.requestFullscreen().catch(n=>console.error("Error attempting to enable full-screen mode:",n))}ngOnDestroy(){this.clearInterval()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-test"]],viewQuery:function(n,s){if(1&n&&e.Gf(Cd,5),2&n){let a;e.iGM(a=e.CRH())&&(s.testContainer=a.first)}},decls:81,vars:12,consts:[[1,"card"],["testContainer",""],[1,"d-flex","justify-content-between","align-items-center","p-3"],[1,"timer"],[1,"fa-solid","fa-expand","pointer",2,"font-size","20px","color","gray",3,"click"],[1,"d-flex"],[1,"col-9","p-0"],[1,"question-header"],[1,"d-flex","align-items-center"],[1,"sections"],["class","section",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-select-sm","ms-1"],[4,"ngFor","ngForOf"],[1,"question-bottom"],[1,"d-flex","justify-content-between","align-items-center"],[1,"time-and-mark-box","pointer","btn","me-2",3,"click"],[1,"time-and-mark-box","btn","pointer",3,"click"],[1,"btn","btn-primary"],[1,"col-3"],[1,"review-details","py-2"],[1,"d-flex","justify-content-center","align-items-center",2,"font-size","17px"],["src","../../../../../assets/images/Default icon.png","alt","default-icon","width","35px","hei","",2,"border-radius","50%"],[1,"ms-2"],[1,"w-100","mt-3","d-flex"],[1,"d-flex","col-6","ps-2"],[1,"attemped"],[1,"d-flex","col-6"],[1,"marked"],[1,"d-flex","w-100","mt-3"],[1,"not-visited"],[1,"not-answered"],[1,"d-flex","mt-3"],[1,"d-flex","col-12","ps-2","w-100"],[1,"markedAndAnswered"],[1,"fa-solid","fa-check","check"],[1,"number-section"],[2,"font-weight","500"],[2,"background-color","rgb(233, 233, 255)"],[2,"overflow","auto",3,"ngStyle"],[1,"question-numbers-box","p-2"],["class","question-number","style","width: 45px;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"px-2","pb-2"],[1,"btn","instruction-btn","w-100"],[1,"btn","btn-primary","w-100"],[1,"section",3,"ngClass"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],[1,"question-number-details"],[1,"time-and-mark-box"],[1,"time-and-mark-box","mx-3"],[1,"text-success","mx-2"],[1,"text-danger"],[1,"question",2,"overflow","auto",3,"ngStyle"],[2,"font-size","18px","color","gray"],[2,"font-weight","500","color","#282828","font-size","18px"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["class","options",4,"ngFor","ngForOf"],[1,"options"],[1,"ms-2","w-100","d-flex","align-items-center",3,"for"],["type","radio","name","radiocheck",3,"id","value","ngModel","ngModelChange"],[1,"question-number",2,"width","45px",3,"ngClass","click"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div"),e._uU(4),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"div")(9,"i",4),e.NdJ("click",function(){return s.toggleFullScreen()}),e.qZA()()(),e.TgZ(10,"div")(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div"),e._uU(16,"Sections | \xa0"),e.qZA(),e.TgZ(17,"div",9),e.YNc(18,Td,3,4,"span",10),e.qZA()(),e.TgZ(19,"div"),e._uU(20," View In "),e.TgZ(21,"select",11)(22,"option"),e._uU(23,"English"),e.qZA(),e.TgZ(24,"option"),e._uU(25,"Hindi"),e.qZA()()()(),e.YNc(26,yd,2,1,"div",12),e.TgZ(27,"div",13)(28,"div",14)(29,"div",5)(30,"span",15),e.NdJ("click",function(){return s.markedAndReviewNext()}),e._uU(31,"Mark for Review & Next"),e.qZA(),e.TgZ(32,"span",16),e.NdJ("click",function(){return s.clearResponse()}),e._uU(33,"Clear Response"),e.qZA()(),e.TgZ(34,"div")(35,"button",17),e._uU(36,"Save & Next"),e.qZA()()()()(),e.TgZ(37,"div",18)(38,"div",19)(39,"div",20),e._UZ(40,"img",21),e.TgZ(41,"span",22),e._uU(42,"Kush Raghav"),e.qZA()(),e.TgZ(43,"div",23)(44,"div",24)(45,"div",25),e._uU(46,"0"),e.qZA(),e._uU(47," Attemped "),e.qZA(),e.TgZ(48,"div",26)(49,"div",27),e._uU(50,"0"),e.qZA(),e._uU(51," Marked "),e.qZA()(),e.TgZ(52,"div",28)(53,"div",24)(54,"div",29),e._uU(55,"19"),e.qZA(),e._uU(56," Not Visited "),e.qZA(),e.TgZ(57,"div",26)(58,"div",30),e._uU(59,"1"),e.qZA(),e._uU(60," Not Answered "),e.qZA()(),e.TgZ(61,"div",31)(62,"div",32)(63,"div",33),e._uU(64," 0 "),e._UZ(65,"i",34),e.qZA(),e._uU(66," Marked & Answered "),e.qZA()()(),e.TgZ(67,"div",35)(68,"span",36),e._uU(69,"Section: "),e.qZA(),e.TgZ(70,"span"),e._uU(71),e.qZA()(),e.TgZ(72,"div",37)(73,"div",38)(74,"div",39),e.YNc(75,Id,3,8,"div",40),e.qZA()(),e.TgZ(76,"div",41)(77,"button",42),e._uU(78,"Instructions"),e.qZA(),e.TgZ(79,"button",43),e._uU(80,"SUBMIT TEST"),e.qZA()()()()()()()),2&n&&(e.xp6(4),e.Oqu(s.test.title),e.xp6(2),e.Oqu(e.lcZ(7,7,s.timer)),e.xp6(12),e.Q6J("ngForOf",s.test.sections),e.xp6(8),e.Q6J("ngForOf",s.test.sections[s.acticeSectionIndex].questions),e.xp6(45),e.Oqu(s.test.sections[s.acticeSectionIndex].name),e.xp6(2),e.Q6J("ngStyle",e.WLB(9,bt,s.isFullScreen?"55vh":"31vh",s.isFullScreen?"55vh":"31vh")),e.xp6(2),e.Q6J("ngForOf",s.test.sections[s.acticeSectionIndex].questions))},dependencies:[p.mk,p.sg,p.O5,p.PC,c.YN,c.Kr,c.Fj,c._,c.JJ,c.On,p.Ov],styles:[".timer[_ngcontent-%COMP%]{width:140px;height:38px;border:1px solid rgb(211,210,210);border-radius:7px;display:flex;justify-content:center;align-items:center;color:#5a5959;background-color:#ebebeb}.question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;height:40px;padding:10px;background-color:#c0c0fc;border-top:2px solid rgb(166,165,165);border-bottom:2px solid rgb(166,165,165)}.sml[_ngcontent-%COMP%]{height:30px;font-size:12px;padding:5px 3px;min-width:90px}.question-number-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:20px;font-weight:600;padding:5px 8px;color:#282828;border-bottom:1px solid rgb(166,165,165)}.time-and-mark-box[_ngcontent-%COMP%]{font-size:13px;background-color:#e4e3e3;border:1px solid rgb(197,197,197);border-radius:7px;height:30px;display:flex;align-items:center;padding:5px 10px;justify-content:center;color:#7e7e7e}.question[_ngcontent-%COMP%]{padding:10px}.options[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:17px;padding:10px 2px;border-bottom:1px solid rgb(229,227,227)}.options[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.question-bottom[_ngcontent-%COMP%]{border-top:1px solid rgb(229,227,227);padding:7px 10px}.review-details[_ngcontent-%COMP%]{background-color:#1b3e99;color:#fff}.number-section[_ngcontent-%COMP%]{background-color:#d3d3d3;height:35px;padding:7px 10px}.question-numbers-box[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:13px}.question-number[_ngcontent-%COMP%]{width:45px;height:32px;display:flex;justify-content:center;align-items:center;cursor:pointer}.instruction-btn[_ngcontent-%COMP%]{background-color:#cbd8f8;color:#487bfd;padding:5px 10px;border-radius:5px;margin:10px 0}.sections[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:45vw;overflow:auto}.section[_ngcontent-%COMP%]{color:#000;width:100%;white-space:nowrap;padding:0 27px}.selected-section[_ngcontent-%COMP%]{background-color:#1b3e99;color:#fff;border-radius:7px;padding:4px 6px}.attemped[_ngcontent-%COMP%]{background-color:#58bb77;width:32px;display:flex;align-items:center;justify-content:center;margin:0 7px;color:#fff}.marked[_ngcontent-%COMP%]{background-color:#e3c856;width:32px;display:flex;align-items:center;justify-content:center;margin:0 7px;color:#000}.not-visited[_ngcontent-%COMP%]{background-color:#fff;width:32px;display:flex;align-items:center;justify-content:center;margin:0 7px;color:#000}.not-answered[_ngcontent-%COMP%]{background-color:#dd5650;width:32px;display:flex;align-items:center;justify-content:center;margin:0 7px;color:#fff}.markedAndAnswered[_ngcontent-%COMP%]{background-color:#e3c856;width:32px;display:flex;align-items:center;justify-content:center;margin:0 7px;color:#000;position:relative}.check[_ngcontent-%COMP%]{position:absolute;right:-7px;top:-6px;font-size:19px;font-weight:600;color:#3da06d}"]})}return i})()}];let Sd=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[q.Bz.forChild(kd),q.Bz]})}return i})();var Ed=h(811),Nd=h(7155);let Hd=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[A.BQ,p.ez,A.si,A.BQ]}),i})();var we=h(9549);let Gd=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})(),Vd=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[A.BQ,we.lN,we.lN,Gd,A.BQ]}),i})(),Bd=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[p.ez,Sd,Q.ot,Ed.vV,N.Ps,c.u5,y.QW,Nd.p0,L.TU,x.Is,Ht,Di,fe.LD,m.xD,Hd,Te.rK,we.lN,Vd,Da,_t.AV]})}return i})()}}]);