"use strict";(self.webpackChunklms_new=self.webpackChunklms_new||[]).push([[415],{4819:(re,Y,g)=>{g.d(Y,{H:()=>l});var h=g(5412),_=g(4650),U=g(6895);function q(b,N){if(1&b&&(_.TgZ(0,"div")(1,"div",6)(2,"div",7)(3,"div",8),_._uU(4,"Check-In:"),_.qZA(),_.TgZ(5,"div",9),_._uU(6),_.ALo(7,"date"),_.qZA()(),_.TgZ(8,"div",10)(9,"div",8),_._uU(10,"Check-Out:"),_.qZA(),_.TgZ(11,"div",11),_._uU(12),_.ALo(13,"date"),_.qZA()()()()),2&b){const Z=_.oxw();_.xp6(6),_.Oqu(_.xi3(7,2,Z.logStatuses[0].dateTime,"HH:mm a")),_.xp6(6),_.hij("",1==Z.logStatuses.length?"--":_.xi3(13,5,Z.logStatuses[1].dateTime,"HH:mm a")," ")}}function E(b,N){if(1&b&&(_.TgZ(0,"div")(1,"div",9),_._uU(2),_.ALo(3,"date"),_.qZA()()),2&b){const Z=N.$implicit;_.xp6(2),_.Oqu(_.xi3(3,1,Z.dateTime,"HH:mm a"))}}function e(b,N){if(1&b&&(_.TgZ(0,"div")(1,"div",11)(2,"span"),_._uU(3),_.ALo(4,"date"),_.qZA()()()),2&b){const Z=N.$implicit,f=N.index,r=_.oxw(2);_.xp6(3),_.Oqu(r.checkIn.length!=r.checkOut.length&&r.checkOut[r.checkOut.length]==f?"--":_.xi3(4,1,Z.dateTime,"HH:mm a"))}}function x(b,N){if(1&b&&(_.TgZ(0,"div",6)(1,"div",12)(2,"div"),_._uU(3," Check-In"),_.qZA(),_.TgZ(4,"div"),_._uU(5,"Check-Out"),_.qZA()(),_.TgZ(6,"div",13)(7,"div"),_.YNc(8,E,4,4,"div",14),_.qZA(),_.TgZ(9,"div"),_.YNc(10,e,5,4,"div",14),_.qZA()()()),2&b){const Z=_.oxw();_.xp6(8),_.Q6J("ngForOf",Z.checkIn),_.xp6(2),_.Q6J("ngForOf",Z.checkOut)}}const C=function(b,N){return{"top.px":b,"left.px":N}};let l=(()=>{class b{constructor(Z,f){this.dialogRef=Z,this.details=f,this.logStatuses=[],this.top=0,this.left=0,this.checkIn=[],this.checkOut=[]}ngOnInit(){this.details.selectedDayData.logStatuses&&(this.logStatuses=this.details.selectedDayData.logStatuses,this.logStatuses.length>2&&this.logStatuses.forEach(Z=>{"CHECK_IN"==Z.status?this.checkIn.push(Z):this.checkOut.push(Z)}))}static#e=this.\u0275fac=function(f){return new(f||b)(_.Y36(h.so),_.Y36(h.WI))};static#t=this.\u0275cmp=_.Xpm({type:b,selectors:[["app-attendence-details"]],decls:7,vars:7,consts:[[1,"card","mb-0",3,"ngStyle"],[1,"d-flex","justify-content-center","p-2"],[1,"m-0"],[1,"py-2","px-2"],[4,"ngIf"],["style","font-weight: 500;font-size: 13px;",4,"ngIf"],[2,"font-weight","500","font-size","13px"],[1,"d-flex","justify-content-between"],[1,"text-secondary"],[1,"text-success"],[1,"d-flex","justify-content-between","mt-3"],[1,"text-danger"],[1,"d-flex","justify-content-between","text-secondary"],[1,"d-flex","justify-content-between","mt-1"],[4,"ngFor","ngForOf"]],template:function(f,r){1&f&&(_.TgZ(0,"div",0)(1,"div",1),_._uU(2),_.qZA(),_._UZ(3,"hr",2),_.TgZ(4,"div",3),_.YNc(5,q,14,8,"div",4),_.YNc(6,x,11,2,"div",5),_.qZA()()),2&f&&(_.Q6J("ngStyle",_.WLB(4,C,r.top,r.left)),_.xp6(2),_.hij(" ",r.details.selectedDayData.date," "),_.xp6(3),_.Q6J("ngIf",r.logStatuses.length<=2),_.xp6(1),_.Q6J("ngIf",r.logStatuses.length>2))},dependencies:[U.sg,U.O5,U.PC,U.uU]})}return b})()},2862:(re,Y,g)=>{g.d(Y,{Q:()=>ae});var h=g(5412),_=g(7846),U=g(5119),q=g(1664),E=g(5866),e=g(3499),x=g(2641),C=g(4819),l=g(4650),b=g(7185),N=g(2030),Z=g(867),f=g(4537),r=g(6895),S=g(3458);function H(p,M){1&p&&(l.TgZ(0,"span"),l._uU(1,"Absent"),l.qZA())}function Q(p,M){if(1&p&&(l.TgZ(0,"div",26),l._uU(1),l.qZA()),2&p){const m=l.oxw(2).$implicit,u=l.oxw(5);l.xp6(1),l.hij(" ",u.formatTime(m.workingHours)," ")}}function R(p,M){if(1&p&&(l.TgZ(0,"div")(1,"span"),l._uU(2,"Present"),l.qZA(),l.YNc(3,Q,2,1,"div",25),l.qZA()),2&p){const m=l.oxw(6);l.xp6(3),l.Q6J("ngIf","STUDENT"!=m.role&&"STUDENT"!=(null==m.details?null:m.details.type))}}function j(p,M){if(1&p&&(l.TgZ(0,"div",26),l._uU(1),l.qZA()),2&p){const m=l.oxw(2).$implicit,u=l.oxw(5);l.xp6(1),l.hij(" ",u.formatTime(m.workingHours)," ")}}function K(p,M){if(1&p&&(l.TgZ(0,"div")(1,"span"),l._uU(2,"Half Day"),l.qZA(),l.YNc(3,j,2,1,"div",25),l.qZA()),2&p){const m=l.oxw(6);l.xp6(3),l.Q6J("ngIf","STUDENT"!=m.role&&"STUDENT"!=(null==m.details?null:m.details.type))}}function P(p,M){1&p&&(l.TgZ(0,"div")(1,"span"),l._uU(2,"Leave"),l.qZA()())}function W(p,M){if(1&p&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&p){const m=l.oxw().$implicit;l.xp6(1),l.Oqu(m.holidayName?m.holidayName:"Holiday")}}const V=function(p,M,m,u,T){return{"present-box":p,"absent-box":M,"holiday-box":m,"half-day":u,"leave-box":T}};function L(p,M){if(1&p&&(l.TgZ(0,"div")(1,"div",24),l.YNc(2,H,2,0,"span",1),l.YNc(3,R,4,1,"div",1),l.YNc(4,K,4,1,"div",1),l.YNc(5,P,3,0,"div",1),l.YNc(6,W,2,1,"span",1),l.qZA()()),2&p){const m=M.$implicit;l.xp6(1),l.Q6J("ngClass",l.qbA(6,V,"PRESENT"==m.status,"ABSENT"==m.status,"HOLIDAY"==m.status,"HALFDAY"==m.status,"LEAVE"==m.status)),l.xp6(1),l.Q6J("ngIf","ABSENT"==m.status),l.xp6(1),l.Q6J("ngIf","PRESENT"==m.status),l.xp6(1),l.Q6J("ngIf","HALFDAY"==m.status),l.xp6(1),l.Q6J("ngIf","LEAVE"==m.status),l.xp6(1),l.Q6J("ngIf","HOLIDAY"==m.status)}}function z(p,M){if(1&p&&(l.TgZ(0,"div"),l.YNc(1,L,7,12,"div",23),l.qZA()),2&p){const m=l.oxw(2).day;l.xp6(1),l.Q6J("ngForOf",m.events)}}function X(p,M){1&p&&l._UZ(0,"div")}const ee=function(p){return{"weekend-day":p}},te=function(p){return{"today-date":p}};function ne(p,M){if(1&p){const m=l.EpF();l.TgZ(0,"div",19),l.NdJ("click",function(T){l.CHM(m);const D=l.oxw().day,O=l.oxw(2);return l.KtG(O.onDayClick(D,T))}),l.TgZ(1,"div",20),l._uU(2),l.ALo(3,"date"),l.qZA(),l.YNc(4,z,2,1,"div",21),l.YNc(5,X,1,0,"ng-template",null,22,l.W1O),l.qZA()}if(2&p){const m=l.MAs(6),u=l.oxw().day,T=l.oxw(2);l.Q6J("ngClass",l.VKq(8,ee,T.isWeekend(u.date))),l.xp6(1),l.Q6J("ngClass",l.VKq(10,te,T.isToday(u.date))),l.xp6(1),l.Oqu(l.xi3(3,5,u.date,"d")),l.xp6(2),l.Q6J("ngIf",u.events.length>0)("ngIfElse",m)}}function ie(p,M){if(1&p&&l.YNc(0,ne,7,12,"div",18),2&p){const m=M.day,u=l.oxw(2);l.Q6J("ngIf",u.isSameMonth(m.date,u.viewDate))}}const v=function(p){return{"p-3":p}};function I(p,M){if(1&p){const m=l.EpF();l.ynx(0),l.TgZ(1,"div",2)(2,"div",3)(3,"i",4),l.NdJ("click",function(){l.CHM(m);const T=l.oxw();return l.KtG(T.previousMonth())}),l.qZA(),l._UZ(4,"i",5),l.TgZ(5,"i",6),l.NdJ("click",function(){l.CHM(m);const T=l.oxw();return l.KtG(T.nextMonth())}),l.qZA()(),l.TgZ(6,"span",7),l._uU(7),l.qZA()(),l.TgZ(8,"div",8)(9,"div",9)(10,"mwl-calendar-month-view",10),l.YNc(11,ie,1,1,"ng-template",null,11,l.W1O),l.qZA(),l.TgZ(13,"div",12)(14,"button",13),l._uU(15," P : "),l.TgZ(16,"span",14),l._uU(17),l.qZA()(),l.TgZ(18,"button",15),l._uU(19," A : "),l.TgZ(20,"span",14),l._uU(21),l.qZA()(),l.TgZ(22,"button",16),l._uU(23," L : "),l.TgZ(24,"span",14),l._uU(25),l.qZA()(),l.TgZ(26,"button",17),l._uU(27," H : "),l.TgZ(28,"span",14),l._uU(29),l.qZA()()()()(),l.BQk()}if(2&p){const m=l.MAs(12),u=l.oxw();l.xp6(1),l.Q6J("ngClass",l.VKq(9,v,1==u.isOpenAsDialog)),l.xp6(6),l.Oqu(u.monthName),l.xp6(3),l.Q6J("viewDate",u.viewDate)("events",u.events)("cellTemplate",m),l.xp6(7),l.Oqu(u.totalPresent),l.xp6(4),l.Oqu(u.totalAbsent),l.xp6(4),l.Oqu(u.totalPresent),l.xp6(4),l.Oqu(u.totalHoliday)}}let ae=(()=>{class p{constructor(m,u,T,D,O,F,k){this.toastr=m,this.userService=u,this.dialogRef=T,this.details=D,this.authenticationService=O,this.dialog=F,this.instituteService=k,this.viewDate=new Date,this.events=[],this.startDate="",this.endDate="",this.monthName="",this.userId=0,this.role="",this.isOpenAsDialog=!1,this.infoCard={top:0,left:0,right:0,bottom:0},this.weekends=[],this.totalPresent=0,this.totalAbsent=0,this.totalLeave=0,this.totalHoliday=0,T&&(this.isOpenAsDialog=!0)}ngOnInit(){const m=this.instituteService.getWorkingDays().subscribe(u=>{200==u.code?u.data.forEach(T=>{"SUNDAY"==T.dayOfWeek&&0==T.workingDay?this.weekends.push(0):"MONDAY"==T.dayOfWeek&&0==T.workingDay?this.weekends.push(1):"TUESDAY"==T.dayOfWeek&&0==T.workingDay?this.weekends.push(2):"WEDNESDAY"==T.dayOfWeek&&0==T.workingDay?this.weekends.push(3):"THURSDAY"==T.dayOfWeek&&0==T.workingDay?this.weekends.push(4):"FRIDAY"==T.dayOfWeek&&0==T.workingDay?this.weekends.push(5):"SATURDAY"==T.dayOfWeek&&0==T.workingDay&&this.weekends.push(6)}):this.toastr.error(u.message),m.unsubscribe()});this.userId=parseInt(this.authenticationService.userId),this.role=this.authenticationService.role,this.loadData()}loadData(){if(this.updateMonthName(),this.startDate=(0,_.Z)((0,U.Z)(this.viewDate),"yyyy-MM-dd"),this.endDate=(0,_.Z)((0,q.Z)(this.viewDate),"yyyy-MM-dd"),"STUDENT"==this.details?.type||"STUDENT"==this.role){const m=this.userService.getStudentAttendenceById(this.details?.id?this.details.id:this.userId,this.startDate,this.endDate).subscribe(u=>{200==u.code?(this.attendanceData=u.data,this.populateEvents()):this.toastr.error(u.message),m.unsubscribe()})}else{const m=this.userService.getTeacherAttendenceById(this.details?.id?this.details.id:this.userId,this.startDate,this.endDate).subscribe(u=>{200==u.code?(this.attendanceData=u.data,this.populateEvents()):this.toastr.error(u.message),m.unsubscribe()})}}populateEvents(){this.totalPresent=0,this.totalAbsent=0,this.totalHoliday=0,this.totalLeave=0,this.events=this.attendanceData.map(m=>({start:new Date(m.date),status:m.status,holidayName:m.holidayName,workingHours:m.workingHours,logStatuses:m.logStatuses,color:{primary:"Present"===m.status?"#28a745":"#dc3545",secondary:"#f0f0f0"}})),this.totalPresent=this.attendanceData.filter(m=>"PRESENT"==m.status).length,this.totalAbsent=this.attendanceData.filter(m=>"ABSENT"==m.status).length,this.totalHoliday=this.attendanceData.filter(m=>"HOLIDAY"==m.status).length,this.totalLeave=this.attendanceData.filter(m=>"LEAVE"==m.status).length}handleEvent(m){this.toastr.success(`You clicked on: ${m.title}`,"Event Clicked")}isWeekend(m){const u=m.getDay();return this.weekends.includes(u)}previousMonth(){this.viewDate=(0,E.Z)(this.viewDate,-1),this.loadData()}nextMonth(){this.viewDate=(0,E.Z)(this.viewDate,1),this.loadData()}isSameMonth(m,u){return(0,e.Z)(m,u)}isToday(m){const u=new Date;return m.getDate()===u.getDate()&&m.getMonth()===u.getMonth()&&m.getFullYear()===u.getFullYear()}updateMonthName(){this.monthName=(0,_.Z)(this.viewDate,"MMM yyyy")}onDayClick(m,u){if("STUDENT"==this.role&&"STUDENT"==this.details.type)return;const T=this.attendanceData.filter(D=>(0,x.Z)(new Date(D.date),m.date));if(T.length>0){if(this.selectedDayData={date:(0,_.Z)(m.date,"dd-MM-yyyy"),records:T[0],logStatuses:T[0].logStatuses},"Weekend"==this.selectedDayData.records.status||"Holiday"==this.selectedDayData.records.status||null==this.selectedDayData.logStatuses||0==this.selectedDayData.logStatuses.length)return;this.dialog.open(C.H,{width:"13%",autoFocus:!1,data:{selectedDayData:this.selectedDayData,top:u.top,left:u.left}})}}formatTime(m){const u=String(m);let[T,D]=u.split(".");return D=D||"00",T=T.padStart(2,"0"),D=D.padEnd(2,"0").slice(0,2),`${T}:${D} Hrs`}static#e=this.\u0275fac=function(u){return new(u||p)(l.Y36(b._W),l.Y36(N.K),l.Y36(h.so,8),l.Y36(h.WI,8),l.Y36(Z.$),l.Y36(h.uw),l.Y36(f.$))};static#t=this.\u0275cmp=l.Xpm({type:p,selectors:[["app-attendence-view"]],decls:2,vars:1,consts:[[2,"max-height","98vh","overflow","auto"],[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",3,"ngClass"],[1,"mini-calender"],["title","Previous",1,"fa-solid","fa-chevron-left","mx-1","pointer",3,"click"],[1,"fa-solid","fa-calendar-days","mx-1"],["title","Next",1,"fa-solid","fa-chevron-right","mx-1","pointer",3,"click"],[1,"ms-2",2,"font-size","16px","color","black","font-weight","500"],[1,"card","mt-2","mb-0"],[1,"p-3"],[3,"viewDate","events","cellTemplate"],["cellTemplate",""],[1,"my-2","px-3"],[1,"btn","btn-present"],[1,"text-secondary"],[1,"btn","btn-absent","mx-3"],[1,"btn","btn-leave"],[1,"btn","btn-holiday","ms-3"],["class","calendar-day",3,"ngClass","click",4,"ngIf"],[1,"calendar-day",3,"ngClass","click"],[1,"date-box","p-1","ps-2",3,"ngClass"],[4,"ngIf","ngIfElse"],["noEvent",""],[4,"ngFor","ngForOf"],[1,"day-box",3,"ngClass"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"]],template:function(u,T){1&u&&(l.TgZ(0,"div",0),l.YNc(1,I,30,11,"ng-container",1),l.qZA()),2&u&&(l.xp6(1),l.Q6J("ngIf",T.viewDate))},dependencies:[r.mk,r.sg,r.O5,S.GH,r.uU],styles:[".event-title[_ngcontent-%COMP%]{color:#333;font-size:12px;margin-top:2px}.weekend-day[_ngcontent-%COMP%]{background-color:#fff6f6;height:100%}.day-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10px;padding:5px;max-height:60px;border-radius:5px}.present-box[_ngcontent-%COMP%]{background-color:#d7f3e2;border-color:1px solid #0EBC6B;box-shadow:-3px 0 0 -1px #0ebc6b}.half-day[_ngcontent-%COMP%]{background:linear-gradient(to right,#8fe5b3 50%,transparent 50%);box-shadow:-3px 0 0 -1px #0ebc6b}.absent-box[_ngcontent-%COMP%]{background-color:#ffd9da;box-shadow:-3px 0 0 -1px #ec5259}.holiday-box[_ngcontent-%COMP%]{background-color:#dfdffd;box-shadow:-3px 0 0 -1px #8f8fff}.leave-box[_ngcontent-%COMP%]{background-color:#f7ddac;box-shadow:-3px 0 0 -1px #f2ab28}.mini-calender[_ngcontent-%COMP%]{display:flex;background-color:#fff;align-items:center;padding:8px 5px;font-size:18px;border-radius:7px}.today-date[_ngcontent-%COMP%]{background-color:#7b7bff;border-radius:5px;padding:3px;width:35px;margin:4px 3px -4px 5px;font-weight:700;color:#fff}.cal-day-cell--today[_ngcontent-%COMP%]{background-color:#00f!important}.info-card[_ngcontent-%COMP%]{position:absolute;color:#ec5259;padding:20px}.btn-present[_ngcontent-%COMP%]{color:#8cf68c;min-width:80px;font-weight:600;background-color:transparent;border:1px solid #8cf68c}.btn-absent[_ngcontent-%COMP%]{color:#f63e3e;min-width:80px;font-weight:600;background-color:transparent;border:1px solid #f63e3e}.btn-leave[_ngcontent-%COMP%]{color:#ffc864;min-width:80px;font-weight:600;background-color:transparent;border:1px solid #ffc864}.btn-holiday[_ngcontent-%COMP%]{color:#a1a1f9;min-width:80px;font-weight:600;background-color:transparent;border:1px solid #a1a1f9}"]})}return p})()},7415:(re,Y,g)=>{g.r(Y),g.d(Y,{InstituteModule:()=>io});var h=g(6895),_=g(9127),U=g(8083),q=g(8692),E=g(7518),e=g(4650),x=g(4537),C=g(7185),l=g(529),b=g(867),N=g(1938),Z=g(8240),f=g(5412),r=g(4006),S=g(4385),H=g(3238),Q=g(3965);const R=["detailsForm"];function j(i,s){1&i&&(e.TgZ(0,"p",41),e._uU(1," Name is required "),e.qZA())}function K(i,s){if(1&i&&e._UZ(0,"img",46),2&i){const t=e.oxw(2);e.Q6J("src",t.data.logoUrl,e.LSH)}}function P(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addLogo("logo"))}),e._uU(1,"Add Logo"),e.qZA()}}function W(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",42)(1,"div")(2,"input",43),e.NdJ("change",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.onLogoChange(n))}),e.qZA(),e.YNc(3,K,1,1,"img",44),e.YNc(4,P,2,0,"button",45),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.hasLogo),e.xp6(1),e.Q6J("ngIf",!t.hasLogo)}}function V(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addLogo("logo"))}),e._uU(2," Edit Logo "),e.qZA()()}}function L(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",54)(1,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeLogo())}),e._uU(2," Remove Logo "),e.qZA()()}}function z(i,s){if(1&i&&(e.TgZ(0,"div",48)(1,"div",49),e.YNc(2,V,3,0,"div",50),e.YNc(3,L,3,0,"div",51),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.hasLogo),e.xp6(1),e.Q6J("ngIf",t.hasLogo)}}function X(i,s){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function ee(i,s){if(1&i&&(e.TgZ(0,"mat-option",59),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.dayOfWeek),e.xp6(1),e.Oqu(t.dayOfWeek)}}function te(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"label",8),e._uU(3,"Working Days"),e.qZA(),e.TgZ(4,"mat-select",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.workingDays=n)}),e.TgZ(5,"div",57),e.YNc(6,ee,2,2,"mat-option",58),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.workingDays),e.xp6(2),e.Q6J("ngForOf",t.days)}}const ne=function(i){return{"is-invalid":i}};let ie=(()=>{class i{constructor(t,a,n,o,d,c,y,w){this.instituteService=t,this.toastr=a,this.router=n,this.httpClient=o,this.authenservice=d,this.generalService=c,this.appStateService=y,this.dialog=w,this.data={},this.dateRanges=[],this.isdetailsFormForm=!0,this.states=[],this.user={},this.hasLogo=!1,this.isInstituteSave=!0,this.days=[{dayOfWeek:"MONDAY",workingDay:!1},{dayOfWeek:"TUESDAY",workingDay:!1},{dayOfWeek:"WEDNESDAY",workingDay:!1},{dayOfWeek:"THURSDAY",workingDay:!1},{dayOfWeek:"FRIDAY",workingDay:!1},{dayOfWeek:"SATURDAY",workingDay:!1},{dayOfWeek:"SUNDAY",workingDay:!1}],this.workingDays=[]}ngOnInit(){const t=(new Date).getFullYear();this.dateRanges=this.generateDateRanges(2014,t),this.data.session=t+"-"+(t+1);const a=this.generalService.getStates().subscribe(d=>{this.states=d.data,a.unsubscribe()});this.getUserDetails(!1);const n=this.instituteService.getWorkingDays().subscribe(d=>{200==d.code?(this.days=d.data,this.days.length>0&&this.days.forEach(c=>{1==c.workingDay&&this.workingDays.push(c.dayOfWeek)})):this.toastr.error(d.message),n.unsubscribe()});"null"!=this.authenservice.startTime&&this.loadData()}loadData(){const t=this.instituteService.getInstituteDetails().subscribe(a=>{200==a.code?(this.data=a.data,this.data.logoUrl&&(this.hasLogo=!0)):this.toastr.error(a.message),t.unsubscribe()})}getUserDetails(t){const a=this.generalService.getCurrentUserDetails().subscribe(n=>{this.user=n.data,null==this.user.instituteId&&(this.isInstituteSave=!1),t&&this.appStateService.sendEvent(U.S.SetUser,this.user),a.unsubscribe()})}addLogo(t){document.getElementById(t)?.click()}onLogoChange(t){let a=t.target.files[0],n=new FormData;n.append("logo",a),this.instituteService.processing(!0),this.httpClient.post(`${E.N.lmsEndPoint}institute/institute-logo?isDeleted=false`,n).subscribe(o=>{200==o.code&&(this.data.logoUrl=o.data,this.hasLogo=!0,this.toastr.success("Logo updated successfully. Please refresh to sync"))}),this.instituteService.processing(!1)}generateDateRanges(t,a){const n=[];for(let o=t;o<a+1;o++)n.push(`${o}-${o+1}`);return n}removeLogo(){this.dialog.open(q.z,{width:"50%",autoFocus:!1,data:{message:"Are you sure you want to remove logo ?",title:"Remove logo"}}).componentInstance.confirmed.subscribe(a=>{a&&this.httpClient.post(`${E.N.lmsEndPoint}institute/institute-logo?isDeleted=true`,null).subscribe(n=>{200==n.code&&(this.hasLogo=!1,this.toastr.success("Logo updated successfully. Please refresh to sync"))})})}onSubmit(){if(this.isdetailsFormForm&&this.detailsForm.control.markAllAsTouched(),!this.detailsForm.form.valid)return;let t=!1;if(null==this.user.instituteId&&(t=!0),this.data.id){const a=this.instituteService.updateInstituteDetails(this.data).subscribe(n=>{if(200==n.code){if(this.toastr.success(n.message),this.appStateService.sendEvent(U.S.SetUser,n.data),console.log(this.workingDays),this.days.length>0){this.days.forEach(d=>{d.workingDay=!!this.workingDays.includes(d.dayOfWeek)});const o=this.instituteService.saveWorkingDays(this.days).subscribe(d=>{200==d.code||this.toastr.error(d.message),o.unsubscribe()})}t&&(this.authenservice.token=n.data.token,window.location.reload())}else this.toastr.error(n.message);a.unsubscribe()})}else{const a=this.instituteService.saveInstituteDetails(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),t&&(this.authenservice.token=n.data.token,window.location.reload())):this.toastr.error(n.message),a.unsubscribe()})}}formatTime(t){if(!t)return;const[a,n]=t.split(" ");let[o,d]=a.split(":");o=o.padStart(2,"0"),this.data.startTiming=`${o}:${d} ${n}`}formatEndTime(t){if(!t)return;const[a,n]=t.split(" ");let[o,d]=a.split(":");o=o.padStart(2,"0"),this.data.endTiming=`${o}:${d} ${n}`}padZero(t){return t<10?`0${t}`:`${t}`}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(x.$),e.Y36(C._W),e.Y36(_.F0),e.Y36(l.eN),e.Y36(b.$),e.Y36(N.m),e.Y36(Z.Z),e.Y36(f.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-details"]],viewQuery:function(a,n){if(1&a&&e.Gf(R,5),2&a){let o;e.iGM(o=e.CRH())&&(n.detailsForm=o.first)}},decls:88,vars:24,consts:[[1,"card"],[1,"title","p-3"],[1,"m-0"],[1,"px-3"],["detailsForm","ngForm"],[1,"row"],[1,"col-3"],[1,"form-field","mt-4"],[1,"label"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","validation-error ",4,"ngIf"],["type","text","name","number",1,"form-control",3,"ngModel","ngModelChange"],["phone","ngModel"],["type","text","name","email",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","col-3 d-flex  flex-column mt-4",4,"ngIf"],["class","col-3 mt-4 ps-4 d-flex flex-column",4,"ngIf"],["type","text","name","code",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],["type","text","name","Wwbsite",1,"form-control",3,"ngModel","ngModelChange"],["website","ngModel"],["type","text","name","affiliation",1,"form-control",3,"ngModel","ngModelChange"],["affiliation","ngModel"],["type","text","name","status",1,"form-control",3,"ngModel","ngModelChange"],["status","ngModel"],["rows","3","type","text","name","description",1,"form-control",2,"height","100%",3,"ngModel","ngModelChange"],["description","ngModel"],["name","session",1,"form-select",3,"ngModel","ngModelChange"],["session","ngModel"],[4,"ngFor","ngForOf"],["name","startTiming","readonly","",1,"form-control",3,"ngxTimepicker","ngModel","ngModelChange"],["startTiming","ngModel"],["picker",""],["name","endTiming","readonly","",1,"form-control",3,"ngxTimepicker","ngModel","min","disabled","ngModelChange"],["endTiming","ngModel"],["endPicker",""],["class","col-3",4,"ngIf"],[1,"mb-0"],[1,"d-flex","justify-content-end","p-3"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"validation-error"],[1,"col-3","d-flex","flex-column","mt-4"],["type","file","hidden","","id","logo","name","logo","accept","imaage/*",3,"change"],["alt","logo","style","max-height: 180px;    max-width: 300px;",3,"src",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["alt","logo",2,"max-height","180px","max-width","300px",3,"src"],[1,"btn","btn-primary",3,"click"],[1,"col-3","mt-4","ps-4","d-flex","flex-column"],[1,"row","p-0","m-0"],["class","col-12",4,"ngIf"],["class","col-12 mt-4",4,"ngIf"],[1,"col-12"],["type","button",1,"btn","btn-outline-primary","logo-action",3,"click"],[1,"col-12","mt-4"],["type","button",1,"btn","btn-outline-danger","logo-action",3,"click"],["name","item","multiple","",1,"form-select",3,"ngModel","ngModelChange"],[1,"drop-down"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Institute Details"),e.qZA()(),e._UZ(4,"hr",2),e.TgZ(5,"div",3)(6,"form",null,4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),e._uU(12,"Name*"),e.qZA(),e.TgZ(13,"input",9,10),e.NdJ("ngModelChange",function(d){return n.data.name=d}),e.qZA(),e.YNc(15,j,2,0,"p",11),e.qZA(),e.TgZ(16,"div",7)(17,"label",8),e._uU(18,"Contact Number"),e.qZA(),e.TgZ(19,"input",12,13),e.NdJ("ngModelChange",function(d){return n.data.phone=d}),e.qZA()(),e.TgZ(21,"div",7)(22,"label",8),e._uU(23,"Email"),e.qZA(),e.TgZ(24,"input",14,15),e.NdJ("ngModelChange",function(d){return n.data.email=d}),e.qZA()()(),e.YNc(26,W,5,2,"div",16),e.YNc(27,z,4,2,"div",17),e.qZA(),e.TgZ(28,"div",5)(29,"div",6)(30,"div",7)(31,"label",8),e._uU(32,"Code"),e.qZA(),e.TgZ(33,"input",18,19),e.NdJ("ngModelChange",function(d){return n.data.code=d}),e.qZA()()(),e.TgZ(35,"div",6)(36,"div",7)(37,"label",8),e._uU(38,"Website"),e.qZA(),e.TgZ(39,"input",20,21),e.NdJ("ngModelChange",function(d){return n.data.website=d}),e.qZA()()(),e.TgZ(41,"div",6)(42,"div",7)(43,"label",8),e._uU(44,"Affiliation"),e.qZA(),e.TgZ(45,"input",22,23),e.NdJ("ngModelChange",function(d){return n.data.affiliation=d}),e.qZA()()(),e.TgZ(47,"div",6)(48,"div",7)(49,"label",8),e._uU(50,"Accrediation Status"),e.qZA(),e.TgZ(51,"input",24,25),e.NdJ("ngModelChange",function(d){return n.data.accreditationStatus=d}),e.qZA()()()(),e.TgZ(53,"div",5)(54,"div",6)(55,"div",7)(56,"label",8),e._uU(57,"Description"),e.qZA(),e.TgZ(58,"textarea",26,27),e.NdJ("ngModelChange",function(d){return n.data.description=d}),e.qZA()()(),e.TgZ(60,"div",6)(61,"div",7)(62,"label",8),e._uU(63,"Session"),e.qZA(),e.TgZ(64,"select",28,29),e.NdJ("ngModelChange",function(d){return n.data.session=d}),e.YNc(66,X,2,1,"option",30),e.qZA()()(),e.TgZ(67,"div",6)(68,"div",7)(69,"label",8),e._uU(70,"Start Time"),e.qZA(),e.TgZ(71,"input",31,32),e.NdJ("ngModelChange",function(d){return n.data.startTiming=d})("ngModelChange",function(){return n.formatTime(n.data.startTiming)}),e.qZA(),e._UZ(73,"ngx-material-timepicker",null,33),e.qZA()(),e.TgZ(75,"div",6)(76,"div",7)(77,"label",8),e._uU(78,"End Time"),e.qZA(),e.TgZ(79,"input",34,35),e.NdJ("ngModelChange",function(d){return n.data.endTiming=d})("ngModelChange",function(){return n.formatEndTime(n.data.endTiming)}),e.qZA(),e._UZ(81,"ngx-material-timepicker",null,36),e.qZA()(),e.YNc(83,te,7,2,"div",37),e.qZA()()(),e._UZ(84,"hr",38),e.TgZ(85,"div",39)(86,"button",40),e.NdJ("click",function(){return n.onSubmit()}),e._uU(87),e.qZA()()()),2&a){const o=e.MAs(14),d=e.MAs(74),c=e.MAs(82);e.xp6(13),e.Q6J("ngModel",n.data.name)("ngClass",e.VKq(22,ne,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(4),e.Q6J("ngModel",n.data.phone),e.xp6(5),e.Q6J("ngModel",n.data.email),e.xp6(2),e.Q6J("ngIf",n.isInstituteSave),e.xp6(1),e.Q6J("ngIf",n.isInstituteSave),e.xp6(6),e.Q6J("ngModel",n.data.code),e.xp6(6),e.Q6J("ngModel",n.data.website),e.xp6(6),e.Q6J("ngModel",n.data.affiliation),e.xp6(6),e.Q6J("ngModel",n.data.accreditationStatus),e.xp6(7),e.Q6J("ngModel",n.data.description),e.xp6(6),e.Q6J("ngModel",n.data.session),e.xp6(2),e.Q6J("ngForOf",n.dateRanges),e.xp6(5),e.Q6J("ngxTimepicker",d)("ngModel",n.data.startTiming),e.xp6(8),e.Q6J("ngxTimepicker",c)("ngModel",n.data.endTiming)("min",n.data.startTiming)("disabled",null==n.data.startTiming||null==n.data.startTiming),e.xp6(4),e.Q6J("ngIf",n.data.id),e.xp6(4),e.Oqu(n.data.id?"Update":"Save")}},dependencies:[h.mk,h.sg,h.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.Q7,r.On,r.F,S.gD,H.ey,Q.ro,Q.I2],styles:[".logo-action[_ngcontent-%COMP%]{min-width:125px}input[_ngcontent-%COMP%]:disabled{background-color:#fff}.drop-down[_ngcontent-%COMP%]{background-color:#fff}"]})}return i})();var v=g(7155),I=g(8739);let ae=(()=>{class i{constructor(t,a){this.dialogRef=t,this.data=a,this.name="",this.confirmed=new e.vpe,this.name=a.name}close(){this.dialogRef.close()}onsubmit(t){this.confirmed.emit(t)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.so),e.Y36(f.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-branch-mapping-modal"]],outputs:{confirmed:"confirmed"},decls:14,vars:1,consts:[[1,"card","mb-0"],[1,"title","d-flex","justify-content-between","p-3"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[1,"p-3"],[1,"d-flex","justify-content-end","p-3"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span"),e._uU(3,"Mapping"),e.qZA(),e.TgZ(4,"i",2),e.NdJ("click",function(){return n.close()}),e.qZA()(),e._UZ(5,"hr",3),e.TgZ(6,"div",4),e._uU(7),e.qZA(),e._UZ(8,"hr",3),e.TgZ(9,"div",5)(10,"button",6),e.NdJ("click",function(){return n.onsubmit(!1)}),e._uU(11,"No"),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return n.onsubmit(!0)}),e._uU(13,"Yes"),e.qZA()()()),2&a&&(e.xp6(7),e.hij(" Would you like to link everything with ",n.name," ? "))}})}return i})();var p=g(7392);const M=["branchForm"];function m(i,s){1&i&&(e.TgZ(0,"p",36),e._uU(1," Name is required "),e.qZA())}function u(i,s){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function T(i,s){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}const D=function(i){return{"is-invalid":i}};let O=(()=>{class i{constructor(t,a,n,o,d,c){this.dialogRef=t,this.details=a,this.instituteService=n,this.toastr=o,this.generalService=d,this.dialog=c,this.status="Add",this.data={},this.isbranchFormVisible=!0,this.states=[],this.dateRanges=[],this.confirmed=new e.vpe}ngOnInit(){const t=(new Date).getFullYear();this.dateRanges=this.generateDateRanges(2014,t),this.data.session=t+"-"+(t+1),null!=this.details.id&&(this.status="Edit",this.instituteService.getBranchById(this.details.id).subscribe(o=>{200==o.code?this.data=o.data:this.toastr.error(o.message)}));const a=this.generalService.getStates().subscribe(n=>{this.states=n.data,a.unsubscribe()})}generateDateRanges(t,a){const n=[];for(let o=t;o<a+1;o++)n.push(`${o}-${o+1}`);return n}close(){this.dialogRef.close()}onSubmit(){if(this.isbranchFormVisible&&this.branchForm.control.markAllAsTouched(),!this.branchForm.form.valid)return;const t=this.instituteService.checkDefaultMapping().subscribe(a=>{200==a.code&&(this.data.updateDefaultBranch=a.data.defaultBranchExists,a.data.defaultBranchMappingExists?this.openBranchMappingModal():this.saveAndUpdatedata()),t.unsubscribe()})}saveAndUpdatedata(){if(this.details.id){const t=this.instituteService.updateBranch(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0)):this.toastr.error(a.message),t.unsubscribe()})}else{const t=this.instituteService.saveBranch(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0)):this.toastr.error(a.message),t.unsubscribe()})}}openBranchMappingModal(){let t=this.dialog.open(ae,{width:"30%",autoFocus:"false",data:{name:this.data.name}});t.componentInstance.confirmed.subscribe(a=>{this.data.updateDefaultBranch=a,this.saveAndUpdatedata(),t.close()})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.so),e.Y36(f.WI),e.Y36(x.$),e.Y36(C._W),e.Y36(N.m),e.Y36(f.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-branch"]],viewQuery:function(a,n){if(1&a&&e.Gf(M,5),2&a){let o;e.iGM(o=e.CRH())&&(n.branchForm=o.first)}},outputs:{confirmed:"confirmed"},decls:74,vars:17,consts:[[1,"card","mb-0",2,"max-height","90vh","overflow","auto"],[1,"d-flex","justify-content-between","p-3"],[1,"title"],[1,"pointer",3,"click"],[1,"m-0"],[3,"ngSubmit"],["branchForm","ngForm"],[1,"px-3"],[1,"row"],[1,"col-6"],[1,"form-field","mt-4"],[1,"label"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","validation-error ",4,"ngIf"],["type","text","name","code",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],["type","number","name","phone",1,"form-control",3,"ngModel","ngModelChange"],["phone","ngModel"],["type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],["type","text","name","pincode",1,"form-control",3,"ngModel","ngModelChange"],["pincode","ngModel"],["name","state",1,"form-select",3,"ngModel","ngModelChange"],["state","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","website",1,"form-control",3,"ngModel","ngModelChange"],["website","ngModel"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["name","session",1,"form-select",3,"ngModel","ngModelChange"],["session","ngModel"],[4,"ngFor","ngForOf"],[1,"mb-0"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"validation-error"],[3,"value"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"mat-icon",3),e.NdJ("click",function(){return n.close()}),e._uU(5,"close"),e.qZA()(),e._UZ(6,"hr",4),e.TgZ(7,"form",5,6),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),e._uU(14,"Name*"),e.qZA(),e.TgZ(15,"input",12,13),e.NdJ("ngModelChange",function(d){return n.data.name=d}),e.qZA(),e.YNc(17,m,2,0,"p",14),e.qZA()(),e.TgZ(18,"div",9)(19,"div",10)(20,"label",11),e._uU(21,"Code"),e.qZA(),e.TgZ(22,"input",15,16),e.NdJ("ngModelChange",function(d){return n.data.code=d}),e.qZA()()(),e.TgZ(24,"div",9)(25,"div",10)(26,"label",11),e._uU(27,"Phone Number"),e.qZA(),e.TgZ(28,"input",17,18),e.NdJ("ngModelChange",function(d){return n.data.phone=d}),e.qZA()()(),e.TgZ(30,"div",9)(31,"div",10)(32,"label",11),e._uU(33,"Address"),e.qZA(),e.TgZ(34,"input",19,20),e.NdJ("ngModelChange",function(d){return n.data.address=d}),e.qZA()()(),e.TgZ(36,"div",9)(37,"div",10)(38,"label",11),e._uU(39,"Pincode"),e.qZA(),e.TgZ(40,"input",21,22),e.NdJ("ngModelChange",function(d){return n.data.pincode=d}),e.qZA()()(),e.TgZ(42,"div",9)(43,"div",10)(44,"label",11),e._uU(45,"State"),e.qZA(),e.TgZ(46,"select",23,24),e.NdJ("ngModelChange",function(d){return n.data.stateId=d}),e.YNc(48,u,2,2,"option",25),e.qZA()()(),e.TgZ(49,"div",9)(50,"div",10)(51,"label",11),e._uU(52,"Website"),e.qZA(),e.TgZ(53,"input",26,27),e.NdJ("ngModelChange",function(d){return n.data.website=d}),e.qZA()()(),e.TgZ(55,"div",9)(56,"div",10)(57,"label",11),e._uU(58,"Description"),e.qZA(),e.TgZ(59,"input",28,27),e.NdJ("ngModelChange",function(d){return n.data.description=d}),e.qZA()()(),e.TgZ(61,"div",9)(62,"div",10)(63,"label",11),e._uU(64,"Session"),e.qZA(),e.TgZ(65,"select",29,30),e.NdJ("ngModelChange",function(d){return n.data.session=d}),e.YNc(67,T,2,1,"option",31),e.qZA()()()()(),e._UZ(68,"hr",32),e.TgZ(69,"div",33)(70,"button",34),e.NdJ("click",function(){return n.close()}),e._uU(71,"Cancel"),e.qZA(),e.TgZ(72,"button",35),e._uU(73),e.qZA()()()()),2&a){const o=e.MAs(16);e.xp6(3),e.hij("",n.status," Branch"),e.xp6(12),e.Q6J("ngModel",n.data.name)("ngClass",e.VKq(15,D,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(5),e.Q6J("ngModel",n.data.code),e.xp6(6),e.Q6J("ngModel",n.data.phone),e.xp6(6),e.Q6J("ngModel",n.data.address),e.xp6(6),e.Q6J("ngModel",n.data.pincode),e.xp6(6),e.Q6J("ngModel",n.data.stateId),e.xp6(2),e.Q6J("ngForOf",n.states),e.xp6(5),e.Q6J("ngModel",n.data.website),e.xp6(6),e.Q6J("ngModel",n.data.description),e.xp6(6),e.Q6J("ngModel",n.data.session),e.xp6(2),e.Q6J("ngForOf",n.dateRanges),e.xp6(6),e.Oqu(n.details.id?"Update":"Save")}},dependencies:[h.mk,h.sg,h.O5,p.Hw,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.Q7,r.On,r.F]})}return i})();var F=g(4859),k=g(811),J=g(3546);function fe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-card",19)(2,"div",20),e._UZ(3,"img",21),e.TgZ(4,"a")(5,"button",22),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.openEditBranch(o.id))}),e.TgZ(6,"mat-icon",23),e._uU(7,"edit_square"),e.qZA()(),e.TgZ(8,"button",24),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.deleteBranch(o.id))}),e.TgZ(9,"mat-icon",25),e._uU(10,"delete"),e.qZA()()()(),e.TgZ(11,"div",26)(12,"div",27)(13,"div",28)(14,"span",29),e._uU(15,"Name"),e.qZA()(),e.TgZ(16,"div",30)(17,"div",31),e._uU(18),e.qZA()()(),e.TgZ(19,"div",32)(20,"div",28)(21,"span",29),e._uU(22,"Code"),e.qZA()(),e.TgZ(23,"div",30)(24,"div",31),e._uU(25),e.qZA()()()()()()}if(2&i){const t=s.$implicit;e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(14),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(6),e.Q6J("title",t.code),e.xp6(1),e.Oqu(t.code)}}function Te(i,s){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,fe,26,5,"div",17),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.branches)}}function ve(i,s){1&i&&(e.TgZ(0,"th",49),e._uU(1,"#"),e.qZA())}function be(i,s){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const t=s.index,a=e.oxw(2);e.xp6(1),e.Oqu(a.getSerialNumber(t))}}function xe(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," Name "),e.qZA())}function Ce(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ze(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," Code "),e.qZA())}function Ae(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function ye(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," Phone No. "),e.qZA())}function Me(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.phone," ")}}function we(i,s){1&i&&(e.TgZ(0,"th",53),e._uU(1,"Action"),e.qZA())}function qe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",52)(1,"div",54)(2,"div",55)(3,"button",22),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.openEditBranch(o.id))}),e.TgZ(4,"mat-icon",56),e._uU(5,"edit_square"),e.qZA()(),e.TgZ(6,"button",24),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.deleteBranch(o.id))}),e.TgZ(7,"mat-icon",57),e._uU(8,"delete"),e.qZA()()()()()}}function De(i,s){1&i&&e._UZ(0,"tr",58)}function Ne(i,s){1&i&&e._UZ(0,"tr",59)}const Je=function(){return[5,10,20]};function ke(i,s){if(1&i&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"table",35),e.ynx(4,36),e.YNc(5,ve,2,0,"th",37),e.YNc(6,be,2,1,"td",38),e.BQk(),e.ynx(7,39),e.YNc(8,xe,2,0,"th",40),e.YNc(9,Ce,2,1,"td",41),e.BQk(),e.ynx(10,42),e.YNc(11,Ze,2,0,"th",40),e.YNc(12,Ae,2,1,"td",41),e.BQk(),e.ynx(13,43),e.YNc(14,ye,2,0,"th",40),e.YNc(15,Me,2,1,"td",41),e.BQk(),e.ynx(16,44),e.YNc(17,we,2,0,"th",45),e.YNc(18,qe,9,0,"td",41),e.BQk(),e.YNc(19,De,1,0,"tr",46),e.YNc(20,Ne,1,0,"tr",47),e.qZA(),e._UZ(21,"mat-paginator",48),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Je))}}let Fe=(()=>{class i{constructor(t,a,n){this.dialog=t,this.instituteService=a,this.toastr=n,this.toggleValue="table",this.searchDepartmentText="",this.branches=[],this.teachers=[],this.displayedColumns=["sno","name","code","phone","action"],this.dataSource=new v.by(this.branches)}ngOnInit(){this.loadTableData()}loadTableData(){const t=this.instituteService.getBranches().subscribe(a=>{200==a.code?(this.branches=a.data,this.dataSource.data=this.branches):this.toastr.error(a.message),t.unsubscribe()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getSerialNumber(t){return this.paginator?this.paginator.pageIndex*this.paginator.pageSize+t+1:t+1}openAddBranch(){let t=this.dialog.open(O,{width:"50%",autoFocus:!1,data:{}});t.componentInstance.confirmed.subscribe(a=>{this.loadTableData(),t.close()})}openEditBranch(t){let a=this.dialog.open(O,{width:"50%",autoFocus:!1,data:{id:t}});a.componentInstance.confirmed.subscribe(n=>{n&&(this.loadTableData(),a.close())})}deleteBranch(t){this.dialog.open(q.z,{width:"50%",autoFocus:!1,data:{title:"Delete Branch",message:"Are you sure you want to delete the selected branch?"}}).componentInstance.confirmed.subscribe(n=>{n&&this.instituteService.deleteBranch(t).subscribe(d=>{200==d.code?(this.loadTableData(),this.toastr.success(d.message)):this.toastr.error(d.message)})})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.uw),e.Y36(x.$),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-branch"]],viewQuery:function(a,n){if(1&a&&e.Gf(I.NW,5),2&a){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first)}},decls:27,vars:4,consts:[[1,"card","mb-0"],[1,"d-flex","justify-content-between","p-3"],[1,"title"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-between","px-3","py-1"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","card"],["color","primary"],["value","table"],[1,"input-group","flex-nowrap",2,"max-width","300px"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Branch","type","text","name","searchDepartment",1,"form-control",2,"width","230px",3,"ngModel","ngModelChange"],["searchDepartment","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-2",4,"ngIf"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],[1,"px-4"],[1,"mat-elevation-z8","shadow-sm"],["mat-table","",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","","class","py-3",4,"matHeaderCellDef"],["mat-cell","","class","py-3",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","phone"],["matColumnDef","action"],["mat-header-cell","","class","text-end pe-4",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","",1,"py-3"],["mat-cell","",1,"py-3"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"text-end","pe-4"],[1,"actions"],[1,"d-flex","align-items-center","justify-content-end"],[2,"color","#8472FC","font-size","20px"],[2,"color","#fa5757","font-size","20px"],["mat-header-row",""],["mat-row",""]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div")(4,"p",2),e._uU(5,"Branch"),e.qZA()(),e.TgZ(6,"div")(7,"button",3),e.NdJ("click",function(){return n.openAddBranch()}),e._uU(8,"Add"),e.qZA()()(),e.TgZ(9,"div",4)(10,"div")(11,"mat-button-toggle-group",5),e.NdJ("ngModelChange",function(d){return n.toggleValue=d}),e.TgZ(12,"mat-button-toggle",6)(13,"mat-icon",7),e._uU(14,"dashboard"),e.qZA()(),e.TgZ(15,"mat-button-toggle",8)(16,"mat-icon",7),e._uU(17,"table_rows_narrow"),e.qZA()()()(),e.TgZ(18,"div")(19,"div",9)(20,"span",10)(21,"i",11),e._uU(22,"search"),e.qZA()(),e.TgZ(23,"input",12,13),e.NdJ("ngModelChange",function(d){return n.searchDepartmentText=d}),e.qZA()()()()(),e.YNc(25,Te,2,1,"div",14),e.YNc(26,ke,22,5,"div",15),e.qZA()),2&a&&(e.xp6(11),e.Q6J("ngModel",n.toggleValue),e.xp6(12),e.Q6J("ngModel",n.searchDepartmentText),e.xp6(2),e.Q6J("ngIf","card"==n.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==n.toggleValue))},dependencies:[h.sg,h.O5,F.RK,k.A9,k.Yi,p.Hw,r.Fj,r.JJ,r.On,J.a8,J.G2,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.ge,v.ev,v.XQ,v.Gk,I.NW]})}return i})();const Ue=["courseDeptForm"];function Ie(i,s){1&i&&(e.TgZ(0,"p",23),e._uU(1," Name is required "),e.qZA())}function Ee(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"label",10),e._uU(2,"HOD"),e.qZA(),e.TgZ(3,"select",24,25),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.model.hodId=n)}),e.TgZ(5,"option",26),e._uU(6," 1 "),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.model.hodId)}}function Qe(i,s){1&i&&(e.TgZ(0,"p",23),e._uU(1," Duration is required "),e.qZA())}const ce=function(i){return{"is-invalid":i}};function Ye(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"label",10),e._uU(2,"Duration"),e.qZA(),e.TgZ(3,"input",27,28),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.model.duration=n)}),e.qZA(),e.YNc(5,Qe,2,0,"p",29),e.BQk()}if(2&i){const t=e.MAs(4),a=e.oxw();e.xp6(3),e.Q6J("ngModel",a.model.duration)("ngClass",e.VKq(3,ce,t.touched&&t.errors&&t.errors.required)),e.xp6(2),e.Q6J("ngIf",t.touched&&t.errors&&t.errors.required)}}function Se(i,s){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name,"")}}function Oe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"label",10),e._uU(3,"Branch"),e.qZA(),e.TgZ(4,"select",32,33),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedBranchId=n)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onBranchSelected())}),e.YNc(6,Se,2,2,"option",34),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.selectedBranchId),e.xp6(2),e.Q6J("ngForOf",t.branches)}}function He(i,s){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Be(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"label",10),e._uU(3),e.qZA(),e.TgZ(4,"mat-select",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedItemIds=n)}),e.TgZ(5,"div",37),e.YNc(6,He,2,2,"mat-option",34),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.dropDownPlaceholder),e.xp6(1),e.Q6J("ngModel",t.selectedItemIds),e.xp6(2),e.Q6J("ngForOf",t.courseDeptDropDown)}}let $=(()=>{class i{constructor(t,a,n,o){this.dialogRef=t,this.details=a,this.toastr=n,this.instituteService=o,this.isDepartment=!1,this.status="Add",this.model={},this.branches=[],this.dropDownPlaceholder="",this.allMapping=[],this.defaultMapping=[],this.courseDeptDropDown=[],this.selectedItemIds=[],this.confirmed=new e.vpe}ngOnInit(){this.isDepartment="DEPARTMENT"==this.details.type,this.dropDownPlaceholder=this.isDepartment?"Courses":"Departments",this.callGetAllBranch(),this.callGetAllMapping(),this.callDefaultMapping()}callGetById(){this.details.id&&(this.status="Edit",this.isDepartment?this.callGetDepartmentById():this.callGetCourseById())}callGetDepartmentById(){const t=this.instituteService.getDepartmentById(this.details.id).subscribe(a=>{200==a.code?(this.model=a.data,this.model.instituteBranchCourseDepartmentMapping&&this.model.instituteBranchCourseDepartmentMapping.length>0&&(this.selectedBranchId=this.model.instituteBranchCourseDepartmentMapping[0].instituteBranchId,this.onBranchSelected(this.model.instituteBranchCourseDepartmentMapping))):this.toastr.error(a.message),t.unsubscribe()})}callGetCourseById(){const t=this.instituteService.getCourseById(this.details.id).subscribe(a=>{200==a.code?(this.model=a.data,this.model.instituteBranchCourseDepartmentMapping&&this.model.instituteBranchCourseDepartmentMapping.length>0&&(this.selectedBranchId=this.model.instituteBranchCourseDepartmentMapping[0].instituteBranchId,this.onBranchSelected(this.model.instituteBranchCourseDepartmentMapping))):this.toastr.error(a.message),t.unsubscribe()})}callGetAllBranch(){const t=this.instituteService.getBranches().subscribe(a=>{a&&200===a.code&&(this.branches=a.data),t.unsubscribe()})}callDefaultMapping(){const t=this.instituteService.getLinkedInstituteBranchCourseDepartment(!0).subscribe(a=>{a&&(200===a.code?(this.defaultMapping=a.data,0==this.branches.length&&this.defaultMapping.forEach(n=>{this.isDepartment?null!=n.courseId&&this.courseDeptDropDown.push({id:n.courseId,name:n.courseName}):null!=n.departmentId&&this.courseDeptDropDown.push({id:n.departmentId,name:n.departmentName})})):this.toastr.error(a.message)),t.unsubscribe()})}callGetAllMapping(){const t=this.instituteService.getLinkedInstituteBranchCourseDepartment(!1).subscribe(a=>{a&&(200===a.code?this.allMapping=a.data:this.toastr.error(a.message)),this.callGetById(),t.unsubscribe()})}onBranchSelected(t){this.courseDeptDropDown=[],this.selectedItemIds=[],this.allMapping.forEach(a=>{a.instituteBranchId==this.selectedBranchId&&(this.isDepartment?this.courseDeptDropDown.findIndex(o=>o.id==a.courseId)<0&&a.courseId&&this.courseDeptDropDown.push({id:a.courseId,name:a.courseName}):this.courseDeptDropDown.findIndex(o=>o.id==a.departmentId)<0&&a.departmentId&&this.courseDeptDropDown.push({id:a.departmentId,name:a.departmentName}))}),this.defaultMapping.forEach(a=>{a.instituteBranchId===this.selectedBranchId&&(this.isDepartment?this.courseDeptDropDown.findIndex(o=>o.id==a.courseId)<0&&a.courseId&&this.courseDeptDropDown.push({id:a.courseId,name:a.courseName}):this.courseDeptDropDown.findIndex(o=>o.id==a.departmentId)<0&&a.departmentId&&this.courseDeptDropDown.push({id:a.departmentId,name:a.departmentName}))}),t&&t.length>0&&t.forEach(a=>{this.isDepartment?a.courseId&&this.selectedItemIds.push(a.courseId):a.departmentId&&this.selectedItemIds.push(a.departmentId)})}close(){this.dialogRef.close()}onSubmit(){if(this.courseDeptForm.control.markAllAsTouched(),this.courseDeptForm.valid)if(this.isDepartment?(0==(this.model?.instituteBranchCourseDepartmentMapping?.length??0)&&(this.model.instituteBranchCourseDepartmentMapping=[]),this.model.instituteBranchCourseDepartmentMapping.filter(a=>a.courseId&&!this.selectedItemIds.includes(a.courseId)).forEach(a=>{let n=this.model.instituteBranchCourseDepartmentMapping.indexOf(a);this.model.instituteBranchCourseDepartmentMapping.splice(n,1)}),this.selectedItemIds.forEach(a=>{this.model.instituteBranchCourseDepartmentMapping.find(o=>o.courseId&&o.courseId==a)||this.model.instituteBranchCourseDepartmentMapping.push({instituteBranchId:this.selectedBranchId,courseId:a})})):(0==(this.model?.instituteBranchCourseDepartmentMapping?.length??0)&&(this.model.instituteBranchCourseDepartmentMapping=[]),this.model.instituteBranchCourseDepartmentMapping.filter(a=>a.departmentId&&!this.selectedItemIds.includes(a.departmentId)).forEach(a=>{let n=this.model.instituteBranchCourseDepartmentMapping.indexOf(a);this.model.instituteBranchCourseDepartmentMapping.splice(n,1)}),this.selectedItemIds.forEach(a=>{this.model.instituteBranchCourseDepartmentMapping.find(o=>o.departmentId&&o.departmentId==a)||this.model.instituteBranchCourseDepartmentMapping.push({instituteBranchId:this.selectedBranchId,departmentId:a})})),0===this.selectedItemIds.length&&(this.model.instituteBranchCourseDepartmentMapping=[],this.selectedBranchId&&this.model.instituteBranchCourseDepartmentMapping.push({instituteBranchId:this.selectedBranchId})),this.isDepartment)if(this.details.id){const t=this.instituteService.updateDepartment(this.model).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}else{const t=this.instituteService.saveDepartment(this.model).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}else if(this.details.id){const t=this.instituteService.upadteCourse(this.model).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}else{const t=this.instituteService.saveCourse(this.model).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.so),e.Y36(f.WI),e.Y36(C._W),e.Y36(x.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-department-course-template-v2"]],viewQuery:function(a,n){if(1&a&&e.Gf(Ue,5),2&a){let o;e.iGM(o=e.CRH())&&(n.courseDeptForm=o.first)}},outputs:{confirmed:"confirmed"},decls:39,vars:13,consts:[[1,"card","mb-0"],[1,"title","d-flex","justify-content-between","p-3"],[1,"fa-solid","fa-x","pointer",3,"click"],[1,"m-0"],[3,"ngSubmit"],["courseDeptForm","ngForm"],[1,"p-3"],[1,"row"],[1,"col-6"],[1,"form-field","mt-2"],[1,"label"],["type","text","name","courseDeptName","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["courseDeptName","ngModel"],["class","validation-error",4,"ngIf"],[4,"ngIf"],[1,"form-field","mt-4"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],[1,"mt-4","row","d-flex","justify-content-start","align-items-center"],["class","col-5",4,"ngIf"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"validation-error"],["name","hod",1,"form-select","w-100",3,"ngModel","ngModelChange"],["hod","ngModel"],["value",""],["type","number","name","duration","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["duration","ngModel"],["class","validation-error ",4,"ngIf"],[1,"col-5"],[1,"form-field"],["name","branch",1,"form-select",3,"ngModel","ngModelChange","change"],["branch","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","item","multiple","",1,"form-select",3,"ngModel","ngModelChange"],[1,"drop-down"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div")(5,"i",2),e.NdJ("click",function(){return n.close()}),e.qZA()()(),e._UZ(6,"hr",3),e.TgZ(7,"form",4,5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10),e._uU(14,"Name"),e.qZA(),e.TgZ(15,"input",11,12),e.NdJ("ngModelChange",function(d){return n.model.name=d}),e.qZA(),e.YNc(17,Ie,2,0,"p",13),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9),e.YNc(20,Ee,7,1,"ng-container",14),e.YNc(21,Ye,6,5,"ng-container",14),e.qZA()(),e.TgZ(22,"div",8)(23,"div",15)(24,"label",10),e._uU(25,"Code"),e.qZA(),e.TgZ(26,"input",16,17),e.NdJ("ngModelChange",function(d){return n.model.code=d}),e.qZA()()(),e.TgZ(28,"div",8),e._UZ(29,"div"),e.qZA(),e.TgZ(30,"div",18),e.YNc(31,Oe,7,2,"div",19),e.YNc(32,Be,7,3,"div",19),e.qZA()()(),e._UZ(33,"hr",3),e.TgZ(34,"div",20)(35,"button",21),e.NdJ("click",function(){return n.close()}),e._uU(36,"Cancel"),e.qZA(),e.TgZ(37,"button",22),e._uU(38),e.qZA()()()()),2&a){const o=e.MAs(16);e.xp6(3),e.AsE("",n.status," ",n.isDepartment?"Department":"Course",""),e.xp6(12),e.Q6J("ngModel",n.model.name)("ngClass",e.VKq(11,ce,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(3),e.Q6J("ngIf",n.isDepartment),e.xp6(1),e.Q6J("ngIf",!n.isDepartment),e.xp6(5),e.Q6J("ngModel",n.model.code),e.xp6(5),e.Q6J("ngIf",n.branches.length>0),e.xp6(1),e.Q6J("ngIf",(n.selectedBranchId||0==n.branches.length)&&n.courseDeptDropDown.length>0),e.xp6(6),e.Oqu("Add"==n.status?"Add":"Update")}},dependencies:[h.mk,h.sg,h.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.Q7,r.On,r.F,S.gD,H.ey],styles:[".validation-error[_ngcontent-%COMP%]{position:absolute}.linked-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#fff;border:1px rgb(192,180,180);border-style:solid;border-radius:6px;padding:8px}.menu[_ngcontent-%COMP%]{position:absolute;bottom:45%;z-index:99}.drop-down[_ngcontent-%COMP%]{background-color:#fff;border:solid;border-width:1px;border-radius:6px}.drop-down-field[_ngcontent-%COMP%]{display:block;width:100%;padding:7px 15px 7px 10px;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);appearance:none;background-color:var(--bs-body-bg);background-clip:padding-box;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  .mat-mdc-select-arrow{opacity:0}  .mat-mdc-select{padding:12px 10px 10px 0}  .mat-mdc-select-trigger{cursor:default;padding-left:10px}"]})}return i})();function $e(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-card",19)(2,"div",20),e._UZ(3,"img",21),e.TgZ(4,"a")(5,"button",22),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.editDepartment(o.id))}),e.TgZ(6,"mat-icon",23),e._uU(7,"edit_square"),e.qZA()(),e.TgZ(8,"button",24),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.deleteDepartment(o.id))}),e.TgZ(9,"mat-icon",25),e._uU(10,"delete"),e.qZA()()()(),e.TgZ(11,"div",26)(12,"div",27)(13,"div",28)(14,"span",29),e._uU(15,"Department"),e.qZA()(),e.TgZ(16,"div",30)(17,"div",31),e._uU(18),e.qZA()()(),e.TgZ(19,"div",32)(20,"div",28)(21,"span",29),e._uU(22,"Code"),e.qZA()(),e.TgZ(23,"div",30)(24,"div",31),e._uU(25),e.qZA()()()()()()}if(2&i){const t=s.$implicit;e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(14),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(6),e.Q6J("title",t.code),e.xp6(1),e.Oqu(t.code)}}function Ge(i,s){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,$e,26,5,"div",17),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.departments)}}function Re(i,s){1&i&&(e.TgZ(0,"th",49),e._uU(1," # "),e.qZA())}function je(i,s){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const t=s.index,a=e.oxw(2);e.xp6(1),e.Oqu(a.getSerialNumber(t))}}function Ke(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," Name "),e.qZA())}function Pe(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function We(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," HOD "),e.qZA())}function Ve(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.hodId," ")}}function Le(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," Code "),e.qZA())}function ze(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function Xe(i,s){1&i&&(e.TgZ(0,"th",53),e._uU(1,"Action"),e.qZA())}function et(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",52)(1,"div",54)(2,"div",55)(3,"button",22),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.editDepartment(o.id))}),e.TgZ(4,"mat-icon",56),e._uU(5,"edit_square"),e.qZA()(),e.TgZ(6,"button",24),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.deleteDepartment(o.id))}),e.TgZ(7,"mat-icon",57),e._uU(8,"delete"),e.qZA()()()()()}}function tt(i,s){1&i&&e._UZ(0,"tr",58)}function nt(i,s){1&i&&e._UZ(0,"tr",59)}const it=function(){return[5,10,20]};function at(i,s){if(1&i&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"table",35),e.ynx(4,36),e.YNc(5,Re,2,0,"th",37),e.YNc(6,je,2,1,"td",38),e.BQk(),e.ynx(7,39),e.YNc(8,Ke,2,0,"th",40),e.YNc(9,Pe,2,1,"td",41),e.BQk(),e.ynx(10,42),e.YNc(11,We,2,0,"th",40),e.YNc(12,Ve,2,1,"td",41),e.BQk(),e.ynx(13,43),e.YNc(14,Le,2,0,"th",40),e.YNc(15,ze,2,1,"td",41),e.BQk(),e.ynx(16,44),e.YNc(17,Xe,2,0,"th",45),e.YNc(18,et,9,0,"td",41),e.BQk(),e.YNc(19,tt,1,0,"tr",46),e.YNc(20,nt,1,0,"tr",47),e.qZA(),e._UZ(21,"mat-paginator",48),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,it))}}let ot=(()=>{class i{constructor(t,a,n){this.dialog=t,this.instituteService=a,this.toastr=n,this.toggleValue="table",this.searchDepartmentText="",this.departments=[],this.teachers=[],this.displayedColumns=["sno","name","hod","code","action"],this.dataSource=new v.by(this.departments)}ngOnInit(){this.loadTableData()}loadTableData(){this.instituteService.getDepartments().subscribe(a=>{200==a.code?(this.departments=a.data,this.dataSource.data=this.departments):this.toastr.error(a.message)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getSerialNumber(t){return this.paginator?this.paginator.pageIndex*this.paginator.pageSize+t+1:t+1}openAddDepartment(){this.dialog.open($,{width:"50%",autoFocus:!1,data:{type:"DEPARTMENT"}}).componentInstance.confirmed.subscribe(a=>{a&&this.loadTableData()})}editDepartment(t){this.dialog.open($,{width:"50%",autoFocus:!1,data:{id:t,type:"DEPARTMENT"}}).afterClosed().subscribe(n=>{this.loadTableData()})}deleteDepartment(t){this.dialog.open(q.z,{width:"40%",autoFocus:!1,data:{title:"Delete Department",message:"Are you sure you want to delete the selected department?"}}).componentInstance.confirmed.subscribe(n=>{n&&this.instituteService.deleteDepartment(t).subscribe(d=>{200==d.code?(this.toastr.success(d.message),this.loadTableData()):this.toastr.error(d.message)})})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.uw),e.Y36(x.$),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-department"]],viewQuery:function(a,n){if(1&a&&e.Gf(I.NW,5),2&a){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first)}},decls:27,vars:4,consts:[[1,"card","mb-0"],[1,"d-flex","justify-content-between","p-3"],[1,"title"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-between","px-3","py-1"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","card"],["color","primary"],["value","table"],[1,"input-group","flex-nowrap",2,"max-width","300px"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Department","type","text","name","searchDepartment",1,"form-control",2,"width","230px",3,"ngModel","ngModelChange"],["searchDepartment","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","row mt-2",4,"ngIf"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],[1,"px-4"],[1,"mat-elevation-z8","shadow-sm"],["mat-table","",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","","class","py-3",4,"matHeaderCellDef"],["mat-cell","","class","py-3",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","hod"],["matColumnDef","code"],["matColumnDef","action"],["mat-header-cell","","class","text-end p-4",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","",1,"py-3"],["mat-cell","",1,"py-3"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"text-end","p-4"],[1,"actions"],[1,"d-flex","align-items-center","justify-content-end"],[2,"color","#8472FC","font-size","20px"],[2,"color","#fa5757","font-size","20px"],["mat-header-row",""],["mat-row",""]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div")(4,"p",2),e._uU(5,"Department"),e.qZA()(),e.TgZ(6,"div")(7,"button",3),e.NdJ("click",function(){return n.openAddDepartment()}),e._uU(8,"Add"),e.qZA()()(),e.TgZ(9,"div",4)(10,"div")(11,"mat-button-toggle-group",5),e.NdJ("ngModelChange",function(d){return n.toggleValue=d}),e.TgZ(12,"mat-button-toggle",6)(13,"mat-icon",7),e._uU(14,"dashboard"),e.qZA()(),e.TgZ(15,"mat-button-toggle",8)(16,"mat-icon",7),e._uU(17,"table_rows_narrow"),e.qZA()()()(),e.TgZ(18,"div")(19,"div",9)(20,"span",10)(21,"i",11),e._uU(22,"search"),e.qZA()(),e.TgZ(23,"input",12,13),e.NdJ("ngModelChange",function(d){return n.searchDepartmentText=d}),e.qZA()()()()(),e.YNc(25,Ge,2,1,"div",14),e.YNc(26,at,22,5,"div",15),e.qZA()),2&a&&(e.xp6(11),e.Q6J("ngModel",n.toggleValue),e.xp6(12),e.Q6J("ngModel",n.searchDepartmentText),e.xp6(2),e.Q6J("ngIf","card"==n.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==n.toggleValue))},dependencies:[h.sg,h.O5,F.RK,k.A9,k.Yi,p.Hw,r.Fj,r.JJ,r.On,J.a8,J.G2,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.ge,v.ev,v.XQ,v.Gk,I.NW]})}return i})();function dt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-card",19)(2,"div",20),e._UZ(3,"img",21),e.TgZ(4,"a")(5,"button",22),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.opnEditCourse(o.id))}),e.TgZ(6,"mat-icon",23),e._uU(7,"edit_square"),e.qZA()(),e.TgZ(8,"button",24)(9,"mat-icon",25),e._uU(10,"delete"),e.qZA()()()(),e.TgZ(11,"div",26)(12,"div",27)(13,"div",28)(14,"span",29),e._uU(15,"Course"),e.qZA()(),e.TgZ(16,"div",30)(17,"div",31),e._uU(18),e.qZA()()(),e.TgZ(19,"div",32)(20,"div",28)(21,"span",29),e._uU(22,"Code"),e.qZA()(),e.TgZ(23,"div",30)(24,"div",31),e._uU(25),e.qZA()()()()()()}if(2&i){const t=s.$implicit;e.xp6(3),e.Q6J("src","https://picsum.photos/200",e.LSH),e.xp6(14),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(6),e.Q6J("title",t.code),e.xp6(1),e.Oqu(t.code)}}function st(i,s){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,dt,26,5,"div",17),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.courses)}}function lt(i,s){1&i&&(e.TgZ(0,"th",49),e._uU(1," # "),e.qZA())}function rt(i,s){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const t=s.index,a=e.oxw(2);e.xp6(1),e.Oqu(a.getSerialNumber(t))}}function ct(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," Name "),e.qZA())}function _t(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function mt(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," Duration"),e.qZA())}function ut(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.duration," ")}}function pt(i,s){1&i&&(e.TgZ(0,"th",51),e._uU(1," Code "),e.qZA())}function gt(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function ht(i,s){1&i&&(e.TgZ(0,"th",53),e._uU(1,"Action"),e.qZA())}function ft(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",52)(1,"div",54)(2,"div",55)(3,"button",22),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.opnEditCourse(o.id))}),e.TgZ(4,"mat-icon",56),e._uU(5,"edit_square"),e.qZA()(),e.TgZ(6,"button",57),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.deleteCourse(o.id))}),e.TgZ(7,"mat-icon",58),e._uU(8,"delete"),e.qZA()()()()()}}function Tt(i,s){1&i&&e._UZ(0,"tr",59)}function vt(i,s){1&i&&e._UZ(0,"tr",60)}const bt=function(){return[5,10,20]};function xt(i,s){if(1&i&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"table",35),e.ynx(4,36),e.YNc(5,lt,2,0,"th",37),e.YNc(6,rt,2,1,"td",38),e.BQk(),e.ynx(7,39),e.YNc(8,ct,2,0,"th",40),e.YNc(9,_t,2,1,"td",41),e.BQk(),e.ynx(10,42),e.YNc(11,mt,2,0,"th",40),e.YNc(12,ut,2,1,"td",41),e.BQk(),e.ynx(13,43),e.YNc(14,pt,2,0,"th",40),e.YNc(15,gt,2,1,"td",41),e.BQk(),e.ynx(16,44),e.YNc(17,ht,2,0,"th",45),e.YNc(18,ft,9,0,"td",41),e.BQk(),e.YNc(19,Tt,1,0,"tr",46),e.YNc(20,vt,1,0,"tr",47),e.qZA(),e._UZ(21,"mat-paginator",48),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,bt))}}let Ct=(()=>{class i{constructor(t,a,n){this.dialog=t,this.instituteService=a,this.toastr=n,this.toggleValue="table",this.searchDepartmentText="",this.courses=[],this.teachers=[],this.displayedColumns=["sno","name","duration","code","action"],this.dataSource=new v.by(this.courses)}ngOnInit(){this.loadTableData()}loadTableData(){this.instituteService.getCourses().subscribe(a=>{200==a.code?(this.courses=a.data,this.dataSource.data=this.courses):this.toastr.error(a.message)})}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getSerialNumber(t){return this.paginator?this.paginator.pageIndex*this.paginator.pageSize+t+1:t+1}openAddCourse(){this.dialog.open($,{width:"50%",autoFocus:!1,data:{type:"COURSE"}}).componentInstance.confirmed.subscribe(a=>{this.loadTableData()})}opnEditCourse(t){this.dialog.open($,{width:"50%",autoFocus:!1,data:{id:t,type:"COURSE"}}).afterClosed().subscribe(n=>{this.loadTableData()})}deleteCourse(t){this.dialog.open(q.z,{width:"40%",autoFocus:!1,data:{title:"Delete Course",message:"Are you sure you want to delete the selected course?"}}).componentInstance.confirmed.subscribe(n=>{n&&this.instituteService.deleteCourse(t).subscribe(d=>{200==d.code?(this.loadTableData(),this.toastr.success(d.message)):this.toastr.error(d.message)})})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.uw),e.Y36(x.$),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-course"]],viewQuery:function(a,n){if(1&a&&e.Gf(I.NW,5),2&a){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first)}},decls:27,vars:4,consts:[[1,"card","mb-0"],[1,"d-flex","justify-content-between","p-3"],[1,"title"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-between","px-3","py-1"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","card"],["color","primary"],["value","table"],[1,"input-group","flex-nowrap",2,"max-width","300px"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Course","type","text","name","searchDepartment",1,"form-control",2,"width","230px",3,"ngModel","ngModelChange"],["searchDepartment","ngModel"],["class","row mt-2 mx-0 pb-3","style","max-height: 69vh; max-width: 83vw; overflow: auto;",4,"ngIf"],["class","row mt-2",4,"ngIf"],[1,"row","mt-2","mx-0","pb-3",2,"max-height","69vh","max-width","83vw","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-card-image","","alt","image","height","135px",1,"w-100",3,"src"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete"],[2,"color","#fa5757"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],[1,"px-4"],[1,"mat-elevation-z8","shadow-sm"],["mat-table","",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","","class","py-3",4,"matHeaderCellDef"],["mat-cell","","class","py-3",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","duration"],["matColumnDef","code"],["matColumnDef","action"],["mat-header-cell","","class","text-end p-4",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","",1,"py-3"],["mat-cell","",1,"py-3"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"text-end","p-4"],[1,"actions"],[1,"d-flex","align-items-center","justify-content-end"],[2,"color","#8472FC","font-size","20px"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757","font-size","20px"],["mat-header-row",""],["mat-row",""]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div")(4,"p",2),e._uU(5,"Course"),e.qZA()(),e.TgZ(6,"div")(7,"button",3),e.NdJ("click",function(){return n.openAddCourse()}),e._uU(8,"Add"),e.qZA()()(),e.TgZ(9,"div",4)(10,"div")(11,"mat-button-toggle-group",5),e.NdJ("ngModelChange",function(d){return n.toggleValue=d}),e.TgZ(12,"mat-button-toggle",6)(13,"mat-icon",7),e._uU(14,"dashboard"),e.qZA()(),e.TgZ(15,"mat-button-toggle",8)(16,"mat-icon",7),e._uU(17,"table_rows_narrow"),e.qZA()()()(),e.TgZ(18,"div")(19,"div",9)(20,"span",10)(21,"i",11),e._uU(22,"search"),e.qZA()(),e.TgZ(23,"input",12,13),e.NdJ("ngModelChange",function(d){return n.searchDepartmentText=d}),e.qZA()()()()(),e.YNc(25,st,2,1,"div",14),e.YNc(26,xt,22,5,"div",15),e.qZA()),2&a&&(e.xp6(11),e.Q6J("ngModel",n.toggleValue),e.xp6(12),e.Q6J("ngModel",n.searchDepartmentText),e.xp6(2),e.Q6J("ngIf","card"==n.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==n.toggleValue))},dependencies:[h.sg,h.O5,F.RK,k.A9,k.Yi,p.Hw,r.Fj,r.JJ,r.On,J.a8,J.G2,v.BZ,v.fO,v.as,v.w1,v.Dz,v.nj,v.ge,v.ev,v.XQ,v.Gk,I.NW]})}return i})();var Zt=g(7804);function At(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createTimeTable())}),e._UZ(1,"i",7),e._uU(2,"\xa0\xa0Add Time Table "),e.qZA()}}function yt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.editTimeTable(n.id))}),e.qZA()}}function Mt(i,s){if(1&i&&(e.TgZ(0,"div",10)(1,"mat-card",11)(2,"div")(3,"div",12)(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e.YNc(7,yt,1,0,"i",13),e.qZA()()()()()),2&i){const t=s.$implicit,a=e.oxw(2);e.xp6(5),e.hij("Class:\xa0",t.associationName,""),e.xp6(2),e.Q6J("ngIf","INSTITUTE_ADMIN"==a.role)}}function wt(i,s){if(1&i&&(e.TgZ(0,"div",8),e.YNc(1,Mt,8,2,"div",9),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.timeTables)}}function qt(i,s){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("title",t.subjectName),e.xp6(1),e.Oqu(t.subjectName)}}function Dt(i,s){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.Q6J("title","STUDENT"==a.role?t.teacherName:t.associationName),e.xp6(1),e.hij(" ","STUDENT"==a.role?t.teacherName:t.associationName," ")}}function Nt(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.periodName)}}function Jt(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._UZ(3,"i",24),e.TgZ(4,"span",25),e._uU(5),e.qZA(),e.TgZ(6,"span",26),e._uU(7,"-"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",27),e.YNc(11,qt,2,2,"div",28),e.qZA(),e.TgZ(12,"div",29),e.YNc(13,Dt,2,2,"div",30),e.YNc(14,Nt,2,1,"div",31),e.qZA()()),2&i){const t=s.$implicit;e.Udp("background-color",t.color),e.xp6(5),e.Oqu(t.intervalFrom),e.xp6(4),e.Oqu(t.intervalTo),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak)}}function kt(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2," Sunday "),e.qZA(),e.TgZ(3,"div"),e.YNc(4,Jt,15,7,"div",20),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.sunday)}}function Ft(i,s){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("title",t.subjectName),e.xp6(1),e.Oqu(t.subjectName)}}function Ut(i,s){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.Q6J("title","STUDENT"==a.role?t.teacherName:t.associationName),e.xp6(1),e.hij(" ","STUDENT"==a.role?t.teacherName:t.associationName," ")}}function It(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.periodName)}}function Et(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._UZ(3,"i",24),e.TgZ(4,"span",25),e._uU(5),e.qZA(),e.TgZ(6,"span",26),e._uU(7,"-"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",27),e.YNc(11,Ft,2,2,"div",28),e.qZA(),e.TgZ(12,"div",29),e.YNc(13,Ut,2,2,"div",30),e.YNc(14,It,2,1,"div",31),e.qZA()()),2&i){const t=s.$implicit;e.Udp("background-color",t.color),e.xp6(5),e.Oqu(t.intervalFrom),e.xp6(4),e.Oqu(t.intervalTo),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak)}}function Qt(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2," Monday "),e.qZA(),e.TgZ(3,"div"),e.YNc(4,Et,15,7,"div",20),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.monday)}}function Yt(i,s){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("title",t.subjectName),e.xp6(1),e.hij(" ",t.subjectName,"")}}function St(i,s){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.Q6J("title","STUDENT"==a.role?t.teacherName:t.associationName),e.xp6(1),e.hij(" ","STUDENT"==a.role?t.teacherName:t.associationName," ")}}function Ot(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.periodName)}}function Ht(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._UZ(3,"i",24),e.TgZ(4,"span",25),e._uU(5),e.qZA(),e.TgZ(6,"span",26),e._uU(7,"-"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",27),e.YNc(11,Yt,2,2,"div",28),e.qZA(),e.TgZ(12,"div",29),e.YNc(13,St,2,2,"div",30),e.YNc(14,Ot,2,1,"div",31),e.qZA()()),2&i){const t=s.$implicit;e.Udp("background-color",t.color),e.xp6(5),e.Oqu(t.intervalFrom),e.xp6(4),e.Oqu(t.intervalTo),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak)}}function Bt(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"div",34),e._uU(2," Tuesday "),e.qZA(),e.YNc(3,Ht,15,7,"div",20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.tuesday)}}function $t(i,s){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("title",t.subjectName),e.xp6(1),e.hij(" ",t.subjectName,"")}}function Gt(i,s){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.Q6J("title","STUDENT"==a.role?t.teacherName:t.associationName),e.xp6(1),e.hij(" ","STUDENT"==a.role?t.teacherName:t.associationName," ")}}function Rt(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.periodName)}}function jt(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._UZ(3,"i",24),e.TgZ(4,"span",25),e._uU(5),e.qZA(),e.TgZ(6,"span",26),e._uU(7,"-"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",27),e.YNc(11,$t,2,2,"div",28),e.qZA(),e.TgZ(12,"div",29),e.YNc(13,Gt,2,2,"div",30),e.YNc(14,Rt,2,1,"div",31),e.qZA()()),2&i){const t=s.$implicit;e.Udp("background-color",t.color),e.xp6(5),e.Oqu(t.intervalFrom),e.xp6(4),e.Oqu(t.intervalTo),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak)}}function Kt(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"div",35),e._uU(2," Wednesday "),e.qZA(),e.YNc(3,jt,15,7,"div",20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.wednesday)}}function Pt(i,s){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("title",t.subjectName),e.xp6(1),e.hij(" ",t.subjectName,"")}}function Wt(i,s){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.Q6J("title","STUDENT"==a.role?t.teacherName:t.associationName),e.xp6(1),e.hij(" ","STUDENT"==a.role?t.teacherName:t.associationName," ")}}function Vt(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.periodName)}}function Lt(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._UZ(3,"i",24),e.TgZ(4,"span",25),e._uU(5),e.qZA(),e.TgZ(6,"span",26),e._uU(7,"-"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",27),e.YNc(11,Pt,2,2,"div",28),e.qZA(),e.TgZ(12,"div",29),e.YNc(13,Wt,2,2,"div",30),e.YNc(14,Vt,2,1,"div",31),e.qZA()()),2&i){const t=s.$implicit;e.Udp("background-color",t.color),e.xp6(5),e.Oqu(t.intervalFrom),e.xp6(4),e.Oqu(t.intervalTo),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak)}}function zt(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"div",36),e._uU(2," Thursday "),e.qZA(),e.YNc(3,Lt,15,7,"div",20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.thursday)}}function Xt(i,s){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("title",t.subjectName),e.xp6(1),e.hij(" ",t.subjectName,"")}}function en(i,s){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.Q6J("title","STUDENT"==a.role?t.teacherName:t.associationName),e.xp6(1),e.hij(" ","STUDENT"==a.role?t.teacherName:t.associationName," ")}}function tn(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.periodName)}}function nn(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._UZ(3,"i",24),e.TgZ(4,"span",25),e._uU(5),e.qZA(),e.TgZ(6,"span",26),e._uU(7,"-"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",27),e.YNc(11,Xt,2,2,"div",28),e.qZA(),e.TgZ(12,"div",29),e.YNc(13,en,2,2,"div",30),e.YNc(14,tn,2,1,"div",31),e.qZA()()),2&i){const t=s.$implicit;e.Udp("background-color",t.color),e.xp6(5),e.Oqu(t.intervalFrom),e.xp6(4),e.Oqu(t.intervalTo),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak)}}function an(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"div",37),e._uU(2," Friday "),e.qZA(),e.YNc(3,nn,15,7,"div",20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.friday)}}function on(i,s){if(1&i&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("title",t.subjectName),e.xp6(1),e.hij(" ",t.subjectName,"")}}function dn(i,s){if(1&i&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.Q6J("title","STUDENT"==a.role?t.teacherName:t.associationName),e.xp6(1),e.hij(" ","STUDENT"==a.role?t.teacherName:t.associationName," ")}}function sn(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.periodName)}}function ln(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div",23),e._UZ(3,"i",24),e.TgZ(4,"span",25),e._uU(5),e.qZA(),e.TgZ(6,"span",26),e._uU(7,"-"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",27),e.YNc(11,on,2,2,"div",28),e.qZA(),e.TgZ(12,"div",29),e.YNc(13,dn,2,2,"div",30),e.YNc(14,sn,2,1,"div",31),e.qZA()()),2&i){const t=s.$implicit;e.Udp("background-color",t.color),e.xp6(5),e.Oqu(t.intervalFrom),e.xp6(4),e.Oqu(t.intervalTo),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(2),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak)}}function rn(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"div",38),e._uU(2," Saturday "),e.qZA(),e.YNc(3,ln,15,7,"div",20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.saturday)}}function cn(i,s){if(1&i&&(e.TgZ(0,"div",15)(1,"div",16),e.YNc(2,kt,5,1,"div",17),e.YNc(3,Qt,5,1,"div",17),e.YNc(4,Bt,4,1,"div",17),e.YNc(5,Kt,4,1,"div",17),e.YNc(6,zt,4,1,"div",17),e.YNc(7,an,4,1,"div",17),e.YNc(8,rn,4,1,"div",17),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isSundayVisible),e.xp6(1),e.Q6J("ngIf",t.isMondayVisible),e.xp6(1),e.Q6J("ngIf",t.isTuesdayVisible),e.xp6(1),e.Q6J("ngIf",t.isWednesdayVisible),e.xp6(1),e.Q6J("ngIf",t.isThursdayVisible),e.xp6(1),e.Q6J("ngIf",t.isFridayVisible),e.xp6(1),e.Q6J("ngIf",t.isSaturdayVisible)}}let _n=(()=>{class i{constructor(t,a,n,o,d){this.router=t,this.instituteService=a,this.authService=n,this.dialog=o,this.toastr=d,this.timeTables=[],this.role="",this.studentAndTeacherTimeTable=[],this.colors=["#FDE9ED","#E6F9FF","#FEF8EA","#F2F5FF","#E8F9E8","#E9EDF4"],this.sunday=[],this.monday=[],this.tuesday=[],this.wednesday=[],this.thursday=[],this.friday=[],this.saturday=[],this.assignedColors=[],this.days=[],this.isMondayVisible=!0,this.isTuesdayVisible=!0,this.isWednesdayVisible=!0,this.isThursdayVisible=!0,this.isFridayVisible=!0,this.isSaturdayVisible=!0,this.isSundayVisible=!0}ngOnInit(){this.role=this.authService.role;const t=this.instituteService.getTimeTables().subscribe(n=>{this.timeTables=n.data,"STUDENT"==this.role?this.timeTables[0]&&this.timeTables[0].periods&&(this.studentAndTeacherTimeTable=this.timeTables[0].periods,this.studentAndTeacherTimeTable.forEach(o=>{o.associationName=this.timeTables[0].associationName,o.color=this.getRandomColor(),"MONDAY"==o.day?this.monday.push(o):"TUESDAY"==o.day?this.tuesday.push(o):"WEDNESDAY"==o.day?this.wednesday.push(o):"THURSDAY"==o.day?this.thursday.push(o):"FRIDAY"==o.day?this.friday.push(o):"SATURDAY"==o.day?this.saturday.push(o):"SUNDAY"==o.day&&this.sunday.push(o)})):"TEACHER"==this.role&&(this.timeTables.forEach(o=>{o.periods?.forEach(d=>{d.associationName=o.associationName,d.associationId=o.associationId,d.color=this.getRandomColor(),this.studentAndTeacherTimeTable.push(d)})}),this.studentAndTeacherTimeTable.forEach(o=>{"MONDAY"==o.day?this.monday.push(o):"TUESDAY"==o.day?this.tuesday.push(o):"WEDNESDAY"==o.day?this.wednesday.push(o):"THURSDAY"==o.day?this.thursday.push(o):"FRIDAY"==o.day?this.friday.push(o):"SATURDAY"==o.day?this.saturday.push(o):"SUNDAY"==o.day&&this.sunday.push(o)})),t.unsubscribe()}),a=this.instituteService.getWorkingDays().subscribe(n=>{200==n.code?(this.days=n.data,this.days.length>0&&this.days.forEach(o=>{"MONDAY"==o.dayOfWeek&&0==o.workingDay?this.isMondayVisible=!1:"TUESDAY"==o.dayOfWeek&&0==o.workingDay?this.isTuesdayVisible=!1:"WEDNESDAY"==o.dayOfWeek&&0==o.workingDay?this.isWednesdayVisible=!1:"THURSDAY"==o.dayOfWeek&&0==o.workingDay?this.isThursdayVisible=!1:"FRIDAY"==o.dayOfWeek&&0==o.workingDay?this.isFridayVisible=!1:"SATURDAY"==o.dayOfWeek&&0==o.workingDay?this.isSaturdayVisible=!1:"SUNDAY"==o.dayOfWeek&&0==o.workingDay&&(this.isSundayVisible=!1)})):this.toastr.error(n.message),a.unsubscribe()})}createTimeTable(){this.router.navigateByUrl("app/institute/time-table/add")}editTimeTable(t){this.router.navigateByUrl("app/institute/time-table/edit/"+t)}getRandomColor(){return this.colors[Math.floor(Math.random()*this.colors.length)]}attendence(t){this.dialog.open(Zt.i,{width:"80%",autoFocus:!1,data:{id:t}})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(_.F0),e.Y36(x.$),e.Y36(b.$),e.Y36(f.uw),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-time-table"]],decls:7,vars:3,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],["class","row",4,"ngIf"],["style","width: 100%;",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"row"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1","p-3"],[1,"d-flex","justify-content-between"],["class","fa fa-pen-to-square pointer",3,"click",4,"ngIf"],[1,"fa","fa-pen-to-square","pointer",3,"click"],[2,"width","100%"],[1,"d-flex","justify-content-between",2,"max-width","80vw","overflow","auto"],["class","me-3",4,"ngIf"],[1,"me-3"],[1,"heading",2,"background-color","#FDE9ED"],["class","schedule p-3",3,"backgroundColor",4,"ngFor","ngForOf"],[1,"schedule","p-3"],[1,"d-flex","align-items-center"],[2,"color","gray"],[1,"fa-regular","fa-clock"],[1,"ms-2"],[1,"mx-1"],[1,"mt-1","d-flex","justify-content-center"],["class","ellipse","style","max-width: 130px;",3,"title",4,"ngIf"],[1,"mt-3","p-1","d-flex","justify-content-center",2,"background-color","white","border-radius","5px"],["class","ellipse",3,"title",4,"ngIf"],[4,"ngIf"],[1,"ellipse",2,"max-width","130px",3,"title"],[1,"ellipse",3,"title"],[1,"heading",2,"background-color","#E6F9FF"],[1,"heading",2,"background-color","#FEF8EA"],[1,"heading",2,"background-color","#F2F5FF"],[1,"heading",2,"background-color","#E8F9E8"],[1,"heading",2,"background-color","#E9EDF4"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Time Table"),e.qZA(),e.YNc(3,At,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,wt,2,1,"div",4),e.YNc(6,cn,9,7,"div",5),e.qZA()),2&a&&(e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(2),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(1),e.Q6J("ngIf","INSTITUTE_ADMIN"!=n.role))},dependencies:[h.sg,h.O5,J.a8],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.heading[_ngcontent-%COMP%]{width:200px;display:flex;justify-content:center;border-radius:7px;padding:10px}.schedule[_ngcontent-%COMP%]{border-radius:7px;margin-top:10px}.ellipse[_ngcontent-%COMP%]{width:auto;max-width:100px}"]})}return i})();var mn=g(4128),un=g(2030),B=g(2373),oe=g(3848),de=g(8796);const pn=["timeTableForm"];function gn(i,s){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function hn(i,s){1&i&&(e.TgZ(0,"p",23),e._uU(1," Class is required "),e.qZA())}function fn(i,s){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Tn(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function vn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"ng-select",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.subjectId=n)}),e.YNc(4,Tn,2,2,"ng-option",11),e.qZA()()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.subjectId),e.xp6(1),e.Q6J("ngForOf",a.filteredSubjects)}}function bn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Period Name"),e.qZA(),e.TgZ(3,"input",47,48),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.periodName=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngModel",t.periodName)}}function xn(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Cn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",a.intervalFrom)("min",n.startTime)("max",n.endTime)}}function Zn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw(),n=a.$implicit,o=a.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",n.intervalFrom)("min",d.sunday[o-1].intervalTo)("max",d.endTime)}}function An(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",33)(2,"div",34),e.YNc(3,vn,5,2,"div",35),e.YNc(4,bn,5,1,"div",35),e.qZA(),e.TgZ(5,"div",34)(6,"div",36)(7,"label"),e._uU(8,"Teacher"),e.qZA(),e.TgZ(9,"ng-select",37),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.userId=n)}),e.YNc(10,xn,2,2,"ng-option",11),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",36)(13,"label"),e._uU(14,"Time From"),e.qZA(),e.YNc(15,Cn,5,4,"div",38),e.YNc(16,Zn,5,4,"div",38),e.qZA()(),e.TgZ(17,"div",34)(18,"div",36)(19,"label"),e._uU(20,"Time To"),e.qZA(),e.TgZ(21,"input",39,40),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.intervalTo=n)})("ngModelChange",function(){const n=e.CHM(t),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.validatePeriodsTimeTo(o.day,d))}),e.qZA(),e._UZ(23,"ngx-material-timepicker",null,41),e.qZA()(),e.TgZ(25,"div",42)(26,"div",36)(27,"label"),e._uU(28,"Break"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"input",43),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.isBreak=n)}),e.qZA()()(),e.TgZ(31,"div",44)(32,"i",45),e.NdJ("click",function(){const o=e.CHM(t).index,d=e.oxw(3);return e.KtG(d.removePeriod("sunday",o))}),e.qZA()()()()}if(2&i){const t=s.$implicit,a=s.index,n=e.MAs(24),o=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak),e.xp6(5),e.Q6J("ngModel",t.userId),e.xp6(1),e.Q6J("ngForOf",o.teachers),e.xp6(5),e.Q6J("ngIf",0==a),e.xp6(1),e.Q6J("ngIf",0!=a),e.xp6(5),e.Q6J("ngxTimepicker",n)("ngModel",t.intervalTo)("min",o.sunday[a].intervalFrom)("max",o.endTime)("disabled",null==o.sunday[a].intervalFrom||null==o.sunday[a].intervalFrom),e.xp6(9),e.Q6J("ngModel",t.isBreak)}}function yn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"span",28),e._uU(3,"Copy Data From"),e.qZA(),e.TgZ(4,"select",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getSundayData=n)})("change",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.setData("Sunday"))}),e.TgZ(5,"option",30)(6,"span",31),e._uU(7,"--select--"),e.qZA()(),e.YNc(8,fn,2,2,"option",11),e.qZA()(),e.YNc(9,An,33,12,"div",32),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.getSundayData),e.xp6(4),e.Q6J("ngForOf",t.copydataTabs),e.xp6(1),e.Q6J("ngForOf",t.sunday)}}function Mn(i,s){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function wn(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function qn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"ng-select",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.subjectId=n)}),e.YNc(4,wn,2,2,"ng-option",11),e.qZA()()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.subjectId),e.xp6(1),e.Q6J("ngForOf",a.filteredSubjects)}}function Dn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Period Name"),e.qZA(),e.TgZ(3,"input",47,48),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.periodName=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngModel",t.periodName)}}function Nn(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Jn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",a.intervalFrom)("min",n.startTime)("max",n.endTime)}}function kn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw(),n=a.$implicit,o=a.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",n.intervalFrom)("min",d.monday[o-1].intervalTo)("max",d.endTime)}}function Fn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",33)(2,"div",34),e.YNc(3,qn,5,2,"div",35),e.YNc(4,Dn,5,1,"div",35),e.qZA(),e.TgZ(5,"div",34)(6,"div",36)(7,"label"),e._uU(8,"Teacher"),e.qZA(),e.TgZ(9,"ng-select",37),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.userId=n)}),e.YNc(10,Nn,2,2,"ng-option",11),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",36)(13,"label"),e._uU(14,"Time From"),e.qZA(),e.YNc(15,Jn,5,4,"div",38),e.YNc(16,kn,5,4,"div",38),e.qZA()(),e.TgZ(17,"div",34)(18,"div",36)(19,"label"),e._uU(20,"Time To"),e.qZA(),e.TgZ(21,"input",39,40),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.intervalTo=n)})("ngModelChange",function(){const n=e.CHM(t),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.validatePeriodsTimeTo(o.day,d))}),e.qZA(),e._UZ(23,"ngx-material-timepicker",null,41),e.qZA()(),e.TgZ(25,"div",42)(26,"div",36)(27,"label"),e._uU(28,"Break"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"input",43),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.isBreak=n)}),e.qZA()()(),e.TgZ(31,"div",44)(32,"i",45),e.NdJ("click",function(){const o=e.CHM(t).index,d=e.oxw(3);return e.KtG(d.removePeriod("monday",o))}),e.qZA()()()()}if(2&i){const t=s.$implicit,a=s.index,n=e.MAs(24),o=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak),e.xp6(5),e.Q6J("ngModel",t.userId),e.xp6(1),e.Q6J("ngForOf",o.teachers),e.xp6(5),e.Q6J("ngIf",0==a),e.xp6(1),e.Q6J("ngIf",0!=a),e.xp6(5),e.Q6J("ngxTimepicker",n)("ngModel",t.intervalTo)("min",o.monday[a].intervalFrom)("max",o.endTime)("disabled",null==o.monday[a].intervalFrom||null==o.monday[a].intervalFrom),e.xp6(9),e.Q6J("ngModel",t.isBreak)}}function Un(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"span",28),e._uU(3,"Copy Data From"),e.qZA(),e.TgZ(4,"select",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getMondayData=n)})("change",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.setData("Monday"))}),e.TgZ(5,"option",30)(6,"span",31),e._uU(7,"--select--"),e.qZA()(),e.YNc(8,Mn,2,2,"option",11),e.qZA()(),e.YNc(9,Fn,33,12,"div",32),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.getMondayData),e.xp6(4),e.Q6J("ngForOf",t.copydataTabs),e.xp6(1),e.Q6J("ngForOf",t.monday)}}function In(i,s){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function En(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Qn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"ng-select",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.subjectId=n)}),e.YNc(4,En,2,2,"ng-option",11),e.qZA()()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.subjectId),e.xp6(1),e.Q6J("ngForOf",a.filteredSubjects)}}function Yn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Period Name"),e.qZA(),e.TgZ(3,"input",47,48),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.periodName=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngModel",t.periodName)}}function Sn(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function On(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",a.intervalFrom)("min",n.startTime)("max",n.endTime)}}function Hn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw(),n=a.$implicit,o=a.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",n.intervalFrom)("min",d.tuesday[o-1].intervalTo)("max",d.endTime)}}function Bn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",33)(2,"div",34),e.YNc(3,Qn,5,2,"div",35),e.YNc(4,Yn,5,1,"div",35),e.qZA(),e.TgZ(5,"div",34)(6,"div",36)(7,"label"),e._uU(8,"Teacher"),e.qZA(),e.TgZ(9,"ng-select",37),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.userId=n)}),e.YNc(10,Sn,2,2,"ng-option",11),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",36)(13,"label"),e._uU(14,"Time From"),e.qZA(),e.YNc(15,On,5,4,"div",38),e.YNc(16,Hn,5,4,"div",38),e.qZA()(),e.TgZ(17,"div",34)(18,"div",36)(19,"label"),e._uU(20,"Time To"),e.qZA(),e.TgZ(21,"input",39,40),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.intervalTo=n)})("ngModelChange",function(){const n=e.CHM(t),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.validatePeriodsTimeTo(o.day,d))}),e.qZA(),e._UZ(23,"ngx-material-timepicker",null,41),e.qZA()(),e.TgZ(25,"div",42)(26,"div",36)(27,"label"),e._uU(28,"Break"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"input",43),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.isBreak=n)}),e.qZA()()(),e.TgZ(31,"div",44)(32,"i",51),e.NdJ("click",function(){const o=e.CHM(t).index,d=e.oxw(3);return e.KtG(d.removePeriod("tuesday",o))}),e.qZA()()()()}if(2&i){const t=s.$implicit,a=s.index,n=e.MAs(24),o=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak),e.xp6(5),e.Q6J("ngModel",t.userId),e.xp6(1),e.Q6J("ngForOf",o.teachers),e.xp6(5),e.Q6J("ngIf",0==a),e.xp6(1),e.Q6J("ngIf",0!=a),e.xp6(5),e.Q6J("ngxTimepicker",n)("ngModel",t.intervalTo)("min",o.tuesday[a].intervalFrom)("max",o.endTime)("disabled",null==o.tuesday[a].intervalFrom||null==o.tuesday[a].intervalFrom),e.xp6(9),e.Q6J("ngModel",t.isBreak)}}function $n(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"span",28),e._uU(3,"Copy Data From"),e.qZA(),e.TgZ(4,"select",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getTuesdayData=n)})("change",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.setData("Tuesday"))}),e.TgZ(5,"option",30)(6,"span",31),e._uU(7,"--select--"),e.qZA()(),e.YNc(8,In,2,2,"option",11),e.qZA()(),e.YNc(9,Bn,33,12,"div",32),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.getTuesdayData),e.xp6(4),e.Q6J("ngForOf",t.copydataTabs),e.xp6(1),e.Q6J("ngForOf",t.tuesday)}}function Gn(i,s){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Rn(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function jn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"ng-select",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.subjectId=n)}),e.YNc(4,Rn,2,2,"ng-option",11),e.qZA()()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.subjectId),e.xp6(1),e.Q6J("ngForOf",a.filteredSubjects)}}function Kn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Period Name"),e.qZA(),e.TgZ(3,"input",47,48),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.periodName=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngModel",t.periodName)}}function Pn(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Wn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",a.intervalFrom)("min",n.startTime)("max",n.endTime)}}function Vn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw(),n=a.$implicit,o=a.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",n.intervalFrom)("min",d.wednesday[o-1].intervalTo)("max",d.endTime)}}function Ln(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",33)(2,"div",34),e.YNc(3,jn,5,2,"div",35),e.YNc(4,Kn,5,1,"div",35),e.qZA(),e.TgZ(5,"div",34)(6,"div",36)(7,"label"),e._uU(8,"Teacher"),e.qZA(),e.TgZ(9,"ng-select",37),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.userId=n)}),e.YNc(10,Pn,2,2,"ng-option",11),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",36)(13,"label"),e._uU(14,"Time From"),e.qZA(),e.YNc(15,Wn,5,4,"div",38),e.YNc(16,Vn,5,4,"div",38),e.qZA()(),e.TgZ(17,"div",34)(18,"div",36)(19,"label"),e._uU(20,"Time To"),e.qZA(),e.TgZ(21,"input",39,40),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.intervalTo=n)})("ngModelChange",function(){const n=e.CHM(t),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.validatePeriodsTimeTo(o.day,d))}),e.qZA(),e._UZ(23,"ngx-material-timepicker",null,41),e.qZA()(),e.TgZ(25,"div",42)(26,"div",36)(27,"label"),e._uU(28,"Break"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"input",43),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.isBreak=n)}),e.qZA()()(),e.TgZ(31,"div",44)(32,"i",51),e.NdJ("click",function(){const o=e.CHM(t).index,d=e.oxw(3);return e.KtG(d.removePeriod("wednesday",o))}),e.qZA()()()()}if(2&i){const t=s.$implicit,a=s.index,n=e.MAs(24),o=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak),e.xp6(5),e.Q6J("ngModel",t.userId),e.xp6(1),e.Q6J("ngForOf",o.teachers),e.xp6(5),e.Q6J("ngIf",0==a),e.xp6(1),e.Q6J("ngIf",0!=a),e.xp6(5),e.Q6J("ngxTimepicker",n)("ngModel",t.intervalTo)("min",o.wednesday[a].intervalFrom)("max",o.endTime)("disabled",null==o.wednesday[a].intervalFrom||null==o.wednesday[a].intervalFrom),e.xp6(9),e.Q6J("ngModel",t.isBreak)}}function zn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"span",28),e._uU(3,"Copy Data From"),e.qZA(),e.TgZ(4,"select",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getWednesdayData=n)})("change",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.setData("Wednesday"))}),e.TgZ(5,"option",30)(6,"span",31),e._uU(7,"--select--"),e.qZA()(),e.YNc(8,Gn,2,2,"option",11),e.qZA()(),e.YNc(9,Ln,33,12,"div",32),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.getWednesdayData),e.xp6(4),e.Q6J("ngForOf",t.copydataTabs),e.xp6(1),e.Q6J("ngForOf",t.wednesday)}}function Xn(i,s){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ei(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ti(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"ng-select",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.subjectId=n)}),e.YNc(4,ei,2,2,"ng-option",11),e.qZA()()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.subjectId),e.xp6(1),e.Q6J("ngForOf",a.filteredSubjects)}}function ni(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Period Name"),e.qZA(),e.TgZ(3,"input",47,48),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.periodName=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngModel",t.periodName)}}function ii(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ai(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",a.intervalFrom)("min",n.startTime)("max",n.endTime)}}function oi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw(),n=a.$implicit,o=a.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",n.intervalFrom)("min",d.thursday[o-1].intervalTo)("max",d.endTime)}}function di(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",33)(2,"div",34),e.YNc(3,ti,5,2,"div",35),e.YNc(4,ni,5,1,"div",35),e.qZA(),e.TgZ(5,"div",34)(6,"div",36)(7,"label"),e._uU(8,"Teacher"),e.qZA(),e.TgZ(9,"ng-select",37),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.userId=n)}),e.YNc(10,ii,2,2,"ng-option",11),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",36)(13,"label"),e._uU(14,"Time From"),e.qZA(),e.YNc(15,ai,5,4,"div",38),e.YNc(16,oi,5,4,"div",38),e.qZA()(),e.TgZ(17,"div",34)(18,"div",36)(19,"label"),e._uU(20,"Time To"),e.qZA(),e.TgZ(21,"input",39,40),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.intervalTo=n)})("ngModelChange",function(){const n=e.CHM(t),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.validatePeriodsTimeTo(o.day,d))}),e.qZA(),e._UZ(23,"ngx-material-timepicker",null,41),e.qZA()(),e.TgZ(25,"div",42)(26,"div",36)(27,"label"),e._uU(28,"Break"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"input",43),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.isBreak=n)}),e.qZA()()(),e.TgZ(31,"div",44)(32,"i",51),e.NdJ("click",function(){const o=e.CHM(t).index,d=e.oxw(3);return e.KtG(d.removePeriod("thursday",o))}),e.qZA()()()()}if(2&i){const t=s.$implicit,a=s.index,n=e.MAs(24),o=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak),e.xp6(5),e.Q6J("ngModel",t.userId),e.xp6(1),e.Q6J("ngForOf",o.teachers),e.xp6(5),e.Q6J("ngIf",0==a),e.xp6(1),e.Q6J("ngIf",0!=a),e.xp6(5),e.Q6J("ngxTimepicker",n)("ngModel",t.intervalTo)("min",o.thursday[a].intervalFrom)("max",o.endTime)("disabled",null==o.thursday[a].intervalFrom||null==o.thursday[a].intervalFrom),e.xp6(9),e.Q6J("ngModel",t.isBreak)}}function si(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"span",28),e._uU(3,"Copy Data From"),e.qZA(),e.TgZ(4,"select",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getThursdayData=n)})("change",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.setData("Thursday"))}),e.TgZ(5,"option",30)(6,"span",31),e._uU(7,"--select--"),e.qZA()(),e.YNc(8,Xn,2,2,"option",11),e.qZA()(),e.YNc(9,di,33,12,"div",32),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.getThursdayData),e.xp6(4),e.Q6J("ngForOf",t.copydataTabs),e.xp6(1),e.Q6J("ngForOf",t.thursday)}}function li(i,s){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ri(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ci(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"ng-select",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.subjectId=n)}),e.YNc(4,ri,2,2,"ng-option",11),e.qZA()()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.subjectId),e.xp6(1),e.Q6J("ngForOf",a.filteredSubjects)}}function _i(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Period Name"),e.qZA(),e.TgZ(3,"input",47,48),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.periodName=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngModel",t.periodName)}}function mi(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ui(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",52,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("min",n.startTime)("max",n.endTime)("ngModel",a.intervalFrom)}}function pi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw(),n=a.$implicit,o=a.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",n.intervalFrom)("min",d.friday[o-1].intervalTo)("max",d.endTime)}}function gi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",33)(2,"div",34),e.YNc(3,ci,5,2,"div",35),e.YNc(4,_i,5,1,"div",35),e.qZA(),e.TgZ(5,"div",34)(6,"div",36)(7,"label"),e._uU(8,"Teacher"),e.qZA(),e.TgZ(9,"ng-select",37),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.userId=n)}),e.YNc(10,mi,2,2,"ng-option",11),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",36)(13,"label"),e._uU(14,"Time From"),e.qZA(),e.YNc(15,ui,5,4,"div",38),e.YNc(16,pi,5,4,"div",38),e.qZA()(),e.TgZ(17,"div",34)(18,"div",36)(19,"label"),e._uU(20,"Time To"),e.qZA(),e.TgZ(21,"input",39,40),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.intervalTo=n)})("ngModelChange",function(){const n=e.CHM(t),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.validatePeriodsTimeTo(o.day,d))}),e.qZA(),e._UZ(23,"ngx-material-timepicker",null,41),e.qZA()(),e.TgZ(25,"div",42)(26,"div",36)(27,"label"),e._uU(28,"Break"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"input",43),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.isBreak=n)}),e.qZA()()(),e.TgZ(31,"div",44)(32,"i",51),e.NdJ("click",function(){const o=e.CHM(t).index,d=e.oxw(3);return e.KtG(d.removePeriod("friday",o))}),e.qZA()()()()}if(2&i){const t=s.$implicit,a=s.index,n=e.MAs(24),o=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak),e.xp6(5),e.Q6J("ngModel",t.userId),e.xp6(1),e.Q6J("ngForOf",o.teachers),e.xp6(5),e.Q6J("ngIf",0==a),e.xp6(1),e.Q6J("ngIf",0!=a),e.xp6(5),e.Q6J("ngxTimepicker",n)("ngModel",t.intervalTo)("min",o.friday[a].intervalFrom)("max",o.endTime)("disabled",null==o.friday[a].intervalFrom||null==o.friday[a].intervalFrom),e.xp6(9),e.Q6J("ngModel",t.isBreak)}}function hi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"span",28),e._uU(3,"Copy Data From"),e.qZA(),e.TgZ(4,"select",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getFridayData=n)})("change",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.setData("Friday"))}),e.TgZ(5,"option",30)(6,"span",31),e._uU(7,"--select--"),e.qZA()(),e.YNc(8,li,2,2,"option",11),e.qZA()(),e.YNc(9,gi,33,12,"div",32),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.getFridayData),e.xp6(4),e.Q6J("ngForOf",t.copydataTabs),e.xp6(1),e.Q6J("ngForOf",t.friday)}}function fi(i,s){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ti(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function vi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Subject"),e.qZA(),e.TgZ(3,"ng-select",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.subjectId=n)}),e.YNc(4,Ti,2,2,"ng-option",11),e.qZA()()}if(2&i){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(3),e.Q6J("ngModel",t.subjectId),e.xp6(1),e.Q6J("ngForOf",a.filteredSubjects)}}function bi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label"),e._uU(2,"Period Name"),e.qZA(),e.TgZ(3,"input",47,48),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.periodName=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngModel",t.periodName)}}function xi(i,s){if(1&i&&(e.TgZ(0,"ng-option",22),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ci(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",52,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("min",n.startTime)("max",n.endTime)("ngModel",a.intervalFrom)}}function Zi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"input",49,50),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw().$implicit;return e.KtG(o.intervalFrom=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.periodTimeTo(o.day,d))}),e.qZA(),e._UZ(3,"ngx-material-timepicker",null,41),e.qZA()}if(2&i){const t=e.MAs(4),a=e.oxw(),n=a.$implicit,o=a.index,d=e.oxw(3);e.xp6(1),e.Q6J("ngxTimepicker",t)("ngModel",n.intervalFrom)("min",d.saturday[o-1].intervalTo)("max",d.endTime)}}function Ai(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",33)(2,"div",34),e.YNc(3,vi,5,2,"div",35),e.YNc(4,bi,5,1,"div",35),e.qZA(),e.TgZ(5,"div",34)(6,"div",36)(7,"label"),e._uU(8,"Teacher"),e.qZA(),e.TgZ(9,"ng-select",37),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.userId=n)}),e.YNc(10,xi,2,2,"ng-option",11),e.qZA()()(),e.TgZ(11,"div",34)(12,"div",36)(13,"label"),e._uU(14,"Time From"),e.qZA(),e.YNc(15,Ci,5,4,"div",38),e.YNc(16,Zi,5,4,"div",38),e.qZA()(),e.TgZ(17,"div",34)(18,"div",36)(19,"label"),e._uU(20,"Time To"),e.qZA(),e.TgZ(21,"input",39,40),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.intervalTo=n)})("ngModelChange",function(){const n=e.CHM(t),o=n.$implicit,d=n.index,c=e.oxw(3);return e.KtG(c.validatePeriodsTimeTo(o.day,d))}),e.qZA(),e._UZ(23,"ngx-material-timepicker",null,41),e.qZA()(),e.TgZ(25,"div",42)(26,"div",36)(27,"label"),e._uU(28,"Break"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"input",43),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).$implicit;return e.KtG(d.isBreak=n)}),e.qZA()()(),e.TgZ(31,"div",44)(32,"i",51),e.NdJ("click",function(){const o=e.CHM(t).index,d=e.oxw(3);return e.KtG(d.removePeriod("saturday",o))}),e.qZA()()()()}if(2&i){const t=s.$implicit,a=s.index,n=e.MAs(24),o=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.isBreak),e.xp6(1),e.Q6J("ngIf",t.isBreak),e.xp6(5),e.Q6J("ngModel",t.userId),e.xp6(1),e.Q6J("ngForOf",o.teachers),e.xp6(5),e.Q6J("ngIf",0==a),e.xp6(1),e.Q6J("ngIf",0!=a),e.xp6(5),e.Q6J("ngxTimepicker",n)("ngModel",t.intervalTo)("min",o.saturday[a].intervalFrom)("max",o.endTime)("disabled",null==o.saturday[a].intervalFrom||null==o.saturday[a].intervalFrom),e.xp6(9),e.Q6J("ngModel",t.isBreak)}}function yi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"span",28),e._uU(3,"Copy Data From"),e.qZA(),e.TgZ(4,"select",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getSaturdayData=n)})("change",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.setData("Saturday"))}),e.TgZ(5,"option",30)(6,"span",31),e._uU(7,"--select--"),e.qZA()(),e.YNc(8,fi,2,2,"option",11),e.qZA()(),e.YNc(9,Ai,33,12,"div",32),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.getSaturdayData),e.xp6(4),e.Q6J("ngForOf",t.copydataTabs),e.xp6(1),e.Q6J("ngForOf",t.saturday)}}function Mi(i,s){if(1&i&&(e.TgZ(0,"mat-tab",24),e.YNc(1,yn,10,3,"div",25),e.YNc(2,Un,10,3,"div",25),e.YNc(3,$n,10,3,"div",25),e.YNc(4,zn,10,3,"div",25),e.YNc(5,si,10,3,"div",25),e.YNc(6,hi,10,3,"div",25),e.YNc(7,yi,10,3,"div",25),e.qZA()),2&i){const t=s.$implicit;e.Q6J("label",t),e.xp6(1),e.Q6J("ngIf","Sunday"==t),e.xp6(1),e.Q6J("ngIf","Monday"==t),e.xp6(1),e.Q6J("ngIf","Tuesday"==t),e.xp6(1),e.Q6J("ngIf","Wednesday"==t),e.xp6(1),e.Q6J("ngIf","Thursday"==t),e.xp6(1),e.Q6J("ngIf","Friday"==t),e.xp6(1),e.Q6J("ngIf","Saturday"==t)}}const wi=function(i){return{"is-invalid":i}};let _e=(()=>{class i{constructor(t,a,n,o,d,c,y,w){this.userService=t,this.instituteService=a,this.router=n,this.toastr=o,this.classService=d,this.route=c,this.authService=y,this.dialog=w,this.data={},this.monday=[],this.tuesday=[],this.wednesday=[],this.thursday=[],this.friday=[],this.saturday=[],this.sunday=[],this.days=[],this.status="Add",this.teachers=[],this.subjects=[],this.filteredSubjects=[],this.classes=[],this.isTimeTableFormVisible=!0,this.timeSlots=[],this.tabs=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.copydataTabs=[],this.selected=new r.NI(0),this.selectedTab=0,this.startTime="",this.endTime="",this.getMondayData="",this.getTuesdayData="",this.getWednesdayData="",this.getThursdayData="",this.getFridayData="",this.getSaturdayData="",this.getSundayData=""}ngOnInit(){this.startTime=this.authService.startTime,this.endTime=this.authService.endTime;const t=(0,mn.D)({cls:this.classService.getAllClasses(),sub:this.classService.getAllSubject(),user:this.userService.getTeachers(),work:this.instituteService.getWorkingDays()}).subscribe(({cls:a,sub:n,user:o,work:d})=>{200==a.code?this.classes=a.data:this.toastr.error(a.message),200==n.code?this.subjects=n.data:this.toastr.error(n.message),200==o.code?this.teachers=o.data:this.toastr.error(o.message),200==d.code?(this.days=d.data,this.days.length>0&&this.days.forEach(c=>{if("MONDAY"==c.dayOfWeek&&0==c.workingDay){let y=this.tabs.findIndex(w=>"Monday"==w);this.tabs.splice(y,1)}if("TUESDAY"==c.dayOfWeek&&0==c.workingDay){let y=this.tabs.findIndex(w=>"Tuesday"==w);this.tabs.splice(y,1)}else if("WEDNESDAY"==c.dayOfWeek&&0==c.workingDay){let y=this.tabs.findIndex(w=>"Wednesday"==w);this.tabs.splice(y,1)}else if("THURSDAY"==c.dayOfWeek&&0==c.workingDay){let y=this.tabs.findIndex(w=>"Thursday"==w);this.tabs.splice(y,1)}else if("FRIDAY"==c.dayOfWeek&&0==c.workingDay){let y=this.tabs.findIndex(w=>"Friday"==w);this.tabs.splice(y,1)}else if("SATURDAY"==c.dayOfWeek&&0==c.workingDay){let y=this.tabs.findIndex(w=>"Saturday"==w);this.tabs.splice(y,1)}else if("SUNDAY"==c.dayOfWeek&&0==c.workingDay){let y=this.tabs.findIndex(w=>"Sunday"==w);this.tabs.splice(y,1)}})):this.toastr.error(d.message),this.loadData(),t.unsubscribe()});this.generateTimeSlots()}loadData(){this.route.paramMap.subscribe(t=>{let a=t.get("id");if(a){this.status="Edit";const n=this.instituteService.getTimeTableById(parseInt(a)).subscribe(o=>{this.data=o.data,this.data.periods.forEach(d=>{"MONDAY"==d.day?this.monday.push(d):"TUESDAY"==d.day?this.tuesday.push(d):"WEDNESDAY"==d.day?this.wednesday.push(d):"THURSDAY"==d.day?this.thursday.push(d):"FRIDAY"==d.day?this.friday.push(d):"SATURDAY"==d.day?this.saturday.push(d):"SUNDAY"==d.day&&this.sunday.push(d)}),0==this.monday.length&&this.monday.push({day:"MONDAY"}),0==this.tuesday.length&&this.tuesday.push({day:"TUESDAY"}),0==this.wednesday.length&&this.wednesday.push({day:"WEDNESDAY"}),0==this.thursday.length&&this.thursday.push({day:"THURSDAY"}),0==this.friday.length&&this.friday.push({day:"FRIDAY"}),0==this.saturday.length&&this.saturday.push({day:"SATURDAY"}),0==this.sunday.length&&this.saturday.push({day:"SUNDAY"}),this.onTabChange(0),this.filterSubjects(),n.unsubscribe()})}else this.monday.push({day:"MONDAY"}),this.tuesday.push({day:"TUESDAY"}),this.wednesday.push({day:"WEDNESDAY"}),this.thursday.push({day:"THURSDAY"}),this.friday.push({day:"FRIDAY"}),this.saturday.push({day:"SATURDAY"}),this.sunday.push({day:"SUNDAY"})})}onTabChange(t){this.selectedTab=t,this.copydataTabs=[],this.tabs.forEach((a,n)=>{t!=n&&"Monday"==a&&this.monday.length>0?this.copydataTabs.push("Monday"):t!=n&&"Tuesday"==a&&this.tuesday.length>0?this.copydataTabs.push("Tuesday"):t!=n&&"Wednesday"==a&&this.wednesday.length>0?this.copydataTabs.push("Wednesday"):t!=n&&"Thursday"==a&&this.thursday.length>0?this.copydataTabs.push("Thursday"):t!=n&&"Friday"==a&&this.friday.length>0?this.copydataTabs.push("Friday"):t!=n&&"Saturday"==a&&this.saturday.length>0?this.copydataTabs.push("Saturday"):t!=n&&"Sunday"==a&&this.sunday.length>0&&this.copydataTabs.push("Sunday")})}setData(t){"Monday"==t&&this.monday.length>0||"Tuesday"==t&&this.tuesday.length>0||"Wednesday"==t&&this.wednesday.length>0||"Thursday"==t&&this.thursday.length>0||"Friday"==t&&this.friday.length>0||"Saturday"==t&&this.saturday.length>0||"Sunday"==t&&this.sunday.length>0?this.getPermisiion(t):this.copydata(t)}getPermisiion(t){let a=this.dialog.open(q.z,{width:"50%",autoFocus:!1,data:{title:"Replace Data",message:"Are you sure you want to replace the data?"}});a.componentInstance.confirmed.subscribe(n=>{n&&this.copydata(t)}),a.afterClosed().subscribe(n=>{this.getMondayData="",this.getTuesdayData="",this.getWednesdayData="",this.getThursdayData="",this.getFridayData="",this.getSaturdayData=""})}copydata(t){let a=[];"Monday"==t?this.monday=[]:"Tuesday"==t?this.tuesday=[]:"Wednesday"==t?this.wednesday=[]:"Thursday"==t?this.thursday=[]:"Friday"==t?this.friday=[]:"Saturday"==t?this.saturday=[]:"Sunday"==t&&(this.sunday=[]),"Monday"==this.getSundayData||"Monday"==this.getTuesdayData||"Monday"==this.getWednesdayData||"Monday"==this.getThursdayData||"Monday"==this.getFridayData||"Monday"==this.getSaturdayData?[...this.monday].forEach(o=>{let d={...o,day:t,id:void 0};a.push(d)}):"Tuesday"==this.getSundayData||"Tuesday"==this.getMondayData||"Tuesday"==this.getWednesdayData||"Tuesday"==this.getThursdayData||"Tuesday"==this.getFridayData||"Tuesday"==this.getSaturdayData?[...this.tuesday].forEach(o=>{let d={...o,day:t,id:void 0};a.push(d)}):"Wednesday"==this.getSundayData||"Wednesday"==this.getMondayData||"Wednesday"==this.getTuesdayData||"Wednesday"==this.getThursdayData||"Wednesday"==this.getFridayData||"Wednesday"==this.getSaturdayData?[...this.wednesday].forEach(o=>{let d={...o,day:t,id:void 0};a.push(d)}):"Thursday"==this.getSundayData||"Thursday"==this.getMondayData||"Thursday"==this.getTuesdayData||"Thursday"==this.getWednesdayData||"Thursday"==this.getFridayData||"Thursday"==this.getSaturdayData?[...this.thursday].forEach(o=>{let d={...o,day:t,id:void 0};a.push(d)}):"Friday"==this.getSundayData||"Friday"==this.getMondayData||"Friday"==this.getTuesdayData||"Friday"==this.getWednesdayData||"Friday"==this.getThursdayData||"Friday"==this.getSaturdayData?[...this.friday].forEach(o=>{let d={...o,day:t,id:void 0};a.push(d)}):"Saturday"==this.getSundayData||"Saturday"==this.getMondayData||"Saturday"==this.getTuesdayData||"Saturday"==this.getWednesdayData||"Saturday"==this.getThursdayData||"Saturday"==this.getFridayData?[...this.saturday].forEach(o=>{let d={...o,day:t,id:void 0};a.push(d)}):("Sunday"==this.getMondayData||"Sunday"==this.getTuesdayData||"Sunday"==this.getWednesdayData||"Sunday"==this.getThursdayData||"Sunday"==this.getFridayData||"Sunday"==this.getSaturdayData)&&[...this.saturday].forEach(o=>{let d={...o,day:t,id:void 0};a.push(d)}),"Monday"==t?this.monday=[...a]:"Tuesday"==t?this.tuesday=[...a]:"Wednesday"==t?this.wednesday=[...a]:"Thursday"==t?this.thursday=[...a]:"Friday"==t?this.friday=[...a]:"Saturday"==t?this.saturday=[...a]:"Sunday"==t&&(this.sunday=[...a]),this.getMondayData="",this.getTuesdayData="",this.getWednesdayData="",this.getThursdayData="",this.getFridayData="",this.getSaturdayData=""}addNew(){const t=this.tabs[this.selectedTab];"Monday"==t?0!=this.monday.length?this.monday[this.monday.length-1].intervalFrom&&this.monday[this.monday.length-1].intervalTo&&(this.monday[this.monday.length-1].subjectId&&this.monday[this.monday.length-1].userId||this.monday[this.monday.length-1].isBreak)?this.monday.push({day:"MONDAY"}):this.toastr.error("Fill the Details First"):this.monday.push({day:"MONDAY"}):"Tuesday"==t?0!=this.tuesday.length?this.tuesday[this.tuesday.length-1].intervalFrom&&this.tuesday[this.tuesday.length-1].intervalTo&&(this.tuesday[this.tuesday.length-1].subjectId&&this.tuesday[this.tuesday.length-1].userId||this.tuesday[this.tuesday.length-1].isBreak)?this.tuesday.push({day:"TUESDAY"}):this.toastr.error("Fill the Details First"):this.tuesday.push({day:"TUESDAY"}):"Wednesday"==t?0!=this.wednesday.length?this.wednesday[this.wednesday.length-1].intervalFrom&&this.wednesday[this.wednesday.length-1].intervalTo&&(this.wednesday[this.wednesday.length-1].subjectId&&this.wednesday[this.wednesday.length-1].userId||this.wednesday[this.wednesday.length-1].isBreak)?this.wednesday.push({day:"WEDNESDAY"}):this.toastr.error("Fill the Details First"):this.wednesday.push({day:"WEDNESDAY"}):"Thursday"==t?0!=this.thursday.length?this.thursday[this.thursday.length-1].intervalFrom&&this.thursday[this.thursday.length-1].intervalTo&&(this.thursday[this.thursday.length-1].subjectId&&this.thursday[this.thursday.length-1].userId||this.thursday[this.thursday.length-1].isBreak)?this.thursday.push({day:"THURSDAY"}):this.toastr.error("Fill the Details First"):this.thursday.push({day:"THURSDAY"}):"Friday"==t?0!=this.friday.length?this.friday[this.friday.length-1].intervalFrom&&this.friday[this.friday.length-1].intervalTo&&(this.friday[this.friday.length-1].subjectId&&this.friday[this.friday.length-1].userId||this.friday[this.friday.length-1].isBreak)?this.friday.push({day:"FRIDAY"}):this.toastr.error("Fill the Details First"):this.friday.push({day:"FRIDAY"}):"Saturday"==t?0!=this.saturday.length?this.saturday[this.saturday.length-1].intervalFrom&&this.saturday[this.saturday.length-1].intervalTo&&(this.saturday[this.saturday.length-1].subjectId&&this.saturday[this.saturday.length-1].userId||this.saturday[this.saturday.length-1].isBreak)?this.saturday.push({day:"SATURDAY"}):this.toastr.error("Fill the Details First"):this.saturday.push({day:"SATURDAY"}):"Sunday"==t&&(0!=this.sunday.length?this.sunday[this.sunday.length-1].intervalFrom&&this.sunday[this.saturday.length-1].intervalTo&&(this.sunday[this.saturday.length-1].subjectId&&this.sunday[this.sunday.length-1].userId||this.sunday[this.sunday.length-1].isBreak)?this.sunday.push({day:"SUNDAY"}):this.toastr.error("Fill the Details First"):this.sunday.push({day:"SUNDAY"}))}removePeriod(t,a){"monday"==t?this.monday.splice(a,1):"tuesday"==t?this.tuesday.splice(a,1):"wednesday"==t?this.wednesday.splice(a,1):"thursday"==t?this.thursday.splice(a,1):"friday"==t?this.friday.splice(a,1):"saturday"==t?this.saturday.splice(a,1):"sunday"==t&&this.sunday.splice(a,1)}onSubmit(){if(this.isTimeTableFormVisible&&this.timeTableForm.control.markAllAsTouched(),!this.timeTableForm.form.valid)return;let t=this.validateAndMergeArrays();if(t&&t.length>0)if(this.data.periods=t,"Edit"==this.status){const a=this.instituteService.updateTimeTable(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.router.navigateByUrl("/app/institute/time-table")):this.toastr.error(n.message),a.unsubscribe()})}else{const a=this.instituteService.saveTimeTable(this.data).subscribe(n=>{200==n.code?(this.toastr.success(n.message),this.router.navigateByUrl("/app/institute/time-table")):this.toastr.error(n.message),a.unsubscribe()})}}cancel(){this.router.navigateByUrl("/app/institute/time-table")}validateAndMergeArrays(){const t=[this.monday,this.tuesday,this.wednesday,this.thursday,this.friday,this.saturday],a=[],n=d=>d.isBreak?!d.intervalFrom||!d.intervalTo||!d.periodName:!d.intervalFrom||!d.intervalTo||0===d.subjectId||0===d.userId;let o=!1;for(const d of t){for(let c=0;c<d.length;c++)if(d[c].intervalFrom||d[c].intervalTo||d[c].subjectId||d[c].userId||d[c].isBreak){if(n(d[c])){this.toastr.error("Fill All Data of "+d[c].day),o=!0;break}a.push(d[c])}else d.splice(c,1);if(o)break}if(!o)return a}generateTimeSlots(){for(let t=0;t<24;t++)for(let a=0;a<60;a+=30){let o=t%12;0===o&&(o=12),this.timeSlots.push(`${o}:${0===a?"00":"30"}${t<12?"AM":"PM"}`)}}filterSubjects(){this.data.associationId?(this.filteredSubjects=this.subjects.filter(t=>t.associationIds&&t.associationIds.length>0&&t.associationIds.findIndex(a=>a==this.data.associationId)>-1),0==this.filteredSubjects.length&&this.toastr.error("There is no subject linked with selected class")):this.filteredSubjects=[]}compareTimes(t,a){return this.convertTo24HourFormat(t)<this.convertTo24HourFormat(a)}convertTo24HourFormat(t){const[a,n]=t.split(" "),[o,d]=a.split(":").map(Number);let c=o;"PM"===n&&o<12?c+=12:"AM"===n&&12===o&&(c=0);const y=new Date;return y.setHours(c,d,0,0),y}periodTimeTo(t,a){"MONDAY"==t?this.compareTimes(this.monday[a].intervalTo,this.monday[a].intervalFrom)&&(this.monday[a].intervalTo=void 0):"TUESDAY"==t?this.compareTimes(this.tuesday[a].intervalTo,this.tuesday[a].intervalFrom)&&(this.tuesday[a].intervalTo=void 0):"WEDNESDAY"==t?this.compareTimes(this.wednesday[a].intervalTo,this.wednesday[a].intervalFrom)&&(this.wednesday[a].intervalTo=void 0):"THURSDAY"==t?this.compareTimes(this.thursday[a].intervalTo,this.thursday[a].intervalFrom)&&(this.thursday[a].intervalTo=void 0):"FRIDAY"==t?this.compareTimes(this.friday[a].intervalTo,this.friday[a].intervalFrom)&&(this.friday[a].intervalTo=void 0):"SATURDAY"==t?this.compareTimes(this.saturday[a].intervalTo,this.saturday[a].intervalFrom)&&(this.saturday[a].intervalTo=void 0):"SUNDAY"==t&&this.compareTimes(this.sunday[a].intervalTo,this.sunday[a].intervalFrom)&&(this.sunday[a].intervalTo=void 0)}validatePeriodsTimeTo(t,a){if("MONDAY"==t&&this.monday.length>1)for(let n=1;n<=this.monday.length;n++)this.compareTimes(this.monday[n].intervalFrom,this.monday[n-1].intervalTo)&&(this.monday[n].intervalFrom=void 0);else if("TUESDAY"==t&&this.tuesday.length>1)for(let n=1;n<=this.tuesday.length;n++)this.compareTimes(this.tuesday[n].intervalFrom,this.tuesday[n-1].intervalTo)&&(this.tuesday[n].intervalFrom=void 0);else if("WEDNESDAY"==t&&this.wednesday.length>1)for(let n=1;n<=this.wednesday.length;n++)this.compareTimes(this.wednesday[n].intervalFrom,this.wednesday[n-1].intervalTo)&&(this.wednesday[n].intervalFrom=void 0);else if("THURSDAY"==t&&this.thursday.length>1)for(let n=1;n<=this.thursday.length;n++)this.compareTimes(this.thursday[n].intervalFrom,this.thursday[n-1].intervalTo)&&(this.thursday[n].intervalFrom=void 0);else if("FRIDAY"==t&&this.friday.length>1)for(let n=1;n<=this.friday.length;n++)this.compareTimes(this.friday[n].intervalFrom,this.friday[n-1].intervalTo)&&(this.friday[n].intervalFrom=void 0);else if("SATURDAY"==t&&this.saturday.length>1)for(let n=1;n<=this.saturday.length;n++)this.compareTimes(this.saturday[n].intervalFrom,this.saturday[n-1].intervalTo)&&(this.saturday[n].intervalFrom=void 0);else if("SUNDAY"==t&&this.sunday.length>1)for(let n=1;n<=this.sunday.length;n++)this.compareTimes(this.sunday[n].intervalFrom,this.sunday[n-1].intervalTo)&&(this.sunday[n].intervalFrom=void 0)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(un.K),e.Y36(x.$),e.Y36(_.F0),e.Y36(C._W),e.Y36(B.j),e.Y36(_.gz),e.Y36(b.$),e.Y36(f.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-time-table"]],viewQuery:function(a,n){if(1&a&&e.Gf(pn,5),2&a){let o;e.iGM(o=e.CRH())&&(n.timeTableForm=o.first)}},decls:30,vars:10,consts:[[1,"p-3"],[1,"title"],[1,"subjectd","mb-0","card"],[3,"ngSubmit"],["timeTableForm","ngForm"],[1,"row"],[1,"col-4"],[1,"form-field","mt-3"],[1,"label"],["type","text","name","class","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange","change"],["class","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","validation-error",4,"ngIf"],[1,"p-1","mt-3","mb-1",2,"border-radius","8px"],[1,"days",3,"selectedIndex","selectedIndexChange"],[3,"label",4,"ngFor","ngForOf"],[1,"m-0"],[1,"p-3","d-flex","justify-content-between"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle","me-2"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[3,"value"],[1,"validation-error"],[3,"label"],["class","p-3","style","background-color: #E9EDF4;",4,"ngIf"],[1,"p-3",2,"background-color","#E9EDF4"],[1,"d-flex","justify-content-end","align-items-center","w-100"],[1,"me-2",2,"font-size","13px"],["name","copy",1,"form-select-sm",3,"ngModel","ngModelChange","change"],["value",""],[1,"text-secondary"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"w-100",2,"margin-right","10px"],["class","form-field mt-2",4,"ngIf"],[1,"form-field","mt-2"],["name","teacher","appendTo","body",3,"ngModel","ngModelChange"],[4,"ngIf"],["name","intervalTo","readonly","",1,"form-control",3,"ngxTimepicker","ngModel","min","max","disabled","ngModelChange"],["intervalTo","ngModel"],["picker",""],[1,"w-100","d-flex","justify-content-center",2,"max-width","100px"],["type","checkbox","title","break","name","break",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"pt-4","ps-3","mt-1"],["title","Delete",1,"fa","fa-trash","text-danger","pointer","me-3","mb-1",3,"click"],["name","subject","appendTo","body",3,"ngModel","ngModelChange"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["readonly","",1,"form-control",3,"ngxTimepicker","ngModel","min","max","ngModelChange"],["intervalFrom","ngModel"],["title","Delete",1,"fa","fa-trash","text-danger","pointer",3,"click"],["readonly","",1,"form-control",3,"ngxTimepicker","min","max","ngModel","ngModelChange"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2),e.qZA()(),e.TgZ(3,"div",2)(4,"div",0)(5,"form",3,4),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11,"Class*"),e.qZA(),e.TgZ(12,"select",9,10),e.NdJ("ngModelChange",function(d){return n.data.associationId=d})("change",function(){return n.filterSubjects()}),e.YNc(14,gn,2,2,"option",11),e.qZA(),e.YNc(15,hn,2,0,"p",12),e.qZA()()()(),e.TgZ(16,"div",13)(17,"mat-tab-group",14),e.NdJ("selectedIndexChange",function(d){return n.onTabChange(d)}),e.YNc(18,Mi,8,8,"mat-tab",15),e.qZA()()(),e._UZ(19,"hr",16),e.TgZ(20,"div",17)(21,"div")(22,"button",18),e.NdJ("click",function(){return n.addNew()}),e._UZ(23,"i",19),e._uU(24,"Add New"),e.qZA()(),e.TgZ(25,"div")(26,"button",20),e.NdJ("click",function(){return n.cancel()}),e._uU(27,"Cancel"),e.qZA(),e.TgZ(28,"button",21),e.NdJ("click",function(){return n.onSubmit()}),e._uU(29),e.qZA()()()()),2&a){const o=e.MAs(13);e.xp6(2),e.hij("",n.status," Time Table"),e.xp6(10),e.Q6J("ngModel",n.data.associationId)("ngClass",e.VKq(8,wi,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngForOf",n.classes),e.xp6(1),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(2),e.Q6J("selectedIndex",n.selected.value),e.xp6(1),e.Q6J("ngForOf",n.tabs),e.xp6(11),e.Oqu("Add"==n.status?"Save":"Update")}},dependencies:[h.mk,h.sg,h.O5,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r.JJ,r.JL,r.Q7,r.On,r.F,oe.uX,oe.SP,de.w9,de.jq,Q.ro,Q.I2],styles:["label[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:400}.days[_ngcontent-%COMP%]{max-height:50vh;overflow:auto}  .mdc-tab-indicator .mdc-tab-indicator__content--underline{background-color:#00f!important}.custom-select[_ngcontent-%COMP%]{height:40px;padding:5px;font-size:16px;border:1px solid #ccc;border-radius:4px}.form-control[_ngcontent-%COMP%]:disabled{background-color:#fff}.form-select-sm[_ngcontent-%COMP%]{width:100px;height:28px;border:none}.form-select-sm[_ngcontent-%COMP%]:active{border:none}.form-select-sm[_ngcontent-%COMP%]:focus-visible{border:none}"]})}return i})();var A=g(9585);const qi=["holidayForm"];function Di(i,s){1&i&&(e.TgZ(0,"p",22),e._uU(1," Title is required "),e.qZA())}function Ni(i,s){1&i&&(e.TgZ(0,"p",22),e._uU(1," Start Date is required "),e.qZA())}function Ji(i,s){1&i&&(e.TgZ(0,"p",22),e._uU(1," End Date is required "),e.qZA())}const se=function(i){return{"is-invalid":i}};let me=(()=>{class i{constructor(t,a,n,o){this.dialogRef=t,this.details=a,this.instituteService=n,this.toastr=o,this.status="Add",this.data={},this.isHolidayFormVisible=!0,this.confirmed=new e.vpe}ngOnInit(){if(this.details.id){this.status="Edit";const t=this.instituteService.getHolidayById(this.details.id).subscribe(a=>{this.data=a.data,t.unsubscribe()})}}close(){this.dialogRef.close()}onSubmit(){if(this.isHolidayFormVisible&&this.holidayForm.control.markAllAsTouched(),this.holidayForm.form.valid)if(this.details.id){const t=this.instituteService.updateHoliday(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}else{const t=this.instituteService.saveHoliday(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}}setEndTime(){this.data.startDate&&!this.data.endDate?this.data.endDate=this.data.startDate:this.data.startDate&&this.data.endDate&&(this.data.startDate<=this.data.endDate||(this.data.endDate=this.data.startDate))}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.so),e.Y36(f.WI),e.Y36(x.$),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-holiday"]],viewQuery:function(a,n){if(1&a&&e.Gf(qi,5),2&a){let o;e.iGM(o=e.CRH())&&(n.holidayForm=o.first)}},outputs:{confirmed:"confirmed"},decls:38,vars:19,consts:[[1,"card","mb-0"],[1,"p-3","d-flex","justify-content-between","align-items-center"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[1,"p-3"],["holidayForm","ngForm"],[1,"form-field","mt-2"],[1,"label"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","validation-error ",4,"ngIf"],[1,"form-field","mt-4"],["type","date","name","startDate","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["startDate","ngModel"],["type","date","name","endDate","required","",1,"form-control",3,"ngModel","min","ngClass","ngModelChange"],["endDate","ngModel"],["type","text","name","description","rows","2",1,"form-control","h-100",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"validation-error"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return n.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"div",5)(7,"form",null,6)(9,"div",7)(10,"label",8),e._uU(11,"Title*"),e.qZA(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(d){return n.data.title=d}),e.qZA(),e.YNc(14,Di,2,0,"p",11),e.qZA(),e.TgZ(15,"div",12)(16,"label",8),e._uU(17,"Start Date*"),e.qZA(),e.TgZ(18,"input",13,14),e.NdJ("ngModelChange",function(d){return n.data.startDate=d})("change",function(){return n.setEndTime()}),e.qZA(),e.YNc(20,Ni,2,0,"p",11),e.qZA(),e.TgZ(21,"div",12)(22,"label",8),e._uU(23,"End Date*"),e.qZA(),e.TgZ(24,"input",15,16),e.NdJ("ngModelChange",function(d){return n.data.endDate=d}),e.qZA(),e.YNc(26,Ji,2,0,"p",11),e.qZA(),e.TgZ(27,"div",12)(28,"label",8),e._uU(29,"Description"),e.qZA(),e.TgZ(30,"textarea",17,18),e.NdJ("ngModelChange",function(d){return n.data.description=d}),e.qZA()()()(),e._UZ(32,"hr",4),e.TgZ(33,"div",19)(34,"button",20),e.NdJ("click",function(){return n.close()}),e._uU(35,"Cancel"),e.qZA(),e.TgZ(36,"button",21),e.NdJ("click",function(){return n.onSubmit()}),e._uU(37),e.qZA()()()),2&a){const o=e.MAs(13),d=e.MAs(19),c=e.MAs(25);e.xp6(3),e.hij("",n.status," Holiday"),e.xp6(9),e.Q6J("ngModel",n.data.title)("ngClass",e.VKq(13,se,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(4),e.Q6J("ngModel",n.data.startDate)("ngClass",e.VKq(15,se,d.touched&&d.errors&&d.errors.required)),e.xp6(2),e.Q6J("ngIf",d.touched&&d.errors&&d.errors.required),e.xp6(4),e.Q6J("ngModel",n.data.endDate)("min",n.data.startDate)("ngClass",e.VKq(17,se,c.touched&&c.errors&&c.errors.required)),e.xp6(2),e.Q6J("ngIf",c.touched&&c.errors&&c.errors.required),e.xp6(4),e.Q6J("ngModel",n.data.description),e.xp6(7),e.Oqu("Add"==n.status?"Save":"Update")}},dependencies:[h.mk,h.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F]})}return i})();function ki(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addHoliday())}),e._UZ(1,"i",13),e._uU(2,"\xa0\xa0Add Holiday "),e.qZA()}}function Fi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.editHoliday(n.id))}),e.TgZ(2,"mat-icon",27),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.deleteHoliday(n.id))}),e.TgZ(5,"mat-icon",29),e._uU(6,"delete"),e.qZA()()()}}function Ui(i,s){if(1&i&&(e.TgZ(0,"div",16)(1,"mat-card",17)(2,"div",18),e.YNc(3,Fi,7,0,"a",19),e.qZA(),e.TgZ(4,"div",20)(5,"div",21)(6,"div",22)(7,"span",23),e._uU(8,"Title"),e.qZA()(),e.TgZ(9,"div",24)(10,"div",25),e._uU(11),e.qZA()()()()()()),2&i){const t=s.$implicit,a=e.oxw(2);e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==a.role),e.xp6(7),e.Q6J("title",t.title),e.xp6(1),e.Oqu(t.title)}}function Ii(i,s){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,Ui,12,3,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredHolidays)}}function Ei(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Qi(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(t)}}function Yi(i,s){if(1&i&&(e.TgZ(0,"div",39)(1,"span"),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&i){const t=s.value;e.xp6(2),e.Oqu(e.xi3(3,1,t,"dd-MM-yyyy"))}}function Si(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(e.xi3(2,1,t,"dd-MM-yyyy"))}}function Oi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",41)(1,"i",42),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(3);return e.KtG(d.editHoliday(o))}),e.qZA(),e.TgZ(2,"i",43),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(3);return e.KtG(d.deleteHoliday(o))}),e.qZA()()}}function Hi(i,s){1&i&&(e.TgZ(0,"ngx-datatable-column",40),e.YNc(1,Oi,3,0,"ng-template",34),e.qZA()),2&i&&e.Q6J("width",200)}function Bi(i,s){if(1&i&&(e.TgZ(0,"div",30)(1,"ngx-datatable",31,32)(3,"ngx-datatable-column",33),e.YNc(4,Ei,2,1,"ng-template",34),e.qZA(),e.TgZ(5,"ngx-datatable-column",35),e.YNc(6,Qi,2,1,"ng-template",34),e.qZA(),e.TgZ(7,"ngx-datatable-column",36),e.YNc(8,Yi,4,4,"ng-template",34),e.qZA(),e.TgZ(9,"ngx-datatable-column",37),e.YNc(10,Si,3,4,"ng-template",34),e.qZA(),e.YNc(11,Hi,2,1,"ngx-datatable-column",38),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredHolidays)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","INSTITUTE_ADMIN"==t.role)}}let $i=(()=>{class i{constructor(t,a,n,o,d){this.dialog=t,this.instituteService=a,this.toastr=n,this.router=o,this.authService=d,this.toggleValue="table",this.holidays=[],this.filteredHolidays=[],this.filterHolidaytext="",this.resultsLength=0,this.role="",this.ColumnMode=A.hq}ngOnInit(){this.role=this.authService.role,this.loadTableData()}loadTableData(){const t=this.instituteService.getHolidays().subscribe(a=>{a&&(this.holidays=a.data,this.filteredHolidays=a.data),t.unsubscribe()})}filterHoliday(){if(this.filterHolidaytext?.length>0){let t=this.filterHolidaytext.toLowerCase();this.filteredHolidays=this.holidays.filter(a=>a.title&&a.title.toLowerCase().includes(t))}else this.filteredHolidays=[...this.holidays]}addHoliday(){this.dialog.open(me,{width:"50%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(a=>{a&&this.loadTableData()})}editHoliday(t){this.dialog.open(me,{width:"50%",autoFocus:!1,data:{id:t}}).componentInstance.confirmed.subscribe(n=>{n&&this.loadTableData()})}deleteHoliday(t){this.dialog.open(q.z,{width:"50%",autoFocus:!1,data:{title:"Delete Holiday",message:"Are you sure you want to delete the selected holiday?"}}).componentInstance.confirmed.subscribe(n=>{n&&this.instituteService.deleteHoliday(t).subscribe(d=>{200==d.code?(this.loadTableData(),this.toastr.success(d.message)):this.toastr.error(d.message)})})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.uw),e.Y36(x.$),e.Y36(C._W),e.Y36(_.F0),e.Y36(b.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-holiday"]],decls:16,vars:4,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"input-group","flex-nowrap"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Holiday","type","text","name","searchTeacher",1,"form-control",2,"width","350px",3,"ngModel","ngModelChange","keyup"],["searchTeacher","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"mt-4"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Title","prop","title",3,"width"],["name","Start Date","prop","startDate",3,"width"],["name","End Date","prop","endDate",3,"width"],["name","Action","prop","id",3,"width",4,"ngIf"],[1,"d-flex","align-items-center"],["name","Action","prop","id",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Holiday"),e.qZA(),e.YNc(3,ki,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div")(8,"div",5)(9,"span",6)(10,"i",7),e._uU(11,"search"),e.qZA()(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(d){return n.filterHolidaytext=d})("keyup",function(){return n.filterHoliday()}),e.qZA()()()(),e.YNc(14,Ii,2,1,"div",10),e.YNc(15,Bi,12,11,"div",11),e.qZA()),2&a&&(e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(9),e.Q6J("ngModel",n.filterHolidaytext),e.xp6(2),e.Q6J("ngIf","card"==n.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==n.toggleValue))},dependencies:[h.sg,h.O5,F.RK,p.Hw,r.Fj,r.JJ,r.On,J.a8,A.nE,A.UC,A.vq,h.uU],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return i})();const Gi=["bookForm"];function Ri(i,s){1&i&&(e.TgZ(0,"p",32),e._uU(1," Name is required "),e.qZA())}const ji=function(i){return{"is-invalid":i}};let ue=(()=>{class i{constructor(t,a,n,o){this.dialogRef=t,this.details=a,this.instituteService=n,this.toastr=o,this.status="Add",this.data={},this.isBookFormVisible=!0,this.confirmed=new e.vpe}ngOnInit(){if(this.details.id){const t=this.instituteService.getBookDetailById(this.details.id).subscribe(a=>{200==a.code?this.data=a.data:this.toastr.error(a.message),t.unsubscribe()})}}onSubmit(){if(this.isBookFormVisible&&this.bookForm.control.markAllAsTouched(),this.bookForm.form.valid)if(this.details.id){const t=this.instituteService.upadteBook(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}else{const t=this.instituteService.saveBook(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}}close(){this.dialogRef.close()}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.so),e.Y36(f.WI),e.Y36(x.$),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-book"]],viewQuery:function(a,n){if(1&a&&e.Gf(Gi,5),2&a){let o;e.iGM(o=e.CRH())&&(n.bookForm=o.first)}},outputs:{confirmed:"confirmed"},decls:62,vars:15,consts:[[1,"card","mb-0"],[1,"p-3","d-flex","justify-content-between","align-items-center"],[1,"title"],[1,"fa-regular","fa-x"],[1,"m-0"],["bookForm","ngForm"],[1,"p-3"],[1,"row"],[1,"form-field","mt-2","col-6"],[1,"label"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","validation-error ",4,"ngIf"],["type","text","name","bookNo",1,"form-control",3,"ngModel","ngModelChange"],["bookNo","ngModel"],["type","text","name","publisher",1,"form-control",3,"ngModel","ngModelChange"],["publisher","ngModel"],["type","text","name","author",1,"form-control",3,"ngModel","ngModelChange"],["author","ngModel"],["type","text","name","rackNo",1,"form-control",3,"ngModel","ngModelChange"],["rackNo","ngModel"],["type","text","name","quantity",1,"form-control",3,"ngModel","ngModelChange"],["quantity","ngModel"],["type","text","name","available",1,"form-control",3,"ngModel","ngModelChange"],["available","ngModel"],["type","number","name","price",1,"form-control",3,"ngModel","ngModelChange"],["price","ngModel"],["type","date","name","postDate",1,"form-control",3,"ngModel","ngModelChange"],["postDate","ngModel"],[1,"p-3","d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"validation-error"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e._UZ(4,"i",3),e.qZA(),e._UZ(5,"hr",4),e.TgZ(6,"form",null,5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Name*"),e.qZA(),e.TgZ(13,"input",10,11),e.NdJ("ngModelChange",function(d){return n.data.name=d}),e.qZA(),e.YNc(15,Ri,2,0,"p",12),e.qZA(),e.TgZ(16,"div",8)(17,"label",9),e._uU(18,"Book Number"),e.qZA(),e.TgZ(19,"input",13,14),e.NdJ("ngModelChange",function(d){return n.data.bookNo=d}),e.qZA()(),e.TgZ(21,"div",8)(22,"label",9),e._uU(23,"Publisher"),e.qZA(),e.TgZ(24,"input",15,16),e.NdJ("ngModelChange",function(d){return n.data.publisher=d}),e.qZA()(),e.TgZ(26,"div",8)(27,"label",9),e._uU(28,"Author"),e.qZA(),e.TgZ(29,"input",17,18),e.NdJ("ngModelChange",function(d){return n.data.author=d}),e.qZA()(),e.TgZ(31,"div",8)(32,"label",9),e._uU(33,"Rack Number"),e.qZA(),e.TgZ(34,"input",19,20),e.NdJ("ngModelChange",function(d){return n.data.rackNo=d}),e.qZA()(),e.TgZ(36,"div",8)(37,"label",9),e._uU(38,"Quantity"),e.qZA(),e.TgZ(39,"input",21,22),e.NdJ("ngModelChange",function(d){return n.data.quantity=d}),e.qZA()(),e.TgZ(41,"div",8)(42,"label",9),e._uU(43,"Available"),e.qZA(),e.TgZ(44,"input",23,24),e.NdJ("ngModelChange",function(d){return n.data.available=d}),e.qZA()(),e.TgZ(46,"div",8)(47,"label",9),e._uU(48,"Price"),e.qZA(),e.TgZ(49,"input",25,26),e.NdJ("ngModelChange",function(d){return n.data.price=d}),e.qZA()(),e.TgZ(51,"div",8)(52,"label",9),e._uU(53,"Post Date"),e.qZA(),e.TgZ(54,"input",27,28),e.NdJ("ngModelChange",function(d){return n.data.postDate=d}),e.qZA()()()()(),e._UZ(56,"hr",4),e.TgZ(57,"div",29)(58,"button",30),e.NdJ("click",function(){return n.close()}),e._uU(59,"Cancel"),e.qZA(),e.TgZ(60,"button",31),e.NdJ("click",function(){return n.onSubmit()}),e._uU(61),e.qZA()()()),2&a){const o=e.MAs(14);e.xp6(3),e.hij("",n.status," Book"),e.xp6(10),e.Q6J("ngModel",n.data.name)("ngClass",e.VKq(13,ji,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(4),e.Q6J("ngModel",n.data.bookNo),e.xp6(5),e.Q6J("ngModel",n.data.publisher),e.xp6(5),e.Q6J("ngModel",n.data.author),e.xp6(5),e.Q6J("ngModel",n.data.rackNo),e.xp6(5),e.Q6J("ngModel",n.data.quantity),e.xp6(5),e.Q6J("ngModel",n.data.available),e.xp6(5),e.Q6J("ngModel",n.data.price),e.xp6(5),e.Q6J("ngModel",n.data.postDate),e.xp6(7),e.Oqu("Add"==n.status?"Save":"Update")}},dependencies:[h.mk,h.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.On,r.F],styles:[".label[_ngcontent-%COMP%]{left:21px}"]})}return i})();function Ki(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"mat-card",20)(2,"div",21)(3,"a")(4,"button",22),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.editBook(o.id))}),e.TgZ(5,"mat-icon",23),e._uU(6,"edit_square"),e.qZA()(),e.TgZ(7,"button",24),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.deleteBook(o.id))}),e.TgZ(8,"mat-icon",25),e._uU(9,"delete"),e.qZA()()()(),e.TgZ(10,"div",26)(11,"div",27)(12,"div",28)(13,"span",29),e._uU(14,"Name"),e.qZA()(),e.TgZ(15,"div",30)(16,"div",31),e._uU(17),e.qZA()()(),e.TgZ(18,"div",32)(19,"div",28)(20,"span",29),e._uU(21,"Phone"),e.qZA()(),e._UZ(22,"div",30),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(16),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name)}}function Pi(i,s){if(1&i&&(e.TgZ(0,"div",17),e.YNc(1,Ki,23,2,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredBooks)}}function Wi(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Vi(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(t)}}function Li(i,s){if(1&i&&e._UZ(0,"img",47),2&i){const t=e.oxw().row;e.Q6J("src",t.photoUrl,e.LSH)}}function zi(i,s){1&i&&e._UZ(0,"img",48)}function Xi(i,s){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,Li,1,1,"img",45),e.YNc(2,zi,1,0,"img",46),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&i){const t=s.value,a=s.row;e.xp6(1),e.Q6J("ngIf",a.photoUrl),e.xp6(1),e.Q6J("ngIf",!a.photoUrl),e.xp6(2),e.Oqu(t)}}function ea(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(t)}}function ta(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(t)}}function na(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(e.xi3(2,1,t,"dd MMM yyyy"))}}function ia(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"i",50),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(2);return e.KtG(d.editBook(o))}),e.qZA(),e.TgZ(2,"i",51),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(2);return e.KtG(d.deleteBook(o))}),e.qZA()()}}function aa(i,s){if(1&i&&(e.TgZ(0,"div",33)(1,"ngx-datatable",34,35)(3,"ngx-datatable-column",36),e.YNc(4,Wi,2,1,"ng-template",37),e.qZA(),e.TgZ(5,"ngx-datatable-column",38),e.YNc(6,Vi,2,1,"ng-template",37),e.qZA(),e.TgZ(7,"ngx-datatable-column",39),e.YNc(8,Xi,5,3,"ng-template",37),e.qZA(),e.TgZ(9,"ngx-datatable-column",40),e.YNc(10,ea,2,1,"ng-template",37),e.qZA(),e.TgZ(11,"ngx-datatable-column",41),e.YNc(12,ta,2,1,"ng-template",37),e.qZA(),e.TgZ(13,"ngx-datatable-column",42),e.YNc(14,na,3,4,"ng-template",37),e.qZA(),e.TgZ(15,"ngx-datatable-column",43),e.YNc(16,ia,3,0,"ng-template",37),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredBooks)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200)}}let oa=(()=>{class i{constructor(t,a,n,o){this.dialog=t,this.instituteService=a,this.toastr=n,this.router=o,this.toggleValue="table",this.books=[],this.filteredBooks=[],this.filterbooksText="",this.resultsLength=0,this.ColumnMode=A.hq}ngOnInit(){this.loadTableData()}loadTableData(){}filterTeachers(){if(this.filterbooksText?.length>0){let t=this.filterbooksText.toLowerCase();this.filteredBooks=this.books.filter(a=>a.name&&a.name.toLowerCase().includes(t))}else this.filteredBooks=[...this.books]}addBook(){this.dialog.open(ue,{width:"60%",autoFocus:!1,data:{}})}editBook(t){this.dialog.open(ue,{width:"60%",autoFocus:!1,data:{}})}deleteBook(t){this.dialog.open(q.z,{width:"50%",autoFocus:!1,data:{title:"Delete Book",message:"Are you sure you want to delete the selected book?"}}).componentInstance.confirmed.subscribe(n=>{})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.uw),e.Y36(x.$),e.Y36(C._W),e.Y36(_.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-book-dashboard"]],decls:25,vars:4,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","card"],["color","primary"],["value","table"],[1,"input-group","flex-nowrap"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Books","type","text","name","searchTeacher",1,"form-control",2,"width","350px",3,"ngModel","ngModelChange","keyup"],["searchTeacher","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],[1,"row","mt-2"],[1,"mt-4"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Teacher ID","prop","teacherId",3,"width"],["name","Name","prop","name",3,"width"],["name","Email","prop","email",3,"width"],["name","Phone","prop","phone",3,"width"],["name","Date of Joining","prop","doj",3,"width"],["name","Action","prop","id",3,"width"],[1,"d-flex","align-items-center"],["class","profile-img",3,"src",4,"ngIf"],["class","profile-img","src","https://placehold.jp/23/000000/ffffff/60x60.png?text=no+img",4,"ngIf"],[1,"profile-img",3,"src"],["src","https://placehold.jp/23/000000/ffffff/60x60.png?text=no+img",1,"profile-img"],[1,"d-flex"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Books"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.addBook()}),e._UZ(4,"i",3),e._uU(5,"\xa0\xa0Add Book "),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div")(9,"mat-button-toggle-group",6),e.NdJ("ngModelChange",function(d){return n.toggleValue=d}),e.TgZ(10,"mat-button-toggle",7)(11,"mat-icon",8),e._uU(12,"dashboard"),e.qZA()(),e.TgZ(13,"mat-button-toggle",9)(14,"mat-icon",8),e._uU(15,"table_rows_narrow"),e.qZA()()()(),e.TgZ(16,"div")(17,"div",10)(18,"span",11)(19,"i",12),e._uU(20,"search"),e.qZA()(),e.TgZ(21,"input",13,14),e.NdJ("ngModelChange",function(d){return n.filterbooksText=d})("keyup",function(){return n.filterTeachers()}),e.qZA()()()(),e.YNc(23,Pi,2,1,"div",15),e.YNc(24,aa,17,13,"div",16),e.qZA()),2&a&&(e.xp6(9),e.Q6J("ngModel",n.toggleValue),e.xp6(12),e.Q6J("ngModel",n.filterbooksText),e.xp6(2),e.Q6J("ngIf","card"==n.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==n.toggleValue))},dependencies:[h.sg,h.O5,F.RK,k.A9,k.Yi,p.Hw,r.Fj,r.JJ,r.On,J.a8,A.nE,A.UC,A.vq,h.uU]})}return i})();const da=["announcementForm"];function sa(i,s){1&i&&(e.TgZ(0,"p",23),e._uU(1," Title is required "),e.qZA())}function la(i,s){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}const ra=function(i){return{"is-invalid":i}};let pe=(()=>{class i{constructor(t,a,n,o,d){this.dialogRef=t,this.details=a,this.instituteService=n,this.classService=o,this.toastr=d,this.status="Add",this.data={},this.classes=[],this.selectUnselectText="Select All Class",this.isSelectAll=!1,this.isAnnouncementFormVisible=!0,this.confirmed=new e.vpe}ngOnInit(){const t=this.classService.getAllClasses().subscribe(a=>{200==a.code?(this.classes=a.data,this.loadTableData()):this.toastr.error(a.message),t.unsubscribe()})}loadTableData(){if(this.details.id){this.status="Edit";const t=this.instituteService.getAnnouncementById(this.details.id).subscribe(a=>{200==a.code?(this.data=a.data,this.data.associationIds?.length==this.classes.length&&(this.selectUnselectText="Unselect All Class",this.data.associationIds=this.classes.map(n=>n.id),this.isSelectAll=!0)):this.toastr.error(a.message),t.unsubscribe()})}}close(){this.dialogRef.close()}onSubmit(){if(this.isAnnouncementFormVisible&&this.announcementForm.control.markAllAsTouched(),this.announcementForm.form.valid)if(this.details.id){const t=this.instituteService.updateAnnouncement(this.data).subscribe(a=>{200==a.code?(this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}else{const t=this.instituteService.saveAnnoucement(this.data).subscribe(a=>{200==a.code?(this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}}checkAll(){this.data.associationIds?.length==this.classes.length?(this.data.associationIds=[],this.selectUnselectText="Select All Class"):(this.selectUnselectText="Unselect All Class",this.data.associationIds=this.classes.map(t=>t.id))}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.so),e.Y36(f.WI),e.Y36(x.$),e.Y36(B.j),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-announcement"]],viewQuery:function(a,n){if(1&a&&e.Gf(da,5),2&a){let o;e.iGM(o=e.CRH())&&(n.announcementForm=o.first)}},outputs:{confirmed:"confirmed"},decls:35,vars:12,consts:[[1,"card","mb-0"],[1,"p-3","d-flex","justify-content-between","align-items-center"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[1,"p-3"],["announcementForm","ngForm"],[1,"form-field","mt-2"],[1,"label"],["type","text","name","title","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","validation-error",4,"ngIf"],[1,"d-flex","justify-content-end","mt-2"],["id","check","type","checkbox","name","check",1,"me-2","mb-1","pointer",2,"align-self","flex-end",3,"ngModel","ngModelChange","change"],["multiple","","name","classes",1,"form-select",3,"ngModel","ngModelChange"],[1,"shadow-sm",2,"background-color","white","border","0.5px solid rgb(213, 212, 212)","border-radius","7px"],[3,"value",4,"ngFor","ngForOf"],[1,"form-field","mt-3"],["name","description","rows","2",1,"form-control","h-100",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"p-3","d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"validation-error"],[3,"value"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return n.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"div",5)(7,"form",null,6)(9,"div",7)(10,"label",8),e._uU(11,"Name*"),e.qZA(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(d){return n.data.title=d}),e.qZA(),e.YNc(14,sa,2,0,"p",11),e.qZA(),e.TgZ(15,"div",12)(16,"input",13),e.NdJ("ngModelChange",function(d){return n.isSelectAll=d})("change",function(){return n.checkAll()}),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"div",7)(19,"label",8),e._uU(20,"Class"),e.qZA(),e.TgZ(21,"mat-select",14),e.NdJ("ngModelChange",function(d){return n.data.associationIds=d}),e.TgZ(22,"div",15),e.YNc(23,la,2,2,"mat-option",16),e.qZA()()(),e.TgZ(24,"div",17)(25,"label",8),e._uU(26,"Description"),e.qZA(),e.TgZ(27,"textarea",18,19),e.NdJ("ngModelChange",function(d){return n.data.description=d}),e.qZA()()()(),e._UZ(29,"hr",4),e.TgZ(30,"div",20)(31,"button",21),e.NdJ("click",function(){return n.close()}),e._uU(32,"Cancel"),e.qZA(),e.TgZ(33,"button",22),e.NdJ("click",function(){return n.onSubmit()}),e._uU(34),e.qZA()()()),2&a){const o=e.MAs(13);e.xp6(3),e.hij("",n.status," Announcement"),e.xp6(9),e.Q6J("ngModel",n.data.title)("ngClass",e.VKq(10,ra,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(2),e.Q6J("ngModel",n.isSelectAll),e.xp6(1),e.hij("",n.selectUnselectText," "),e.xp6(4),e.Q6J("ngModel",n.data.associationIds),e.xp6(2),e.Q6J("ngForOf",n.classes),e.xp6(4),e.Q6J("ngModel",n.data.description),e.xp6(7),e.Oqu("Add"==n.status?"Save":"Update")}},dependencies:[h.mk,h.sg,h.O5,r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.Q7,r.On,r.F,S.gD,H.ey],styles:[".cdk-overlay-pane[_ngcontent-%COMP%]{left:475px}"]})}return i})();function ca(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addAnnouncement())}),e._UZ(1,"i",13),e._uU(2,"\xa0\xa0Add Announcement "),e.qZA()}}function _a(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.editAnnouncement(n.id))}),e.TgZ(2,"mat-icon",27),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.deleteAnnouncement(n.id))}),e.TgZ(5,"mat-icon",29),e._uU(6,"delete"),e.qZA()()()}}function ma(i,s){if(1&i&&(e.TgZ(0,"div",16)(1,"mat-card",17)(2,"div",18),e.YNc(3,_a,7,0,"a",19),e.qZA(),e.TgZ(4,"div",20)(5,"div",21)(6,"div",22)(7,"span",23),e._uU(8,"Title"),e.qZA()(),e.TgZ(9,"div",24)(10,"div",25),e._uU(11),e.qZA()()()()()()),2&i){const t=s.$implicit,a=e.oxw(2);e.xp6(3),e.Q6J("ngIf","STUDENT"!=a.role),e.xp6(7),e.Q6J("title",t.title),e.xp6(1),e.Oqu(t.title)}}function ua(i,s){if(1&i&&(e.TgZ(0,"div",14),e.YNc(1,ma,12,3,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredAnnouncement)}}function pa(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.rowIndex;e.xp6(1),e.Oqu(t+1)}}function ga(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(t)}}function ha(i,s){if(1&i&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&i){const t=s.value;e.Q6J("title",t),e.xp6(1),e.Oqu(t)}}function fa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"i",41),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(3);return e.KtG(d.editAnnouncement(o))}),e.qZA(),e.TgZ(2,"i",42),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(3);return e.KtG(d.deleteAnnouncement(o))}),e.qZA()()}}function Ta(i,s){1&i&&(e.TgZ(0,"ngx-datatable-column",39),e.YNc(1,fa,3,0,"ng-template",34),e.qZA()),2&i&&e.Q6J("width",200)}function va(i,s){if(1&i&&(e.TgZ(0,"div",30)(1,"ngx-datatable",31,32)(3,"ngx-datatable-column",33),e.YNc(4,pa,2,1,"ng-template",34),e.qZA(),e.TgZ(5,"ngx-datatable-column",35),e.YNc(6,ga,2,1,"ng-template",34),e.qZA(),e.TgZ(7,"ngx-datatable-column",36),e.YNc(8,ha,2,2,"ng-template",34),e.qZA(),e.YNc(9,Ta,2,1,"ngx-datatable-column",37),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredAnnouncement)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","STUDENT"!=t.role)}}let ba=(()=>{class i{constructor(t,a,n,o,d){this.dialog=t,this.instituteService=a,this.toastr=n,this.router=o,this.authService=d,this.toggleValue="table",this.announcement=[],this.filteredAnnouncement=[],this.filterAnnouncementText="",this.resultsLength=0,this.role="",this.ColumnMode=A.hq}ngOnInit(){this.role=this.authService.role,this.loadTableData()}loadTableData(){this.instituteService.getAnnouncemnets().subscribe(a=>{200==a.code?(this.announcement=a.data,this.filteredAnnouncement=a.data):this.toastr.error(a.message)})}filterAnnouncement(){if(this.filterAnnouncementText?.length>0){let t=this.filterAnnouncementText.toLowerCase();this.filteredAnnouncement=this.announcement.filter(a=>a.title&&a.title.toLowerCase().includes(t))}else this.filteredAnnouncement=[...this.announcement]}addAnnouncement(){this.dialog.open(pe,{width:"50%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(a=>{this.loadTableData()})}editAnnouncement(t){this.dialog.open(pe,{width:"50%",autoFocus:!1,data:{id:t}}).componentInstance.confirmed.subscribe(n=>{this.loadTableData()})}deleteAnnouncement(t){this.dialog.open(q.z,{width:"50%",autoFocus:!1,data:{title:"Delete Announcement",message:"Are you sure you want to delete the selected announcement?"}}).componentInstance.confirmed.subscribe(n=>{n&&this.instituteService.deleteAnnouncemnet(t).subscribe(d=>{200==d.code?(this.loadTableData(),this.toastr.success(d.message)):this.toastr.error(d.message)})})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.uw),e.Y36(x.$),e.Y36(C._W),e.Y36(_.F0),e.Y36(b.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-announcement"]],decls:16,vars:4,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"input-group","flex-nowrap"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search Announcement","type","text","name","searchAnnouncement",1,"form-control",2,"width","350px",3,"ngModel","ngModelChange","keyup"],["searchAnnouncement","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4 pt-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4","pt-4"],[1,"shadow","mt-4"],[1,"img-download"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"mt-4"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Title","prop","title",3,"width"],["name","Description","prop","description",3,"width"],["name","Action","prop","id",3,"width",4,"ngIf"],[1,"pointer","ellipse",3,"title"],["name","Action","prop","id",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Announcement"),e.qZA(),e.YNc(3,ca,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div")(8,"div",5)(9,"span",6)(10,"i",7),e._uU(11,"search"),e.qZA()(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(d){return n.filterAnnouncementText=d})("keyup",function(){return n.filterAnnouncement()}),e.qZA()()()(),e.YNc(14,ua,2,1,"div",10),e.YNc(15,va,10,10,"div",11),e.qZA()),2&a&&(e.xp6(3),e.Q6J("ngIf","STUDENT"!=n.role),e.xp6(9),e.Q6J("ngModel",n.filterAnnouncementText),e.xp6(2),e.Q6J("ngIf","card"==n.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==n.toggleValue))},dependencies:[h.sg,h.O5,F.RK,p.Hw,r.Fj,r.JJ,r.On,J.a8,A.nE,A.UC,A.vq],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.ellipse[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;max-width:300px}"]})}return i})();const xa=["feeForm"];function Ca(i,s){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Za(i,s){1&i&&(e.TgZ(0,"p",41),e._uU(1," Class is required "),e.qZA())}const Aa=function(i){return{"is-invalid":i}};let ge=(()=>{class i{constructor(t,a,n,o,d){this.classService=t,this.toastr=a,this.dialogRef=n,this.details=o,this.instituteService=d,this.status="Add ",this.data={},this.classes=[],this.isFeesFormVisible=!0,this.confirmed=new e.vpe}ngOnInit(){const t=this.classService.getAllClasses().subscribe(a=>{200==a.code?this.classes=a.data:this.toastr.error(a.message),t.unsubscribe()});if(this.details.id){this.status="Edit";const a=this.instituteService.getFeesById(this.details.id).subscribe(n=>{200==n.code?this.data=n.data:this.toastr.error(n.message),a.unsubscribe()})}}close(){this.dialogRef.close()}onSubmit(){if(this.isFeesFormVisible&&this.feeForm.control.markAllAsTouched(),this.feeForm.form.valid)if(this.details.id){const t=this.instituteService.updateFeesDeatils(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}else{const t=this.instituteService.saveFeesDeatils(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(B.j),e.Y36(C._W),e.Y36(f.so),e.Y36(f.WI),e.Y36(x.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-fees"]],viewQuery:function(a,n){if(1&a&&e.Gf(xa,5),2&a){let o;e.iGM(o=e.CRH())&&(n.feeForm=o.first)}},outputs:{confirmed:"confirmed"},decls:90,vars:19,consts:[[1,"d-flex","justify-content-between","align-items-center","p-3"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[1,"p-3"],["feeForm","ngForm"],[1,"row"],[1,"col-4"],[1,"form-field","mt-2"],[1,"label"],["type","text","name","name","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","validation-error",4,"ngIf"],["type","number","name","examinationFee",1,"form-control",3,"ngModel","ngModelChange"],["examinationFee","ngModel"],["type","number","name","libraryFee",1,"form-control",3,"ngModel","ngModelChange"],["libraryFee","ngModel"],[1,"form-field","mt-3"],["type","number","name","admissionFee",1,"form-control",3,"ngModel","ngModelChange"],["admissionFee","ngModel"],["type","number","name","activityFee",1,"form-control",3,"ngModel","ngModelChange"],["activityFee","ngModel"],["type","number","name","computerFee",1,"form-control",3,"ngModel","ngModelChange"],["computerFee","ngModel"],["type","number","name","hostelFee",1,"form-control",3,"ngModel","ngModelChange"],["hostelFee","ngModel"],["type","number","name","tuitionFee",1,"form-control",3,"ngModel","ngModelChange"],["tuitionFee","ngModel"],["type","number","name","transportFee",1,"form-control",3,"ngModel","ngModelChange"],["transportFee","ngModel"],["type","number","name","duesFee",1,"form-control",3,"ngModel","ngModelChange"],["duesFee","ngModel"],["type","number","name","otherFee",1,"form-control",3,"ngModel","ngModelChange"],["otherFee","ngModel"],["type","text","name","academicYear",1,"form-control",3,"ngModel","ngModelChange"],["academicYear","ngModel"],[1,"d-flex","justify-content-end","p-3"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"value"],[1,"validation-error"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3),e.qZA(),e.TgZ(4,"i",2),e.NdJ("click",function(){return n.close()}),e.qZA()(),e._UZ(5,"hr",3),e.TgZ(6,"div",4)(7,"form",null,5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13,"Class*"),e.qZA(),e.TgZ(14,"select",10,11),e.NdJ("ngModelChange",function(d){return n.data.associationId=d}),e.YNc(16,Ca,2,2,"option",12),e.qZA(),e.YNc(17,Za,2,0,"p",13),e.qZA()(),e.TgZ(18,"div",7)(19,"div",8)(20,"label",9),e._uU(21,"Examination Fee"),e.qZA(),e.TgZ(22,"input",14,15),e.NdJ("ngModelChange",function(d){return n.data.examinationFee=d}),e.qZA()()(),e.TgZ(24,"div",7)(25,"div",8)(26,"label",9),e._uU(27,"Library Fee"),e.qZA(),e.TgZ(28,"input",16,17),e.NdJ("ngModelChange",function(d){return n.data.libraryFee=d}),e.qZA()()(),e.TgZ(30,"div",7)(31,"div",18)(32,"label",9),e._uU(33,"Admission Fee"),e.qZA(),e.TgZ(34,"input",19,20),e.NdJ("ngModelChange",function(d){return n.data.admissionFee=d}),e.qZA()()(),e.TgZ(36,"div",7)(37,"div",18)(38,"label",9),e._uU(39,"Activity Fee"),e.qZA(),e.TgZ(40,"input",21,22),e.NdJ("ngModelChange",function(d){return n.data.activityFee=d}),e.qZA()()(),e.TgZ(42,"div",7)(43,"div",18)(44,"label",9),e._uU(45,"Computer Fee"),e.qZA(),e.TgZ(46,"input",23,24),e.NdJ("ngModelChange",function(d){return n.data.computerFee=d}),e.qZA()()(),e.TgZ(48,"div",7)(49,"div",18)(50,"label",9),e._uU(51,"Hostel Fee"),e.qZA(),e.TgZ(52,"input",25,26),e.NdJ("ngModelChange",function(d){return n.data.hostelFee=d}),e.qZA()()(),e.TgZ(54,"div",7)(55,"div",18)(56,"label",9),e._uU(57,"Tuition Fee"),e.qZA(),e.TgZ(58,"input",27,28),e.NdJ("ngModelChange",function(d){return n.data.tuitionFee=d}),e.qZA()()(),e.TgZ(60,"div",7)(61,"div",18)(62,"label",9),e._uU(63,"Transport Fee"),e.qZA(),e.TgZ(64,"input",29,30),e.NdJ("ngModelChange",function(d){return n.data.transportFee=d}),e.qZA()()(),e.TgZ(66,"div",7)(67,"div",18)(68,"label",9),e._uU(69,"Dues Fee"),e.qZA(),e.TgZ(70,"input",31,32),e.NdJ("ngModelChange",function(d){return n.data.duesFee=d}),e.qZA()()(),e.TgZ(72,"div",7)(73,"div",18)(74,"label",9),e._uU(75,"Other Fee"),e.qZA(),e.TgZ(76,"input",33,34),e.NdJ("ngModelChange",function(d){return n.data.otherFee=d}),e.qZA()()(),e.TgZ(78,"div",7)(79,"div",18)(80,"label",9),e._uU(81,"Academic Year"),e.qZA(),e.TgZ(82,"input",35,36),e.NdJ("ngModelChange",function(d){return n.data.academicYear=d}),e.qZA()()()()()(),e._UZ(84,"hr",3),e.TgZ(85,"div",37)(86,"button",38),e.NdJ("click",function(){return n.close()}),e._uU(87,"Close"),e.qZA(),e.TgZ(88,"button",39),e.NdJ("click",function(){return n.onSubmit()}),e._uU(89),e.qZA()()()),2&a){const o=e.MAs(15);e.xp6(3),e.hij("",n.status," Fees"),e.xp6(11),e.Q6J("ngModel",n.data.associationId)("ngClass",e.VKq(17,Aa,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngForOf",n.classes),e.xp6(1),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(5),e.Q6J("ngModel",n.data.examinationFee),e.xp6(6),e.Q6J("ngModel",n.data.libraryFee),e.xp6(6),e.Q6J("ngModel",n.data.admissionFee),e.xp6(6),e.Q6J("ngModel",n.data.activityFee),e.xp6(6),e.Q6J("ngModel",n.data.computerFee),e.xp6(6),e.Q6J("ngModel",n.data.hostelFee),e.xp6(6),e.Q6J("ngModel",n.data.tuitionFee),e.xp6(6),e.Q6J("ngModel",n.data.transportFee),e.xp6(6),e.Q6J("ngModel",n.data.duesFee),e.xp6(6),e.Q6J("ngModel",n.data.otherFee),e.xp6(6),e.Q6J("ngModel",n.data.academicYear),e.xp6(7),e.Oqu("Add"==n.status?"Update":"Save")}},dependencies:[h.mk,h.sg,h.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.Q7,r.On,r.F]})}return i})();function ya(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addFees())}),e._UZ(1,"i",14),e._uU(2,"\xa0\xa0Add Fees "),e.qZA()}}function Ma(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a")(1,"button",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.editFees(n.id))}),e.TgZ(2,"mat-icon",28),e._uU(3,"edit_square"),e.qZA()(),e.TgZ(4,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.deleteFees(n.id))}),e.TgZ(5,"mat-icon",30),e._uU(6,"delete"),e.qZA()()()}}function wa(i,s){if(1&i&&(e.TgZ(0,"div",17)(1,"mat-card",18)(2,"div",19),e.YNc(3,Ma,7,0,"a",20),e.qZA(),e.TgZ(4,"div",21)(5,"div",22)(6,"div",23)(7,"span",24),e._uU(8,"Class"),e.qZA()(),e.TgZ(9,"div",25)(10,"div",26),e._uU(11),e.qZA()()()()()()),2&i){const t=s.$implicit,a=e.oxw(2);e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==a.role),e.xp6(7),e.Q6J("title",t.associationName),e.xp6(1),e.Oqu(t.associationName)}}function qa(i,s){if(1&i&&(e.TgZ(0,"div",15),e.YNc(1,wa,12,3,"div",16),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredFees)}}function Da(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.rowIndex;e.xp6(1),e.Oqu(t+1)}}function Na(i,s){if(1&i&&(e.TgZ(0,"div",5)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=s.value;e.xp6(2),e.Oqu(t)}}function Ja(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(e.gM2(2,1,t,"INR","symbol","1.2-2"))}}function ka(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"i",41),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(3);return e.KtG(d.editFees(o))}),e.qZA(),e.TgZ(2,"i",42),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(3);return e.KtG(d.deleteFees(o))}),e.qZA()()}}function Fa(i,s){1&i&&(e.TgZ(0,"ngx-datatable-column",39),e.YNc(1,ka,3,0,"ng-template",35),e.qZA()),2&i&&e.Q6J("width",200)}function Ua(i,s){if(1&i&&(e.TgZ(0,"div",31)(1,"ngx-datatable",32,33)(3,"ngx-datatable-column",34),e.YNc(4,Da,2,1,"ng-template",35),e.qZA(),e.TgZ(5,"ngx-datatable-column",36),e.YNc(6,Na,3,1,"ng-template",35),e.qZA(),e.TgZ(7,"ngx-datatable-column",37),e.YNc(8,Ja,3,6,"ng-template",35),e.qZA(),e.YNc(9,Fa,2,1,"ngx-datatable-column",38),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredFees)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","INSTITUTE_ADMIN"==t.role)}}let Ia=(()=>{class i{constructor(t,a,n,o,d,c){this.dialog=t,this.instituteService=a,this.toastr=n,this.router=o,this.authService=d,this.classService=c,this.toggleValue="table",this.fees=[],this.filteredFees=[],this.filterFeestext="",this.resultsLength=0,this.role="",this.classes=[{id:0,name:"All"}],this.selectedClass=0,this.ColumnMode=A.hq}ngOnInit(){this.role=this.authService.role,this.loadTableData()}loadTableData(){const t=this.instituteService.getFeeDetails().subscribe(n=>{200==n.code?(this.fees=n.data,this.filteredFees=n.data):this.toastr.error(n.message),t.unsubscribe()}),a=this.classService.getAllClasses().subscribe(n=>{(n.code=200)?n.data.forEach(o=>{this.classes.push(o)}):this.toastr.error(n.message),a.unsubscribe()})}filterFees(){if(this.filteredFees=[...this.fees],this.filterFeestext?.length>0){let t=this.filterFeestext.toLowerCase();this.filteredFees=this.fees.filter(a=>a.name&&a.name.toLowerCase().includes(t))}this.selectedClass&&this.selectedClass>0&&(this.filteredFees=this.filteredFees.filter(t=>t.associationId&&t.associationId==this.selectedClass))}addFees(){this.dialog.open(ge,{width:"60%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(a=>{a&&this.loadTableData()})}editFees(t){this.dialog.open(ge,{width:"60%",autoFocus:!1,data:{id:t}}).componentInstance.confirmed.subscribe(n=>{n&&this.loadTableData()})}deleteFees(t){this.dialog.open(q.z,{width:"50%",autoFocus:!1,data:{title:"Delete Fees",message:"Are you sure you want to delete the selected fees?"}}).componentInstance.confirmed.subscribe(n=>{n&&this.instituteService.deleteFees(t).subscribe(d=>{200==d.code?(this.loadTableData(),this.toastr.success(d.message)):this.toastr.error(d.message)})})}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.uw),e.Y36(x.$),e.Y36(C._W),e.Y36(_.F0),e.Y36(b.$),e.Y36(B.j))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-fees-dashboard"]],decls:16,vars:4,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"input-group","flex-nowrap"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search","type","text","name","searchFee",1,"form-control",2,"width","350px",3,"ngModel","ngModelChange","keyup"],["searchFee","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"col-5"],[2,"font-weight","500"],[1,"col-6","ms-2"],[1,"ellipse",3,"title"],["mat-icon-button","","title","Edit",3,"click"],[2,"color","#8472FC"],["mat-icon-button","","title","Delete",3,"click"],[2,"color","#fa5757"],[1,"mt-4"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Class","prop","associationName",3,"width"],["name","Total Fee","prop","totalFee",3,"width"],["name","Action","prop","id",3,"width",4,"ngIf"],["name","Action","prop","id",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Fees"),e.qZA(),e.YNc(3,ya,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div",5)(8,"div",6)(9,"span",7)(10,"i",8),e._uU(11,"search"),e.qZA()(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(d){return n.filterFeestext=d})("keyup",function(){return n.filterFees()}),e.qZA()()()(),e.YNc(14,qa,2,1,"div",11),e.YNc(15,Ua,10,10,"div",12),e.qZA()),2&a&&(e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(9),e.Q6J("ngModel",n.filterFeestext),e.xp6(2),e.Q6J("ngIf","card"==n.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==n.toggleValue))},dependencies:[h.sg,h.O5,F.RK,p.Hw,r.Fj,r.JJ,r.On,J.a8,A.nE,A.UC,A.vq,h.H9],styles:[".form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.form-select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})}return i})();var Ea=g(2862);const Qa=["gradeForm"];function Ya(i,s){1&i&&(e.TgZ(0,"p",25),e._uU(1," Name is required "),e.qZA())}function Sa(i,s){1&i&&(e.TgZ(0,"p",25),e._uU(1," Min. Marks is required "),e.qZA())}function Oa(i,s){1&i&&(e.TgZ(0,"p",25),e._uU(1," Max. Marks is required "),e.qZA())}const le=function(i){return{"is-invalid":i}};let G=(()=>{class i{constructor(t,a,n,o){this.dialogRef=t,this.details=a,this.instituteService=n,this.toastr=o,this.data={examStatus:"ACTIVE"},this.status="Add",this.isGradeFormVisible=!0,this.confirmed=new e.vpe}ngOnInit(){if(this.details.id){this.status="Edit";const t=this.instituteService.getGradeById(this.details.id).subscribe(a=>{200==a.code?this.data=a.data:this.toastr.error(a.message),t.unsubscribe()})}}close(){this.dialogRef.close()}onSubmit(){if(this.isGradeFormVisible&&this.gradeForm.control.markAllAsTouched(),this.gradeForm.form.valid)if(this.details.id){const t=this.instituteService.updateGrade(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}else{const t=this.instituteService.saveGrade(this.data).subscribe(a=>{200==a.code?(this.toastr.success(a.message),this.confirmed.emit(!0),this.close()):this.toastr.error(a.message),t.unsubscribe()})}}setMinMarks(){this.data.maxMarks&&this.data.minMarks&&this.data.maxMarks<this.data.minMarks&&(this.data.minMarks=void 0)}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.so),e.Y36(f.WI),e.Y36(x.$),e.Y36(C._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-grade"]],viewQuery:function(a,n){if(1&a&&e.Gf(Qa,5),2&a){let o;e.iGM(o=e.CRH())&&(n.gradeForm=o.first)}},outputs:{confirmed:"confirmed"},decls:39,vars:18,consts:[[1,"card","mb-0"],[1,"d-flex","justify-content-between","align-items-center","p-3"],[1,"title"],[1,"fa-regular","fa-x","pointer",3,"click"],[1,"m-0"],[1,"p-3"],["gradeForm","ngForm"],[1,"form-field"],[1,"label"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["class","validation-error",4,"ngIf"],[1,"d-flex"],[1,"form-field","mt-4","w-100","me-2"],["type","number","name","minMarks","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","blur"],["minMarks","ngModel"],[1,"form-field","mt-4","w-100","ms-2"],["type","number","name","maxMarks","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","blur"],["maxMarks","ngModel"],[1,"form-field","mt-4"],["name","description","rows","2",1,"form-control","h-100",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"d-flex","justify-content-end","p-3"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary","ms-2",3,"click"],[1,"validation-error"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"i",3),e.NdJ("click",function(){return n.close()}),e.qZA()(),e._UZ(5,"hr",4),e.TgZ(6,"div",5)(7,"form",null,6)(9,"div",7)(10,"label",8),e._uU(11,"Name"),e.qZA(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(d){return n.data.name=d}),e.qZA(),e.YNc(14,Ya,2,0,"p",11),e.qZA(),e.TgZ(15,"div",12)(16,"div",13)(17,"label",8),e._uU(18,"Min. Marks"),e.qZA(),e.TgZ(19,"input",14,15),e.NdJ("ngModelChange",function(d){return n.data.minMarks=d})("blur",function(){return n.setMinMarks()}),e.qZA(),e.YNc(21,Sa,2,0,"p",11),e.qZA(),e.TgZ(22,"div",16)(23,"label",8),e._uU(24,"Max. Marks"),e.qZA(),e.TgZ(25,"input",17,18),e.NdJ("ngModelChange",function(d){return n.data.maxMarks=d})("blur",function(){return n.setMinMarks()}),e.qZA(),e.YNc(27,Oa,2,0,"p",11),e.qZA()(),e.TgZ(28,"div",19)(29,"label",8),e._uU(30,"Description"),e.qZA(),e.TgZ(31,"textarea",20,21),e.NdJ("ngModelChange",function(d){return n.data.description=d}),e.qZA()()()(),e._UZ(33,"hr",4),e.TgZ(34,"div",22)(35,"button",23),e.NdJ("click",function(){return n.close()}),e._uU(36,"Cancel"),e.qZA(),e.TgZ(37,"button",24),e.NdJ("click",function(){return n.onSubmit()}),e._uU(38),e.qZA()()()),2&a){const o=e.MAs(13),d=e.MAs(20),c=e.MAs(26);e.xp6(3),e.hij("",n.status," Grade"),e.xp6(9),e.Q6J("ngModel",n.data.name)("ngClass",e.VKq(12,le,o.touched&&o.errors&&o.errors.required)),e.xp6(2),e.Q6J("ngIf",o.touched&&o.errors&&o.errors.required),e.xp6(5),e.Q6J("ngModel",n.data.minMarks)("ngClass",e.VKq(14,le,d.touched&&d.errors&&d.errors.required)),e.xp6(2),e.Q6J("ngIf",d.touched&&d.errors&&d.errors.required),e.xp6(4),e.Q6J("ngModel",n.data.maxMarks)("ngClass",e.VKq(16,le,c.touched&&c.errors&&c.errors.required)),e.xp6(2),e.Q6J("ngIf",c.touched&&c.errors&&c.errors.required),e.xp6(4),e.Q6J("ngModel",n.data.description),e.xp6(7),e.Oqu("Add"==n.status?"Save":"Update")}},dependencies:[h.mk,h.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.On,r.F]})}return i})();function Ha(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addGrade())}),e._UZ(1,"i",14),e._uU(2,"\xa0\xa0Add Grade "),e.qZA()}}function Ba(i,s){1&i&&e._UZ(0,"a")}function $a(i,s){if(1&i&&(e.TgZ(0,"div",17)(1,"mat-card",18)(2,"div",19),e.YNc(3,Ba,1,0,"a",20),e.qZA(),e.TgZ(4,"div",21),e._UZ(5,"div",22),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==t.role)}}function Ga(i,s){if(1&i&&(e.TgZ(0,"div",15),e.YNc(1,$a,6,1,"div",16),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filteredGrades)}}function Ra(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.rowIndex;e.xp6(1),e.Oqu(t+1)}}function ja(i,s){if(1&i&&(e.TgZ(0,"div",5)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=s.value;e.xp6(2),e.Oqu(t)}}function Ka(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(t)}}function Pa(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.value;e.xp6(1),e.Oqu(t)}}function Wa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"label",33)(2,"input",34),e.NdJ("ngModelChange",function(n){const d=e.CHM(t).row;return e.KtG(d.status=n)})("change",function(){const o=e.CHM(t).rowIndex,d=e.oxw(2);return e.KtG(d.toggleStatus(o))}),e.qZA(),e._UZ(3,"span",35),e.qZA()()}if(2&i){const t=s.row;e.xp6(2),e.Q6J("ngModel",t.status)}}function Va(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"i",38),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(3);return e.KtG(d.editGrade(o))}),e.qZA(),e.TgZ(2,"i",39),e.NdJ("click",function(){const o=e.CHM(t).value,d=e.oxw(3);return e.KtG(d.deleteGrade(o))}),e.qZA()()}}function La(i,s){1&i&&(e.TgZ(0,"ngx-datatable-column",36),e.YNc(1,Va,3,0,"ng-template",27),e.qZA()),2&i&&e.Q6J("width",200)}function za(i,s){if(1&i&&(e.TgZ(0,"div",23)(1,"ngx-datatable",24,25)(3,"ngx-datatable-column",26),e.YNc(4,Ra,2,1,"ng-template",27),e.qZA(),e.TgZ(5,"ngx-datatable-column",28),e.YNc(6,ja,3,1,"ng-template",27),e.qZA(),e.TgZ(7,"ngx-datatable-column",29),e.YNc(8,Ka,2,1,"ng-template",27),e.qZA(),e.TgZ(9,"ngx-datatable-column",30),e.YNc(10,Pa,2,1,"ng-template",27),e.qZA(),e.TgZ(11,"ngx-datatable-column",31),e.YNc(12,Wa,4,1,"ng-template",27),e.qZA(),e.YNc(13,La,2,1,"ngx-datatable-column",32),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("rows",t.filteredGrades)("headerHeight",40)("footerHeight",50)("columnMode",t.ColumnMode.force)("count",10),e.xp6(2),e.Q6J("width",70)("canAutoResize",!1),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("width",200),e.xp6(2),e.Q6J("ngIf","INSTITUTE_ADMIN"==t.role)}}const eo=[{path:"details",component:ie},{path:"branch",component:Fe},{path:"department",component:ot},{path:"course",component:Ct},{path:"time-table",component:_n},{path:"holiday",component:$i},{path:"books",component:oa},{path:"attendence",component:Ea.Q},{path:"announcement",component:ba},{path:"fees",component:Ia},{path:"grading",component:(()=>{class i{constructor(t,a,n,o,d){this.dialog=t,this.toastr=a,this.authService=n,this.classService=o,this.instituteService=d,this.toggleValue="table",this.grades=[],this.filteredGrades=[],this.filterExamtext="",this.resultsLength=0,this.role="",this.selectedClass=0,this.ColumnMode=A.hq}ngOnInit(){this.role=this.authService.role,this.loadTableData()}loadTableData(){const t=this.instituteService.getGrades().subscribe(a=>{200==a.code?(this.grades=a.data,this.filteredGrades=a.data):this.toastr.error(a.message),t.unsubscribe()})}filterFees(){if(this.filterExamtext?.length>0){let t=this.filterExamtext.toLowerCase();this.filteredGrades=this.grades.filter(a=>a.name&&a.name.toLowerCase().includes(t))}else this.filteredGrades=[...this.grades]}addGrade(){this.dialog.open(G,{width:"60%",autoFocus:!1,data:{}}).componentInstance.confirmed.subscribe(a=>{a&&this.loadTableData()})}editGrade(t){this.dialog.open(G,{width:"60%",autoFocus:!1,data:{id:t}}).componentInstance.confirmed.subscribe(n=>{n&&this.loadTableData()})}deleteGrade(t){this.dialog.open(q.z,{width:"50%",autoFocus:!1,data:{title:"Delete Grade",message:"Are you sure you want to delete the selected grade?"}}).componentInstance.confirmed.subscribe(n=>{n&&this.instituteService.deleteGrade(t).subscribe(d=>{200==d.code?(this.loadTableData(),this.toastr.success(d.message)):this.toastr.error(d.message)})})}toggleStatus(t){}static#e=this.\u0275fac=function(a){return new(a||i)(e.Y36(f.uw),e.Y36(C._W),e.Y36(b.$),e.Y36(B.j),e.Y36(x.$))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-grade-dahboard"]],decls:16,vars:4,consts:[[1,"d-flex","justify-content-between","px-3","my-2"],[1,"title"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","m-2","mt-3","p-4"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center"],[1,"input-group","flex-nowrap"],[1,"input-group-text"],[1,"material-icons","icon"],["placeholder","Search","type","text","name","searchFee",1,"form-control",2,"width","350px",3,"ngModel","ngModelChange","keyup"],["searchFee","ngModel"],["class","row mt-2 pb-3","style","max-height: 69vh; overflow: auto;",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],[1,"row","mt-2","pb-3",2,"max-height","69vh","overflow","auto"],["class","col-3 my-2 px-4",4,"ngFor","ngForOf"],[1,"col-3","my-2","px-4"],[1,"shadow","mt-1"],[1,"img-download"],[4,"ngIf"],[1,"row","mt-2","mb-4","ps-2"],[1,"row"],[1,"mt-4"],["rowHeight","auto",1,"material","striped",3,"rows","headerHeight","footerHeight","columnMode","count"],["dataTable",""],["name","#",3,"width","canAutoResize"],["ngx-datatable-cell-template",""],["name","Name","prop","name",3,"width"],["name","Min. Marks","prop","minMarks",3,"width"],["name","Max. Marks","prop","maxMarks",3,"width"],["name","Status","prop","examStatus",3,"width"],["name","Action","prop","id",3,"width",4,"ngIf"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"slider","round"],["name","Action","prop","id",3,"width"],[1,"d-flex"],[1,"fa-solid","fa-pen-to-square","pointer","ms-3",2,"color","#1b3e99",3,"click"],[1,"fa","fa-trash","text-danger","ms-3","pointer",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Grade"),e.qZA(),e.YNc(3,Ha,3,0,"button",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"div"),e.TgZ(7,"div",5)(8,"div",6)(9,"span",7)(10,"i",8),e._uU(11,"search"),e.qZA()(),e.TgZ(12,"input",9,10),e.NdJ("ngModelChange",function(d){return n.filterExamtext=d})("keyup",function(){return n.filterFees()}),e.qZA()()()(),e.YNc(14,Ga,2,1,"div",11),e.YNc(15,za,14,12,"div",12),e.qZA()),2&a&&(e.xp6(3),e.Q6J("ngIf","INSTITUTE_ADMIN"==n.role),e.xp6(9),e.Q6J("ngModel",n.filterExamtext),e.xp6(2),e.Q6J("ngIf","card"==n.toggleValue),e.xp6(1),e.Q6J("ngIf","table"==n.toggleValue))},dependencies:[h.sg,h.O5,r.Fj,r.Wl,r.JJ,r.On,J.a8,A.nE,A.UC,A.vq],styles:['.form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{height:25px;width:55px;position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}']})}return i})()},{path:"grading/add",component:G},{path:"grading/edit/:id",component:G},{path:"time-table/add",component:_e},{path:"time-table/edit/:id",component:_e}];let to=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(eo),_.Bz]})}return i})();var he=g(3458),no=g(6166);let io=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[h.ez,to,F.ot,k.vV,p.Ps,r.u5,J.QW,v.p0,I.TU,f.Is,S.LD,A.xD,oe.Nh,de.A0,Q.rK,he._8.forRoot({provide:he._A,useFactory:no.x})]})}return i})()}}]);